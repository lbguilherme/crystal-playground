var HB=Object.defineProperty,jB=Object.defineProperties,VB=Object.getOwnPropertyDescriptors,jS=Object.getOwnPropertySymbols,UB=Object.prototype.hasOwnProperty,WB=Object.prototype.propertyIsEnumerable,VS=(qe,Ce,Ae)=>Ce in qe?HB(qe,Ce,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):qe[Ce]=Ae,US=(qe,Ce)=>{for(var Ae in Ce||(Ce={}))UB.call(Ce,Ae)&&VS(qe,Ae,Ce[Ae]);if(jS)for(var Ae of jS(Ce))WB.call(Ce,Ae)&&VS(qe,Ae,Ce[Ae]);return qe},WS=(qe,Ce)=>jB(qe,VB(Ce));(self.webpackChunkcrystal_playground=self.webpackChunkcrystal_playground||[]).push([[179],{605:(qe,Ce,Ae)=>{"use strict";function ge(e){return"function"==typeof e}function te(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ne=te(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function p(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class I{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){t=o instanceof ne?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{d(o)}catch(s){t=null!=t?t:[],s instanceof ne?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ne(t)}}add(t){var n;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof I){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&p(n,t)}remove(t){const{_teardowns:n}=this;n&&p(n,t),t instanceof I&&t._removeParent(this)}}I.EMPTY=(()=>{const e=new I;return e.closed=!0,e})();const _=I.EMPTY;function y(e){return e instanceof I||e&&"closed"in e&&ge(e.remove)&&ge(e.add)&&ge(e.unsubscribe)}function d(e){ge(e)?e():e.unsubscribe()}const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(...e){const{delegate:t}=M;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=M;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function A(e){M.setTimeout(()=>{const{onUnhandledError:t}=m;if(!t)throw e;t(e)})}function h(){}const g=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}let u=null;function c(e){if(m.useDeprecatedSynchronousErrorHandling){const t=!u;if(t&&(u={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=u;if(u=null,n)throw r}}else e()}class S extends I{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,y(t)&&t.add(this)):this.destination=L}static create(t,n,r){return new w(t,n,r)}next(t){this.isStopped?V(l("N",t,void 0),this):this._next(t)}error(t){this.isStopped?V(l("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?V(g,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class w extends S{constructor(t,n,r){let i;if(super(),ge(t))i=t;else if(t){let o;({next:i,error:n,complete:r}=t),this&&m.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,i=null==i?void 0:i.bind(o),n=null==n?void 0:n.bind(o),r=null==r?void 0:r.bind(o)}this.destination={next:i?T(i):h,error:T(null!=n?n:k),complete:r?T(r):h}}}function T(e,t){return(...n)=>{try{e(...n)}catch(r){m.useDeprecatedSynchronousErrorHandling?function(e){m.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=e)}(r):A(r)}}}function k(e){throw e}function V(e,t){const{onStoppedNotification:n}=m;n&&M.setTimeout(()=>n(e,t))}const L={closed:!0,next:h,error:k,complete:h},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(e){return e}let N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function(e){return e&&e instanceof S||function(e){return e&&ge(e.next)&&ge(e.error)&&ge(e.complete)}(e)&&y(e)}(n)?n:new w(n,r,i);return c(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=O(r))((i,o)=>{const s=new w({next:a=>{try{n(a)}catch(f){o(f),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[H](){return this}pipe(...n){return function(e){return 0===e.length?Z:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=O(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function O(e){var t;return null!==(t=null!=e?e:m.Promise)&&void 0!==t?t:Promise}const ie=te(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pe=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _e(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){c(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_:(o.push(n),new I(()=>p(o,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new N;return n.source=this,n}}return e.create=(t,n)=>new _e(t,n),e})();class _e extends pe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:_}}function Re(e){return t=>{if(function(e){return ge(null==e?void 0:e.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class xe extends S{constructor(t,n,r,i,o){super(t),this.onFinalize=o,this._next=n?function(s){try{n(s)}catch(a){t.error(a)}}:super._next,this._error=i?function(s){try{i(s)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function q(e,t){return Re((n,r)=>{let i=0;n.subscribe(new xe(r,o=>{r.next(e.call(t,o,i++))}))})}function Rn(e){return this instanceof Rn?(this.v=e,this):new Rn(e)}function cr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(G){r[G]&&(i[G]=function(j){return new Promise(function(X,ae){o.push([G,j,X,ae])>1||a(G,j)})})}function a(G,j){try{!function(G){G.value instanceof Rn?Promise.resolve(G.value.v).then(v,b):P(o[0][2],G)}(r[G](j))}catch(X){P(o[0][3],X)}}function v(G){a("next",G)}function b(G){a("throw",G)}function P(G,j){G(j),o.shift(),o.length&&a(o[0][0],o[0][1])}}function br(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,f){!function(o,s,a,f){Promise.resolve(f).then(function(v){o({value:v,done:a})},s)}(a,f,(s=e[o](s)).done,s.value)})}}}const ee=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ce(e){return ge(null==e?void 0:e.then)}function ye(e){return ge(e[H])}function be(e){return Symbol.asyncIterator&&ge(null==e?void 0:e[Symbol.asyncIterator])}function Xe(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Et(e){return ge(null==e?void 0:e[vt])}function pt(e){return cr(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Rn(n.read());if(i)return yield Rn(void 0);yield yield Rn(r)}}finally{n.releaseLock()}})}function xi(e){return ge(null==e?void 0:e.getReader)}function Vn(e){if(e instanceof N)return e;if(null!=e){if(ye(e))return function(e){return new N(t=>{const n=e[H]();if(ge(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ee(e))return function(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ce(e))return function(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,A)})}(e);if(be(e))return Li(e);if(Et(e))return function(e){return new N(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(xi(e))return function(e){return Li(pt(e))}(e)}throw Xe(e)}function Li(e){return new N(t=>{(function(e,t){var n,r,i,o;return function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(b){try{v(r.next(b))}catch(P){s(P)}}function f(b){try{v(r.throw(b))}catch(P){s(P)}}function v(b){b.done?o(b.value):function(o){return o instanceof n?o:new n(function(s){s(o)})}(b.value).then(a,f)}v((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=br(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function pn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ui(e,t,n=1/0){return ge(t)?ui((r,i)=>q((o,s)=>t(r,o,i,s))(Vn(e(r,i))),n):("number"==typeof t&&(n=t),Re((r,i)=>function(e,t,n,r,i,o,s,a){const f=[];let v=0,b=0,P=!1;const G=()=>{P&&!f.length&&!v&&t.complete()},j=ae=>v<r?X(ae):f.push(ae),X=ae=>{v++;let fe=!1;Vn(n(ae,b++)).subscribe(new xe(t,de=>{t.next(de)},()=>{fe=!0},void 0,()=>{if(fe)try{for(v--;f.length&&v<r;){const de=f.shift();X(de)}G()}catch(de){t.error(de)}}))};return e.subscribe(new xe(t,j,()=>{P=!0,G()})),()=>{}}(r,i,e,n)))}const jr=new N(e=>e.complete());function li(e){return e[e.length-1]}function Pi(e,t=0){return Re((n,r)=>{n.subscribe(new xe(r,i=>pn(r,e,()=>r.next(i),t),()=>pn(r,e,()=>r.complete(),t),i=>pn(r,e,()=>r.error(i),t)))})}function uo(e,t=0){return Re((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Fi(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{pn(n,t,()=>{const r=e[Symbol.asyncIterator]();pn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tr(e,t){return t?function(e,t){if(null!=e){if(ye(e))return function(e,t){return Vn(e).pipe(uo(t),Pi(t))}(e,t);if(ee(e))return function(e,t){return new N(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ce(e))return function(e,t){return Vn(e).pipe(uo(t),Pi(t))}(e,t);if(be(e))return Fi(e,t);if(Et(e))return function(e,t){return new N(n=>{let r;return pn(n,t,()=>{r=e[vt](),pn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ge(null==r?void 0:r.return)&&r.return()})}(e,t);if(xi(e))return function(e,t){return Fi(pt(e),t)}(e,t)}throw Xe(e)}(e,t):Vn(e)}function Wn(...e){const t=function(e){return function(e){return e&&ge(e.schedule)}(li(e))?e.pop():void 0}(e),n=function(e,t){return"number"==typeof li(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Vn(r[0]):function(e=1/0){return ui(Z,e)}(n)(tr(r,t)):jr}function fi(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Re((t,n)=>{let r=0;t.subscribe(new xe(n,i=>{++r<=1&&(n.next(i),1<=r&&n.complete())}))})).subscribe(()=>e())}function Ct(e){for(let t in e)if(e[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function Bi(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const _o=Ct({__forward_ref__:Ct});function _t(e){return e.__forward_ref__=_t,e.toString=function(){return rt(this())},e}function ze(e){return qo(e)?e():e}function qo(e){return"function"==typeof e&&e.hasOwnProperty(_o)&&e.__forward_ref__===_t}class wn extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function en(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Ni(e,t){const n=t?` in ${t}`:"";throw new wn("201",`No provider for ${en(e)} found${n}`)}function Ht(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ue(e){return{providers:e.providers||[],imports:e.imports||[]}}function We(e){return Je(e,an)||Je(e,gt)}function Je(e,t){return e.hasOwnProperty(t)?e[t]:null}function gn(e){return e&&(e.hasOwnProperty(tn)||e.hasOwnProperty(En))?e[tn]:null}const an=Ct({\u0275prov:Ct}),tn=Ct({\u0275inj:Ct}),gt=Ct({ngInjectableDef:Ct}),En=Ct({ngInjectorDef:Ct});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let Ur;function hr(e){const t=Ur;return Ur=e,t}function Wr(e,t,n){const r=We(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ge.Optional?null:void 0!==t?t:void Ni(rt(e),"Injector")}function On(e){return{toString:e}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),Dn=(()=>{return(e=Dn||(Dn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Dn;var e})();const af="undefined"!=typeof globalThis&&globalThis,GS="undefined"!=typeof window&&window,qS="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt=af||"undefined"!=typeof global&&global||GS||qS,ws={},xt=[],il=Ct({\u0275cmp:Ct}),uf=Ct({\u0275dir:Ct}),lf=Ct({\u0275pipe:Ct}),yg=Ct({\u0275mod:Ct}),ji=Ct({\u0275fac:Ct}),Ha=Ct({__NG_ELEMENT_ID__:Ct});let $S=0;function zo(e){return On(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||xt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Dn.Emulated,id:"c",styles:e.styles||xt,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=$S++,r.inputs=Sg(e.inputs,n),r.outputs=Sg(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(vg):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Cg):null,r})}function vg(e){return Pn(e)||function(e){return e[uf]||null}(e)}function Cg(e){return function(e){return e[lf]||null}(e)}const wg={};function Vi(e){return On(()=>{const t={type:e.type,bootstrap:e.bootstrap||xt,declarations:e.declarations||xt,imports:e.imports||xt,exports:e.exports||xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(wg[e.id]=e.type),t})}function Sg(e,t){if(null==e)return ws;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const tt=zo;function Pn(e){return e[il]||null}function Ar(e,t){const n=e[yg]||null;if(!n&&!0===t)throw new Error(`Type ${rt(e)} does not have '\u0275mod' property.`);return n}function hi(e){return Array.isArray(e)&&"object"==typeof e[1]}function qr(e){return Array.isArray(e)&&!0===e[1]}function hf(e){return 0!=(8&e.flags)}function ul(e){return 2==(2&e.flags)}function ll(e){return 1==(1&e.flags)}function $r(e){return null!==e.template}function QS(e){return 0!=(512&e[2])}function Qo(e,t){return e.hasOwnProperty(ji)?e[ji]:null}class tE{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function di(){return Dg}function Dg(e){return e.type.prototype.ngOnChanges&&(e.setInput=rE),nE}function nE(){const e=Ag(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ws)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function rE(e,t,n,r){const i=Ag(e)||function(e,t){return e[bg]=t}(e,{previous:ws,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],f=s[a];o[a]=new tE(f&&f.currentValue,t,s===ws),e[r]=t}di.ngInherit=!0;const bg="__ngSimpleChanges__";function Ag(e){return e[bg]||null}let gf;function Yt(e){return!!e.listen}const Tg={createRenderer:(e,t)=>void 0!==gf?gf:"undefined"!=typeof document?document:void 0};function un(e){for(;Array.isArray(e);)e=e[0];return e}function Tr(e,t){return un(t[e.index])}function mf(e,t){return e.data[t]}function pr(e,t){const n=t[e];return hi(n)?n:n[0]}function Rg(e){return 4==(4&e[2])}function yf(e){return 128==(128&e[2])}function wo(e,t){return null==t?null:e[t]}function xg(e){e[18]=0}function vf(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const et={lFrame:Hg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lg(){return et.bindingsEnabled}function Le(){return et.lFrame.lView}function wt(){return et.lFrame.tView}function _n(){let e=Og();for(;null!==e&&64===e.type;)e=e.parent;return e}function Og(){return et.lFrame.currentTNode}function pi(e,t){const n=et.lFrame;n.currentTNode=e,n.isParent=t}function Cf(){return et.lFrame.isParent}function fl(){return et.isInCheckNoChangesMode}function hl(e){et.isInCheckNoChangesMode=e}function vE(e,t){const n=et.lFrame;n.bindingIndex=n.bindingRootIndex=e,Sf(t)}function Sf(e){et.lFrame.currentDirectiveIndex=e}function Fg(){return et.lFrame.currentQueryIndex}function Df(e){et.lFrame.currentQueryIndex=e}function wE(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Bg(e,t,n){if(n&Ge.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Ge.Host||(i=wE(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=et.lFrame=Ng();return r.currentTNode=t,r.lView=e,!0}function dl(e){const t=Ng(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ng(){const e=et.lFrame,t=null===e?null:e.child;return null===t?Hg(e):t}function Hg(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function jg(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Vg=jg;function pl(){const e=jg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $n(){return et.lFrame.selectedIndex}function So(e){et.lFrame.selectedIndex=e}function gl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:f,ngAfterViewChecked:v,ngOnDestroy:b}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),f&&(e.viewHooks||(e.viewHooks=[])).push(-n,f),v&&((e.viewHooks||(e.viewHooks=[])).push(n,v),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,v)),null!=b&&(e.destroyHooks||(e.destroyHooks=[])).push(n,b)}}function _l(e,t,n){Ug(e,t,3,n)}function ml(e,t,n,r){(3&e[2])===n&&Ug(e,t,n,r)}function bf(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ug(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let f=void 0!==r?65535&e[18]:0;f<s;f++)if("number"==typeof t[f+1]){if(a=t[f],null!=r&&a>=r)break}else t[f]<0&&(e[18]+=65536),(a<o||-1==o)&&(RE(e,n,t,f),e[18]=(4294901760&e[18])+f+2),f++}function RE(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Ga{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function yl(e,t,n){const r=Yt(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],f=n[i++];r?e.setAttribute(t,a,f,s):t.setAttributeNS(s,a,f)}else{const s=o,a=n[++i];If(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Wg(e){return 3===e||4===e||6===e}function If(e){return 64===e.charCodeAt(0)}function vl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Gg(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Gg(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function qg(e){return-1!==e}function Ms(e){return 32767&e}function Ts(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Mf=!0;function Cl(e){const t=Mf;return Mf=e,t}let FE=0;function $a(e,t){const n=Rf(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Tf(r.data,e),Tf(t,null),Tf(r.blueprint,null));const i=wl(e,t),o=e.injectorIndex;if(qg(i)){const s=Ms(i),a=Ts(i,t),f=a[1].data;for(let v=0;v<8;v++)t[o+v]=a[s+v]|f[s+v]}return t[o+8]=i,o}function Tf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Sl(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ha)&&(r=n[Ha]),null==r&&(r=n[Ha]=FE++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Yg(e,t,n){if(n&Ge.Optional)return e;Ni(t,"NodeInjector")}function Kg(e,t,n,r){if(n&Ge.Optional&&void 0===r&&(r=null),0==(n&(Ge.Self|Ge.Host))){const i=e[9],o=hr(void 0);try{return i?i.get(t,r,n&Ge.Optional):Wr(t,r,n&Ge.Optional)}finally{hr(o)}}return Yg(r,t,n)}function Zg(e,t,n,r=Ge.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ha)?e[Ha]:void 0;return"number"==typeof t?t>=0?255&t:HE:t}(n);if("function"==typeof o){if(!Bg(t,e,r))return r&Ge.Host?Yg(i,n,r):Kg(t,n,r,i);try{const s=o(r);if(null!=s||r&Ge.Optional)return s;Ni(n)}finally{Vg()}}else if("number"==typeof o){let s=null,a=Rf(e,t),f=-1,v=r&Ge.Host?t[16][6]:null;for((-1===a||r&Ge.SkipSelf)&&(f=-1===a?wl(e,t):t[a+8],-1!==f&&Jg(r,!1)?(s=t[1],a=Ms(f),t=Ts(f,t)):a=-1);-1!==a;){const b=t[1];if(Qg(o,a,b.data)){const P=jE(a,t,n,s,r,v);if(P!==Xg)return P}f=t[a+8],-1!==f&&Jg(r,t[1].data[a+8]===v)&&Qg(o,a,t)?(s=b,a=Ms(f),t=Ts(f,t)):a=-1}}}return Kg(t,n,r,i)}const Xg={};function HE(){return new Rs(_n(),Le())}function jE(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],b=El(a,s,n,null==r?ul(a)&&Mf:r!=s&&0!=(3&a.type),i&Ge.Host&&o===a);return null!==b?za(t,s,b,a):Xg}function El(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,f=e.directiveStart,b=o>>20,G=i?a+b:e.directiveEnd;for(let j=r?a:a+b;j<G;j++){const X=s[j];if(j<f&&n===X||j>=f&&X.type===n)return j}if(i){const j=s[f];if(j&&$r(j)&&j.type===n)return f}return null}function za(e,t,n,r){let i=e[n];const o=t.data;if(function(e){return e instanceof Ga}(i)){const s=i;s.resolving&&function(e,t){throw new wn("200",`Circular dependency in DI detected for ${e}`)}(en(o[n]));const a=Cl(s.canSeeViewProviders);s.resolving=!0;const f=s.injectImpl?hr(s.injectImpl):null;Bg(e,r,Ge.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Dg(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==f&&hr(f),Cl(a),s.resolving=!1,Vg()}}return i}function Qg(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Jg(e,t){return!(e&Ge.Self||e&Ge.Host&&t)}class Rs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Zg(this._tNode,this._lView,t,r,n)}}function gr(e){return On(()=>{const t=e.prototype.constructor,n=t[ji]||xf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ji]||xf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xf(e){return qo(e)?()=>{const t=xf(ze(e));return t&&t()}:Qo(e)}const Ls="__parameters__";function Ps(e,t,n){return On(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(f,v,b){const P=f.hasOwnProperty(Ls)?f[Ls]:Object.defineProperty(f,Ls,{value:[]})[Ls];for(;P.length<=b;)P.push(null);return(P[b]=P[b]||[]).push(s),f}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class yt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Rr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Rr(r,t)):t!==e&&t.push(r)}return t}function gi(e,t){e.forEach(n=>Array.isArray(n)?gi(n,t):t(n))}function t_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Dl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _r(e,t,n){let r=ks(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function kf(e,t){const n=ks(e,t);if(n>=0)return e[1|n]}function ks(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Xa={},Bf="__NG_DI_FLAG__",Al="ngTempTokenPath",QE=/\n/gm,s_="__source",eD=Ct({provide:String,useValue:Ct});let Qa;function a_(e){const t=Qa;return Qa=e,t}function tD(e,t=Ge.Default){if(void 0===Qa)throw new Error("inject() must be called from an injection context");return null===Qa?Wr(e,void 0,t):Qa.get(e,t&Ge.Optional?null:void 0,t)}function Ft(e,t=Ge.Default){return(Ur||tD)(ze(e),t)}function Nf(e){const t=[];for(let n=0;n<e.length;n++){const r=ze(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=Ge.Default;for(let s=0;s<r.length;s++){const a=r[s],f=nD(a);"number"==typeof f?-1===f?i=a.token:o|=f:i=a}t.push(Ft(i,o))}else t.push(Ft(r))}return t}function Ja(e,t){return e[Bf]=t,e.prototype[Bf]=t,e}function nD(e){return e[Bf]}const Il=Ja(Ps("Inject",e=>({token:e})),-1),Fs=Ja(Ps("Optional"),8),eu=Ja(Ps("SkipSelf"),4);const I_="__ngContext__";function Fn(e,t){e[I_]=t}function zf(e){const t=function(e){return e[I_]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Kf(e){return e.ngOriginalError}function KD(e,...t){e.error(...t)}class Hs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=(e=t)&&e.ngErrorLogger||KD;var e;r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Kf(t);for(;n&&Kf(n);)n=Kf(n);return n||null}}const L_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function O_(e){return e.ownerDocument.defaultView}function mi(e){return e instanceof Function?e():e}var mr=(()=>((mr=mr||{})[mr.Important=1]="Important",mr[mr.DashCase=2]="DashCase",mr))();function Xf(e,t){return undefined(e,t)}function su(e){const t=e[3];return qr(t)?t[3]:t}function Qf(e){return N_(e[13])}function Jf(e){return N_(e[4])}function N_(e){for(;null!==e&&!qr(e);)e=e[4];return e}function Vs(e,t,n,r,i){if(null!=r){let o,s=!1;qr(r)?o=r:hi(r)&&(s=!0,r=r[0]);const a=un(r);0===e&&null!==n?null==i?G_(t,n,a):Jo(t,n,a,i||null,!0):1===e&&null!==n?Jo(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Ol(e,t);r&&function(e,t,n,r){Yt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==un(n)&&Vs(t,e,r,o,i);for(let a=10;a<n.length;a++){const f=n[a];au(f[1],f,e,t,r,o)}}(t,e,o,n,i)}}function th(e,t,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function j_(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,vf(i,-1)),n.splice(r,1)}function nh(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&j_(i,r),t>0&&(e[n-1][4]=r[4]);const o=Dl(e,10+t);!function(e,t){au(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function V_(e,t){if(!(256&t[2])){const n=t[11];Yt(n)&&n.destroyNode&&au(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return rh(e[1],e);for(;t;){let n=null;if(hi(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)hi(t)&&rh(t[1],t),t=t[3];null===t&&(t=e),hi(t)&&rh(t[1],t),n=t&&t[4]}t=n}}(t)}}function rh(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ga)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],f=o[s+1];try{f.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):un(t[s]),f=r[i=n[o+2]],v=n[o+3];"boolean"==typeof v?a.removeEventListener(n[o],f,v):v>=0?r[i=v]():r[i=-v].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Yt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&qr(t[3])){n!==t[3]&&j_(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function U_(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Dn.None||i===Dn.Emulated)return null}return Tr(r,n)}(e,t.parent,n)}function Jo(e,t,n,r,i){Yt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function G_(e,t,n){Yt(e)?e.appendChild(t,n):t.appendChild(n)}function q_(e,t,n,r,i){null!==r?Jo(e,t,n,r,i):G_(e,t,n)}function Ol(e,t){return Yt(e)?e.parentNode(t):t.parentNode}let Y_=function(e,t,n){return 40&e.type?Tr(e,n):null};function Pl(e,t,n,r){const i=U_(e,r,t),o=t[11],a=function(e,t,n){return Y_(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let f=0;f<n.length;f++)q_(o,i,n[f],a,!1);else q_(o,i,n,a,!1)}function kl(e,t){if(null!==t){const n=t.type;if(3&n)return Tr(t,e);if(4&n)return oh(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return kl(e,r);{const i=e[t.index];return qr(i)?oh(-1,i):un(i)}}if(32&n)return Xf(t,e)()||un(e[t.index]);{const r=Z_(e,t);return null!==r?Array.isArray(r)?r[0]:kl(su(e[16]),r):kl(e,t.next)}}return null}function Z_(e,t){return null!==t?e[16][6].projection[t.projection]:null}function oh(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return kl(r,i)}return t[7]}function sh(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],f=n.type;if(s&&0===t&&(a&&Fn(un(a),r),n.flags|=4),64!=(64&n.flags))if(8&f)sh(e,t,n.child,r,i,o,!1),Vs(t,e,i,a,o);else if(32&f){const v=Xf(n,r);let b;for(;b=v();)Vs(t,e,i,b,o);Vs(t,e,i,a,o)}else 16&f?Q_(e,t,r,n,i,o):Vs(t,e,i,a,o);n=s?n.projectionNext:n.next}}function au(e,t,n,r,i,o){sh(n,r,e.firstChild,t,i,o,!1)}function Q_(e,t,n,r,i,o){const s=n[16],f=s[6].projection[r.projection];if(Array.isArray(f))for(let v=0;v<f.length;v++)Vs(t,e,i,f[v],o);else sh(e,t,f,s[3],i,o,!0)}function J_(e,t,n){Yt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ah(e,t,n){Yt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function em(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const tm="ng-template";function Sb(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==em(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function nm(e){return 4===e.type&&e.value!==tm}function Eb(e,t,n){return t===(4!==e.type||n?e.value:tm)}function Db(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(Wg(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const f=t[a];if("number"!=typeof f){if(!s)if(4&r){if(r=2|1&r,""!==f&&!Eb(e,f,n)||""===f&&1===t.length){if(zr(r))return!1;s=!0}}else{const v=8&r?f:t[++a];if(8&r&&null!==e.attrs){if(!Sb(e.attrs,v,n)){if(zr(r))return!1;s=!0}continue}const P=bb(8&r?"class":f,i,nm(e),n);if(-1===P){if(zr(r))return!1;s=!0;continue}if(""!==v){let G;G=P>o?"":i[P+1].toLowerCase();const j=8&r?G:null;if(j&&-1!==em(j,v,0)||2&r&&v!==G){if(zr(r))return!1;s=!0}}}}else{if(!s&&!zr(r)&&!zr(f))return!1;if(s&&zr(f))continue;s=!1,r=f|1&r}}return zr(r)||s}function zr(e){return 0==(1&e)}function bb(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function rm(e,t,n=!1){for(let r=0;r<t.length;r++)if(Db(e,t[r],n))return!0;return!1}function im(e,t){return e?":not("+t.trim()+")":t}function Rb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!zr(s)&&(t+=im(o,i),i=""),r=s,o=o||!zr(r);n++}return""!==i&&(t+=im(o,i)),t}const nt={};function uu(e){om(wt(),Le(),$n()+e,fl())}function om(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&_l(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ml(t,o,0,n)}So(n)}function Fl(e,t){return e<<17|t<<2}function Yr(e){return e>>17&32767}function uh(e){return 2|e}function Gi(e){return(131068&e)>>2}function lh(e,t){return-131069&e|t<<2}function ch(e){return 1|e}function _m(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];Df(i),s.contentQueries(2,t[o],o)}}}function lu(e,t,n,r,i,o,s,a,f,v){const b=t.blueprint.slice();return b[0]=i,b[2]=140|r,xg(b),b[3]=b[15]=e,b[8]=n,b[10]=s||e&&e[10],b[11]=a||e&&e[11],b[12]=f||e&&e[12]||null,b[9]=v||e&&e[9]||null,b[6]=o,b[16]=2==t.type?e[16]:b,b}function Us(e,t,n,r,i){let o=e.data[t];if(null===o)o=function(e,t,n,r,i){const o=Og(),s=Cf(),f=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=f),null!==o&&(s?null==o.child&&null!==f.parent&&(o.child=f):null===o.next&&(o.next=f)),f}(e,t,n,r,i),et.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function(){const e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return pi(o,!0),o}function Ws(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function cu(e,t,n){dl(t);try{const r=e.viewQuery;null!==r&&Mh(1,r,n);const i=e.template;null!==i&&mm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_m(e,t),e.staticViewQueries&&Mh(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)hA(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,pl()}}function Gs(e,t,n,r){const i=t[2];if(256==(256&i))return;dl(t);const o=fl();try{xg(t),function(e){et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&mm(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const v=e.preOrderCheckHooks;null!==v&&_l(t,v,null)}else{const v=e.preOrderHooks;null!==v&&ml(t,v,0,null),bf(t,0)}if(function(e){for(let t=Qf(e);null!==t;t=Jf(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&vf(o,1),i[2]|=1024}}}(t),function(e){for(let t=Qf(e);null!==t;t=Jf(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];yf(r)&&Gs(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&_m(e,t),!o)if(s){const v=e.contentCheckHooks;null!==v&&_l(t,v)}else{const v=e.contentHooks;null!==v&&ml(t,v,1),bf(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)So(~i);else{const o=i,s=n[++r],a=n[++r];vE(s,o),a(2,t[o])}}}finally{So(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)fA(e,t[n])}(t,a);const f=e.viewQuery;if(null!==f&&Mh(2,f,r),!o)if(s){const v=e.viewCheckHooks;null!==v&&_l(t,v)}else{const v=e.viewHooks;null!==v&&ml(t,v,2),bf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,vf(t[3],-1))}finally{pl()}}function $b(e,t,n,r){const i=t[10],o=!fl(),s=Rg(t);try{o&&!s&&i.begin&&i.begin(),s&&cu(e,t,r),Gs(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function mm(e,t,n,r,i){const o=$n(),s=2&r;try{So(-1),s&&t.length>20&&om(e,t,20,fl()),n(r,i)}finally{So(o)}}function vm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Hl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Hl(e,t,n,r,i,o,s,a,f,v){const b=20+r,P=b+i,G=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:nt);return n}(b,P),j="function"==typeof v?v():v;return G[1]={type:e,blueprint:G,template:n,queries:null,viewQuery:a,declTNode:t,data:G.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:f,consts:j,incompleteFirstPass:!1}}function Sm(e,t,n,r){const i=Lm(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Om(e).push(r,i.length-1))}function Em(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function bm(e,t,n,r,i,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const f=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=f&&a.push(f),a.push(r,i,s)}}function Am(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Im(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function oA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;$r(t)&&(n[""]=e)}}function Mm(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Tm(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Qo(i.type)),s=new Ga(o,$r(i),null);e.blueprint[r]=s,n[r]=s,bm(e,t,0,r,Ws(e,n,i.hostVars,nt),i)}function sA(e,t,n){const r=Tr(t,e),i=vm(n),o=e[10],s=jl(e,lu(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function aA(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let f=0;f<s.length;){const v=s[f++],b=s[f++],P=s[f++];null!==a?r.setInput(n,P,v,b):n[b]=P}}}function uA(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function fA(e,t){const n=pr(t,e);if(yf(n)){const r=n[1];80&n[2]?Gs(r,n,r.template,n[8]):n[5]>0&&Dh(n)}}function Dh(e){for(let r=Qf(e);null!==r;r=Jf(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Gs(s,o,s.template,o[8])}else o[5]>0&&Dh(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=pr(n[r],e);yf(i)&&i[5]>0&&Dh(i)}}function hA(e,t){const n=pr(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),cu(r,n,n[8])}function jl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function bh(e){for(;e;){e[2]|=64;const t=su(e);if(QS(e)&&!t)return e;e=t}return null}function Ih(e,t,n){const r=t[10];r.begin&&r.begin();try{Gs(e,t,e.template,n)}catch(i){throw km(t,i),i}finally{r.end&&r.end()}}function xm(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=zf(n),i=r[1];$b(i,r,i.template,n)}}(e[8])}function Mh(e,t,n){Df(0),t(e,n)}const mA=(()=>Promise.resolve(null))();function Lm(e){return e[7]||(e[7]=[])}function Om(e){return e.cleanup||(e.cleanup=[])}function km(e,t){const n=e[9],r=n?n.get(Hs,null):null;r&&r.handleError(t)}function Fm(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],f=t[s],v=e.data[s];null!==v.setInput?v.setInput(f,i,r,a):f[a]=i}}function Vl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Vr(i,a):2==o&&(r=Vr(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Th=new yt("INJECTOR",-1);class Bm{get(t,n=Xa){if(n===Xa){const r=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw r.name="NullInjectorError",r}return n}}const Rh=new yt("Set Injector scope."),fu={},CA={};let xh;function Nm(){return void 0===xh&&(xh=new Bm),xh}function Hm(e,t=null,n=null,r){const i=jm(e,t,n,r);return i._resolveInjectorDefTypes(),i}function jm(e,t=null,n=null,r){return new wA(e,n,t||Nm(),r)}class wA{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&gi(n,a=>this.processProvider(a,t,n)),gi([t],a=>this.processInjectorType(a,[],o)),this.records.set(Th,qs(void 0,this));const s=this.records.get(Rh);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Xa,r=Ge.Default){this.assertNotDestroyed();const i=a_(this),o=hr(void 0);try{if(!(r&Ge.SkipSelf)){let a=this.records.get(t);if(void 0===a){const f=("function"==typeof(e=t)||"object"==typeof e&&e instanceof yt)&&We(t);a=f&&this.injectableDefInScope(f)?qs(Lh(t),fu):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ge.Self?Nm():this.parent).get(t,n=r&Ge.Optional&&n===Xa?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Al]=s[Al]||[]).unshift(rt(t)),i)throw s;return function(e,t,n,r){const i=e[Al];throw t[s_]&&i.unshift(t[s_]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=rt(t);if(Array.isArray(t))i=t.map(rt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(QE,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Al]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{hr(o),a_(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(rt(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=ze(t)))return!1;let i=gn(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=gn(o)),null==i)return!1;if(null!=i.imports&&!a){let b;r.push(s);try{gi(i.imports,P=>{this.processInjectorType(P,n,r)&&(void 0===b&&(b=[]),b.push(P))})}finally{}if(void 0!==b)for(let P=0;P<b.length;P++){const{ngModule:G,providers:j}=b[P];gi(j,X=>this.processProvider(X,G,j||xt))}}this.injectorDefTypes.add(s);const f=Qo(s)||(()=>new s);this.records.set(s,qs(f,fu));const v=i.providers;if(null!=v&&!a){const b=t;gi(v,P=>this.processProvider(P,b,v))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=$s(t=ze(t))?t:ze(t&&t.provide);const o=(e=t,Um(e)?qs(void 0,e.useValue):qs(Vm(e),fu));var e;if($s(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=qs(void 0,fu,!0),s.factory=()=>Nf(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===fu&&(n.value=CA,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ze(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Lh(e){const t=We(e),n=null!==t?t.factory:Qo(e);if(null!==n)return n;if(e instanceof yt)throw new Error(`Token ${rt(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${rt(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[an]||e[gt]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Vm(e,t,n){let r;if($s(e)){const i=ze(e);return Qo(i)||Lh(i)}if(Um(e))r=()=>ze(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Nf(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Ft(ze(e.useExisting));else{const i=ze(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Qo(i)||Lh(i);r=()=>new i(...Nf(e.deps))}return r}function qs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Um(e){return null!==e&&"object"==typeof e&&eD in e}function $s(e){return"function"==typeof e}let vr=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return Hm({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return Hm({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Xa,e.NULL=new Bm,e.\u0275prov=Oe({token:e,providedIn:"any",factory:()=>Ft(Th)}),e.__NG_ELEMENT_ID__=-1,e})();function BA(e,t){gl(zf(e)[1],_n())}function Lt(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if($r(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=kh(e.inputs),s.declaredInputs=kh(e.declaredInputs),s.outputs=kh(e.outputs);const a=i.hostBindings;a&&VA(e,a);const f=i.viewQuery,v=i.contentQueries;if(f&&HA(e,f),v&&jA(e,v),Bi(e.inputs,i.inputs),Bi(e.declaredInputs,i.declaredInputs),Bi(e.outputs,i.outputs),$r(i)&&i.data.animation){const b=e.data;b.animation=(b.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Lt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=vl(i.hostAttrs,n=vl(n,i.hostAttrs))}}(r)}function kh(e){return e===ws?{}:e===xt?[]:e}function HA(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function jA(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function VA(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Ul=null;function zs(){if(!Ul){const e=Rt.Symbol;if(e&&e.iterator)Ul=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ul=r)}}}return Ul}function hu(e){return!!Fh(e)&&(Array.isArray(e)||!(e instanceof Map)&&zs()in e)}function Fh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Be(e,t=Ge.Default){const n=Le();return null===n?Ft(e,t):Zg(_n(),n,ze(e),t)}function ts(e,t,n){const r=Le();return Bn(r,et.lFrame.bindingIndex++,t)&&function(e,t,n,r,i,o,s,a){const f=Tr(t,n);let b,v=t.inputs;!a&&null!=v&&(b=v[r])?(Fm(e,n,b,r,i),ul(t)&&function(e,t){const n=pr(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Yt(o)?o.setProperty(f,r,i):If(r)||(f.setProperty?f.setProperty(r,i):f[r]=i))}(wt(),function(){const e=et.lFrame;return mf(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),ts}function Vh(e,t,n,r,i){const s=i?"class":"style";Fm(e,n,t.inputs[s],s,r)}function Cr(e,t,n,r){const i=Le(),o=wt(),s=20+e,a=i[11],f=i[s]=th(a,t,et.lFrame.currentNamespace),v=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,v=Us(t,e,2,i,wo(a,o));return function(e,t,n,r){let i=!1;if(Lg()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];rm(n,s.selectors,!1)&&(i||(i=[]),Sl($a(n,t),e,s.type),$r(s)?(Im(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Mm(n,e.data.length,o.length);for(let b=0;b<o.length;b++){const P=o[b];P.providersResolver&&P.providersResolver(P)}let a=!1,f=!1,v=Ws(e,t,o.length,null);for(let b=0;b<o.length;b++){const P=o[b];n.mergedAttrs=vl(n.mergedAttrs,P.hostAttrs),Tm(e,n,t,v,P),oA(v,P,s),null!==P.contentQueries&&(n.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(n.flags|=128);const G=P.type.prototype;!a&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!f&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),f=!0),v++}!function(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let a=null,f=null;for(let v=t.directiveStart;v<r;v++){const b=i[v],P=b.inputs,G=null===o||nm(t)?null:uA(P,o);s.push(G),a=Em(P,v,a),f=Em(b.outputs,v,f)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=f}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new wn("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],o)}}}(n,r,s)}n.mergedAttrs=vl(n.mergedAttrs,n.attrs)}(t,n,v,wo(a,s)),null!==v.attrs&&Vl(v,v.attrs,!1),null!==v.mergedAttrs&&Vl(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(s,o,i,0,t,n,r):o.data[s];pi(v,!0);const b=v.mergedAttrs;null!==b&&yl(a,f,b);const P=v.classes;null!==P&&ah(a,f,P);const G=v.styles;null!==G&&J_(a,f,G),64!=(64&v.flags)&&Pl(o,i,f,v),0===et.lFrame.elementDepthCount&&Fn(f,i),et.lFrame.elementDepthCount++,ll(v)&&(function(e,t,n){!Lg()||(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||$a(n,t),Fn(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const f=e.data[a],v=$r(f);v&&sA(t,n,f);const b=za(t,e,a,n);Fn(b,t),null!==s&&aA(0,a-i,b,f,0,s),v&&(pr(n.index,t)[8]=b)}}(e,t,n,Tr(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=et.lFrame.currentDirectiveIndex;try{So(s);for(let f=r;f<i;f++){const v=e.data[f],b=t[f];Sf(f),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Am(v,b)}}finally{So(-1),Sf(a)}}(e,t,n))}(o,i,v),function(e,t,n){if(hf(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,v,i)),null!==r&&function(e,t,n=Tr){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(i,v)}function wr(){let e=_n();Cf()?et.lFrame.isParent=!1:(e=e.parent,pi(e,!1));const t=e;et.lFrame.elementDepthCount--;const n=wt();n.firstCreatePass&&(gl(n,e),hf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Vh(n,t,Le(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Vh(n,t,Le(),t.stylesWithoutHost,!1)}function ia(e,t,n,r){Cr(e,t,n,r),wr()}function ql(e){return!!e&&"function"==typeof e.then}const Ey=function(e){return!!e&&"function"==typeof e.subscribe};function In(e,t,n,r){const i=Le(),o=wt(),s=_n();return function(e,t,n,r,i,o,s,a){const f=ll(r),b=e.firstCreatePass&&Om(e),P=t[8],G=Lm(t);let j=!0;if(3&r.type||a){const fe=Tr(r,t),de=a?a(fe):fe,he=G.length,De=a?Te=>a(un(Te[r.index])):r.index;if(Yt(n)){let Te=null;if(!a&&f&&(Te=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],f=i[o+2];return a.length>f?a[f]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=o,Te.__ngLastListenerFn__=o,j=!1;else{o=Uh(r,t,P,o,!1);const Fe=n.listen(de,i,o);G.push(o,Fe),b&&b.push(i,De,he,he+1)}}else o=Uh(r,t,P,o,!0),de.addEventListener(i,o,s),G.push(o),b&&b.push(i,De,he,s)}else o=Uh(r,t,P,o,!1);const X=r.outputs;let ae;if(j&&null!==X&&(ae=X[i])){const fe=ae.length;if(fe)for(let de=0;de<fe;de+=2){const Ye=t[ae[de]][ae[de+1]].subscribe(o),st=G.length;G.push(o,Ye),b&&b.push(i,r.index,st,-(st+1))}}}(o,i,i[11],s,e,t,!!n,r),In}function Ay(e,t,n,r){try{return!1!==n(r)}catch(i){return km(e,i),!1}}function Uh(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?pr(e.index,t):t;0==(32&t[2])&&bh(a);let f=Ay(t,0,r,s),v=o.__ngNextListenerFn__;for(;v;)f=Ay(t,0,v,s)&&f,v=v.__ngNextListenerFn__;return i&&!1===f&&(s.preventDefault(),s.returnValue=!1),f}}function Fy(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Yr(o):Gi(o),f=!1;for(;0!==a&&(!1===f||s);){const b=e[a+1];TI(e[a],t)&&(f=!0,e[a+1]=r?ch(b):uh(b)),a=r?Yr(b):Gi(b)}f&&(e[n+1]=r?uh(o):ch(o))}function TI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ks(e,t)>=0}function $l(e,t){return function(e,t,n,r){const i=Le(),o=wt(),s=function(e){const t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[$n()],s=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=pu(n=Gh(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Gh(i,e,t,n,r),null===o){let f=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Gi(r))return e[Yr(r)]}(e,t,r);void 0!==f&&Array.isArray(f)&&(f=Gh(null,e,t,f[1],r),f=pu(f,t.attrs,r),function(e,t,n,r){e[Yr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,f))}else o=function(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=pu(r,e[o].hostAttrs,n);return pu(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Yr(s),f=Gi(s);e[r]=n;let b,v=!1;if(Array.isArray(n)){const P=n;b=P[1],(null===b||ks(P,b)>0)&&(v=!0)}else b=n;if(i)if(0!==f){const G=Yr(e[a+1]);e[r+1]=Fl(G,a),0!==G&&(e[G+1]=lh(e[G+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Fl(a,0),0!==a&&(e[a+1]=lh(e[a+1],r)),a=r;else e[r+1]=Fl(f,0),0===a?a=r:e[f+1]=lh(e[f+1],r),f=r;v&&(e[r+1]=uh(e[r+1])),Fy(e,b,r,!0),Fy(e,b,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ks(o,t)>=0&&(n[r+1]=ch(n[r+1]))}(t,b,e,r,o),s=Fl(a,f),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==nt&&Bn(i,s,t)&&function(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const f=e.data,v=f[a+1];zl(function(e){return 1==(1&e)}(v)?Yy(f,t,n,i,Gi(v),s):void 0)||(zl(o)||function(e){return 2==(2&e)}(v)&&(o=Yy(f,null,n,i,a,s)),function(e,t,n,r,i){const o=Yt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:mr.DashCase;if(null==i)o?e.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=mr.Important),o?e.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,function(e,t){return un(t[e])}($n(),n),i,o))}(o,o.data[$n()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=rt(function(e){return e instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}(e,t,null,!0),$l}function Gh(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=pu(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function pu(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_r(e,s,!!n||t[++o]))}return void 0===e?null:e}function Yy(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const f=e[i],v=Array.isArray(f),b=v?f[1]:f,P=null===b;let G=n[i+1];G===nt&&(G=P?xt:void 0);let j=P?kf(G,r):b===r?G:void 0;if(v&&!zl(j)&&(j=kf(f,r)),zl(j)&&(a=j,s))return a;const X=e[i+1];i=s?Yr(X):Gi(X)}if(null!==t){let f=o?t.residualClasses:t.residualStyles;null!=f&&(a=kf(f,r))}return a}function zl(e){return void 0!==e}function sa(e,t=""){const n=Le(),r=wt(),i=e+20,o=r.firstCreatePass?Us(r,i,1,t,null):r.data[i],s=n[i]=function(e,t){return Yt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Pl(r,n,s,o),pi(o,!1)}const ns=void 0;var cM=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let aa={};function mv(e){return e in aa||(aa[e]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[e]),aa[e]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const Yl="en-US";let yv=Yl;function Yh(e,t,n,r,i){if(e=ze(e),Array.isArray(e))for(let o=0;o<e.length;o++)Yh(e[o],t,n,r,i);else{const o=wt(),s=Le();let a=$s(e)?e:ze(e.provide),f=Vm(e);const v=_n(),b=1048575&v.providerIndexes,P=v.directiveStart,G=v.providerIndexes>>20;if($s(e)||!e.multi){const j=new Ga(f,i,Be),X=Zh(a,t,i?b:b+G,P);-1===X?(Sl($a(v,s),o,a),Kh(o,e,t.length),t.push(a),v.directiveStart++,v.directiveEnd++,i&&(v.providerIndexes+=1048576),n.push(j),s.push(j)):(n[X]=j,s[X]=j)}else{const j=Zh(a,t,b+G,P),X=Zh(a,t,b,b+G),ae=j>=0&&n[j],fe=X>=0&&n[X];if(i&&!fe||!i&&!ae){Sl($a(v,s),o,a);const de=function(e,t,n,r,i){const o=new Ga(e,n,Be);return o.multi=[],o.index=t,o.componentProviders=0,Uv(o,i,r&&!n),o}(i?uT:aT,n.length,i,r,f);!i&&fe&&(n[X].providerFactory=de),Kh(o,e,t.length,0),t.push(a),v.directiveStart++,v.directiveEnd++,i&&(v.providerIndexes+=1048576),n.push(de),s.push(de)}else Kh(o,e,j>-1?j:X,Uv(n[i?X:j],f,!i&&r));!i&&r&&fe&&n[X].componentProviders++}}}function Kh(e,t,n,r){const i=$s(t),o=function(e){return!!e.useClass}(t);if(i||o){const f=(o?ze(t.useClass):t).prototype.ngOnDestroy;if(f){const v=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const b=v.indexOf(n);-1===b?v.push(n,[r,f]):v[b+1].push(r,f)}else v.push(n,f)}}}function Uv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Zh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function aT(e,t,n,r){return Xh(this.multi,[])}function uT(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=za(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Xh(i,o);for(let f=s;f<a.length;f++)o.push(a[f])}else o=[],Xh(i,o);return o}function Xh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function jt(e,t=[]){return n=>{n.providersResolver=(r,i)=>function(e,t,n){const r=wt();if(r.firstCreatePass){const i=$r(e);Yh(n,r.data,r.blueprint,i,!0),Yh(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Wv{}class hT{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${rt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let vu=(()=>{class e{}return e.NULL=new hT,e})();function dT(){return la(_n(),Le())}function la(e,t){return new Qr(Tr(e,t))}let Qr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=dT,e})();function pT(e){return e instanceof Qr?e.nativeElement:e}class qv{}let rs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=Le(),n=pr(_n().index,e);return function(e){return e[11]}(hi(n)?n:e)}(),e})(),mT=(()=>{class e{}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>null}),e})();class Jl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yT=new Jl("13.1.1"),Qh={};function ec(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(un(o)),qr(o))for(let a=10;a<o.length;a++){const f=o[a],v=f[1].firstChild;null!==v&&ec(f[1],f,v,r)}const s=n.type;if(8&s)ec(e,t,n.child,r);else if(32&s){const a=Xf(n,t);let f;for(;f=a();)r.push(f)}else if(16&s){const a=Z_(t,n);if(Array.isArray(a))r.push(...a);else{const f=su(t[16]);ec(f[1],f,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Cu{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return ec(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(qr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(nh(t,r),Dl(n,r))}this._attachedToViewContainer=!1}V_(this._lView[1],this._lView)}onDestroy(t){Sm(this._lView[1],this._lView,null,t)}markForCheck(){bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ih(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){hl(!0);try{Ih(e,t,n)}finally{hl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,au(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class vT extends Cu{constructor(t){super(t),this._view=t}detectChanges(){xm(this._view)}checkNoChanges(){!function(e){hl(!0);try{xm(e)}finally{hl(!1)}}(this._view)}get context(){return null}}class $v extends vu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Pn(t);return new Jh(n,this.ngModule)}}function zv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const wT=new yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>L_});class Jh extends Wv{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Rb).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return zv(this.componentDef.inputs)}get outputs(){return zv(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,Qh,i);return o!==Qh||r===Qh?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(qv,Tg),a=o.get(mT,null),f=s.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=r?function(e,t,n){if(Yt(e))return e.selectRootElement(t,n===Dn.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(f,r,this.componentDef.encapsulation):th(s.createRenderer(null,this.componentDef),v,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(v)),P=this.componentDef.onPush?576:528,G=function(e,t){return{components:[],scheduler:e||L_,clean:mA,playerHandler:t||null,flags:0}}(),j=Hl(0,null,null,1,0,null,null,null,null,null),X=lu(null,j,G,P,null,null,s,f,a,o);let ae,fe;dl(X);try{const de=function(e,t,n,r,i,o){const s=n[1];n[20]=e;const f=Us(s,20,2,"#host",null),v=f.mergedAttrs=t.hostAttrs;null!==v&&(Vl(f,v,!0),null!==e&&(yl(i,e,v),null!==f.classes&&ah(i,e,f.classes),null!==f.styles&&J_(i,e,f.styles)));const b=r.createRenderer(e,t),P=lu(n,vm(t),null,t.onPush?64:16,n[20],f,r,b,o||null,null);return s.firstCreatePass&&(Sl($a(f,n),s,t.type),Im(s,f),Mm(f,n.length,1)),jl(n,P),n[20]=P}(b,this.componentDef,X,s,f);if(b)if(r)yl(f,b,["ng-version",yT.full]);else{const{attrs:he,classes:De}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!zr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);he&&yl(f,b,he),De&&De.length>0&&ah(f,b,De.join(" "))}if(fe=mf(j,20),void 0!==n){const he=fe.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const Te=n[De];he.push(null!=Te?Array.from(Te):null)}}ae=function(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=_n();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Tm(e,r,t,Ws(e,t,1,null),n));const i=za(t,e,r.directiveStart,r);Fn(i,t);const o=Tr(r,t);return o&&Fn(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(f=>f(s,t)),t.contentQueries){const f=_n();t.contentQueries(1,s,f.directiveStart)}const a=_n();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(So(a.index),bm(n[1],a,0,a.directiveStart,a.directiveEnd,t),Am(t,s)),s}(de,this.componentDef,X,G,[BA]),cu(j,X,null)}finally{pl()}return new DT(this.componentType,ae,la(fe,X),X,fe)}}class DT extends class{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new vT(i),this.componentType=t}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class ca{}const fa=new Map;class Zv extends ca{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $v(this);const r=Ar(t);this._bootstrapComponents=mi(r.bootstrap),this._r3Injector=jm(t,n,[{provide:ca,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=vr.THROW_IF_NOT_FOUND,r=Ge.Default){return t===vr||t===ca||t===Th?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ed extends class{}{constructor(t){super(),this.moduleType=t,null!==Ar(t)&&function(e){const t=new Set;!function n(r){const i=Ar(r,!0),o=i.id;null!==o&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${rt(t)} vs ${rt(t.name)}`)}(o,fa.get(o),r),fa.set(o,r));const s=mi(i.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new Zv(this.moduleType,t)}}function td(e){return t=>{setTimeout(e,void 0,t)}}const Mn=class extends pe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let a=t,f=n||(()=>null),v=r;if(t&&"object"==typeof t){const P=t;a=null===(i=P.next)||void 0===i?void 0:i.bind(P),f=null===(o=P.error)||void 0===o?void 0:o.bind(P),v=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}this.__isAsync&&(f=td(f),a&&(a=td(a)),v&&(v=td(v)));const b=super.subscribe({next:a,error:f,complete:v});return t instanceof I&&t.add(b),b}};function $T(){return this._results[zs()]()}class nd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=zs(),r=nd.prototype;r[n]||(r[n]=$T)}get changes(){return this._changes||(this._changes=new Mn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Rr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zi=(()=>{class e{}return e.__NG_ELEMENT_ID__=KT,e})();const zT=zi,YT=class extends zT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=lu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),cu(n,r,t),new Cu(r)}};function KT(){return tc(_n(),Le())}function tc(e,t){return 4&e.type?new YT(t,e,la(e,t)):null}let Si=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZT,e})();function ZT(){return o0(_n(),Le())}const XT=Si,n0=class extends XT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const t=wl(this._hostTNode,this._hostLView);if(qg(t)){const n=Ts(t,this._hostLView),r=Ms(t);return new Rs(n[1].data[r+8],n)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=r0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=t&&!("function"==typeof t);let a;if(s)a=n;else{const P=n||{};a=P.index,r=P.injector,i=P.projectableNodes,o=P.ngModuleRef}const f=s?t:new Jh(Pn(t)),v=r||this.parentInjector;if(!o&&null==f.ngModule&&v){const P=v.get(ca,null);P&&(o=P)}const b=f.create(v,i,void 0,o);return this.insert(b.hostView,a),b}insert(t,n){const r=t._lView,i=r[1];if(qr(r[3])){const b=this.indexOf(t);if(-1!==b)this.detach(b);else{const P=r[3],G=new n0(P,P[6],P[3]);G.detach(G.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],t_(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,s,o);const a=oh(o,s),f=r[11],v=Ol(f,s[7]);return null!==v&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,au(e,r,n,1,i,o)}(i,s[6],f,r,v,a),t.attachToViewContainerRef(),t_(rd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=r0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=nh(this._lContainer,n);r&&(Dl(rd(this._lContainer),n),V_(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=nh(this._lContainer,n);return r&&null!=Dl(rd(this._lContainer),n)?new Cu(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function r0(e){return e[8]}function rd(e){return e[8]||(e[8]=[])}function o0(e,t){let n;const r=t[e.index];if(qr(r))n=r;else{let i;if(8&e.type)i=un(r);else{const o=t[11];i=o.createComment("");const s=Tr(e,t);Jo(o,Ol(o,s),i,function(e,t){return Yt(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),jl(t,n)}return new n0(n,e,t)}class id{constructor(t){this.queryList=t,this.matches=null}clone(){return new id(this.queryList)}setDirty(){this.queryList.setDirty()}}class od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new od(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==c0(t,n).matches&&this.queries[n].setDirty()}}class s0{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class sd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new sd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ad{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ad(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,eR(n,o)),this.matchTNodeWithReadOption(t,n,El(n,t,o,!1,!1))}else r===zi?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,El(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qr||i===Si||i===zi&&4&n.type)this.addMatch(n.index,-2);else{const o=El(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function eR(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function nR(e,t,n,r){return-1===n?function(e,t){return 11&e.type?la(e,t):4&e.type?tc(e,t):null}(t,e):-2===n?function(e,t,n){return n===Qr?la(t,e):n===zi?tc(t,e):n===Si?o0(t,e):void 0}(e,t,r):za(e,e[1],n,t)}function a0(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let f=0;f<s.length;f+=2){const v=s[f];a.push(v<0?null:nR(t,o[v],s[f+1],n.metadata.read))}i.matches=a}return i.matches}function ud(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=a0(e,t,i,n);for(let a=0;a<o.length;a+=2){const f=o[a];if(f>0)r.push(s[a/2]);else{const v=o[a+1],b=t[-f];for(let P=10;P<b.length;P++){const G=b[P];G[17]===G[3]&&ud(G[1],G,v,r)}if(null!==b[9]){const P=b[9];for(let G=0;G<P.length;G++){const j=P[G];ud(j[1],j,v,r)}}}}}return r}function nc(e){const t=Le(),n=wt(),r=Fg();Df(r+1);const i=c0(n,r);if(e.dirty&&Rg(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?ud(n,t,r,[]):a0(n,t,i,r);e.reset(o,pT),e.notifyOnChanges()}return!0}return!1}function rc(e,t,n){const r=wt();r.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new sd),e.queries.track(new ad(t,n))}(r,new s0(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function(e,t,n){const r=new nd(4==(4&n));Sm(e,t,r,r.destroy),null===t[19]&&(t[19]=new od),t[19].queries.push(new id(r))}(r,Le(),t)}function ic(){return e=Le(),t=Fg(),e[19].queries[t].queryList;var e,t}function c0(e,t){return e.queries.getByIndex(t)}function ac(...e){}const pd=new yt("Application Initializer");let da=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ac,this.reject=ac,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ql(o))n.push(o);else if(Ey(o)){const s=new Promise((a,f)=>{o.subscribe({complete:a,error:f})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ft(pd,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const Du=new yt("AppId"),bR={provide:Du,useFactory:function(){return`${gd()}${gd()}${gd()}`},deps:[]};function gd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const I0=new yt("Platform Initializer"),_d=new yt("Platform ID"),AR=new yt("appBootstrapListener");let IR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const Io=new yt("LocaleId"),M0=new yt("DefaultCurrencyCode");class MR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let T0=(()=>{class e{compileModuleSync(n){return new ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=mi(Ar(n).declarations).reduce((s,a)=>{const f=Pn(a);return f&&s.push(new Jh(f)),s},[]);return new MR(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const RR=(()=>Promise.resolve(0))();function md(e){"undefined"==typeof Zone?RR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Tn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=Rt.requestAnimationFrame,t=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vd(e),e.isCheckStableRunning=!0,yd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return R0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),x0(e)}},onInvoke:(n,r,i,o,s,a,f)=>{try{return R0(e),n.invoke(i,o,s,a,f)}finally{e.shouldCoalesceRunChangeDetection&&t(),x0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,vd(e),yd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,LR,ac,ac);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const LR={};function yd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function R0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function x0(e){e._nesting--,yd(e)}class kR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Cd=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tn.assertNotInAngularZone(),md(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())md(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ft(Tn))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),L0=(()=>{class e{constructor(){this._applications=new Map,wd.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wd.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class FR{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Jr,wd=new FR;const O0=new yt("AllowMultipleToken");function P0(e,t,n=[]){const r=`Platform: ${t}`,i=new yt(r);return(o=[])=>{let s=k0();if(!s||s.injector.get(O0,!1))if(e)e(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:Rh,useValue:"platform"});!function(e){if(Jr&&!Jr.destroyed&&!Jr.injector.get(O0,!1))throw new wn("400","");Jr=e.get(F0);const t=e.get(I0,null);t&&t.forEach(n=>n())}(vr.create({providers:a,name:r}))}return function(e){const t=k0();if(!t)throw new wn("401","");return t}()}}function k0(){return Jr&&!Jr.destroyed?Jr:null}let F0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(e,t){let n;return n="noop"===e?new kR:("zone.js"===e?void 0:e)||new Tn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),f=[{provide:Tn,useValue:a}];return a.run(()=>{const v=vr.create({providers:f,parent:this.injector,name:n.moduleType.name}),b=n.create(v),P=b.injector.get(Hs,null);if(!P)throw new wn("402","");return a.runOutsideAngular(()=>{const G=a.onError.subscribe({next:j=>{P.handleError(j)}});b.onDestroy(()=>{Sd(this._modules,b),G.unsubscribe()})}),function(e,t,n){try{const r=n();return ql(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(P,a,()=>{const G=b.injector.get(da);return G.runInitializers(),G.donePromise.then(()=>(function(e){Ht(e,"Expected localeId to be defined"),"string"==typeof e&&(yv=e.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Io,Yl)||Yl),this._moduleDoBootstrap(b),b))})})}bootstrapModule(n,r=[]){const i=B0({},r);return function(e,t,n){const r=new ed(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(uc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new wn("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wn("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ft(vr))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function B0(e,t){return Array.isArray(t)?t.reduce(B0,e):Object.assign(Object.assign({},e),t)}let uc=(()=>{class e{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new N(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),f=new N(v=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Tn.assertNotInAngularZone(),md(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Tn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{b.unsubscribe(),P.unsubscribe()}});this.isStable=Wn(a,f.pipe(function(e={}){const{connector:t=(()=>new pe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,a=null,f=null,v=0,b=!1,P=!1;const G=()=>{null==a||a.unsubscribe(),a=null},j=()=>{G(),s=f=null,b=P=!1},X=()=>{const ae=s;j(),null==ae||ae.unsubscribe()};return Re((ae,fe)=>{v++,!P&&!b&&G();const de=f=null!=f?f:t();fe.add(()=>{v--,0===v&&!P&&!b&&(a=fi(X,i))}),de.subscribe(fe),s||(s=new w({next:he=>de.next(he),error:he=>{P=!0,G(),a=fi(j,n,he),de.error(he)},complete:()=>{b=!0,G(),a=fi(j,r),de.complete()}}),tr(ae).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new wn("405","");let i;i=n instanceof Wv?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ca),a=i.create(vr.NULL,[],r||i.selector,o),f=a.location.nativeElement,v=a.injector.get(Cd,null),b=v&&a.injector.get(L0);return v&&b&&b.registerApplication(f,v),a.onDestroy(()=>{this.detachView(a.hostView),Sd(this.components,a),b&&b.unregisterApplication(f)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new wn("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Sd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(AR,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Ft(Tn),Ft(vr),Ft(Hs),Ft(vu),Ft(da))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function Sd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let H0=!0,U0=(()=>{class e{}return e.__NG_ELEMENT_ID__=zR,e})();function zR(e){return function(e,t,n){if(ul(e)&&!n){const r=pr(e.index,t);return new Cu(r,r)}return 47&e.type?new Cu(t[16],t):null}(_n(),Le(),16==(16&e))}class z0{constructor(){}supports(t){return hu(t)}create(t){return new ex(t)}}const JR=(e,t)=>t;class ex{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<K0(r,i,o)?n:r,a=K0(s,i,o),f=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const v=a-i,b=f-i;if(v!=b){for(let G=0;G<v;G++){const j=G<o.length?o[G]:o[G]=0,X=j+G;b<=X&&X<v&&(o[G]=j+1)}o[s.previousIndex]=b-v}}a!==f&&t(s,a,f)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!hu(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[zs()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new tx(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Y0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tx{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Y0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new nx,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Z0{constructor(){}supports(t){return t instanceof Map||Fh(t)}create(){return new rx}}class rx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Fh(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new ix(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class ix{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new bu([new z0])}let bu=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||X0()),deps:[[e,new eu,new Fs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:X0}),e})();function Q0(){return new pa([new Z0])}let pa=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Q0()),deps:[[e,new eu,new Fs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:Q0}),e})();const sx=[new Z0],ux=new bu([new z0]),lx=new pa(sx),cx=P0(null,"core",[{provide:_d,useValue:"unknown"},{provide:F0,deps:[vr]},{provide:L0,deps:[]},{provide:IR,deps:[]}]),gx=[{provide:uc,useClass:uc,deps:[Tn,vr,Hs,vu,da]},{provide:wT,deps:[Tn],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:da,useClass:da,deps:[[new Fs,pd]]},{provide:T0,useClass:T0,deps:[]},bR,{provide:bu,useFactory:function(){return ux},deps:[]},{provide:pa,useFactory:function(){return lx},deps:[]},{provide:Io,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||Yl},deps:[[new Il(Io),new Fs,new eu]]},{provide:M0,useValue:"USD"}];let mx=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ft(uc))},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({providers:gx}),e})(),cc=null;function os(){return cc}const Ei=new yt("DocumentToken");var cn=(()=>((cn=cn||{})[cn.Zero=0]="Zero",cn[cn.One=1]="One",cn[cn.Two=2]="Two",cn[cn.Few=3]="Few",cn[cn.Many=4]="Many",cn[cn.Other=5]="Other",cn))();const Rx=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=mv(t);if(n)return n;const r=t.split("-")[0];if(n=mv(r),n)return n;if("en"===r)return cM;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[je.PluralCase]};class Cc{}let oL=(()=>{class e extends Cc{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Rx(r||this.locale)(n)){case cn.Zero:return"zero";case cn.One:return"one";case cn.Two:return"two";case cn.Few:return"few";case cn.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(Ft(Io))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),dC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({providers:[{provide:Cc,useClass:oL}]}),e})();class Hd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Hd,cc||(cc=e)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null);return null==n?null:function(e){wc=wc||document.createElement("a"),wc.setAttribute("href",e);const t=wc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let wc,Mu=null;const _C=new yt("TRANSITION_ID"),YL=[{provide:pd,useFactory:function(e,t,n){return()=>{n.get(da).donePromise.then(()=>{const r=os(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[_C,Ei,vr],multi:!0}];class jd{static init(){var e;e=new jd,wd=e}addToWindow(t){Rt.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rt.getAllAngularRootElements=()=>t.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(f){s=s||f,o--,0==o&&r(s)};i.forEach(function(f){f.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?os().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let KL=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const Sc=new yt("EventManagerPlugins");let Ec=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Sc),Ft(Tn))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class mC{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=os().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let yC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Tu=(()=>{class e extends yC{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(vC),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(vC))}}return e.\u0275fac=function(n){return new(n||e)(Ft(Ei))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function vC(e){os().remove(e)}const Vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ud=/%COMP%/g;function Dc(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Dc(e,i,n):(i=i.replace(Ud,e),n.push(i))}return n}function SC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Dn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new tO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Dn.ShadowDom:return new nO(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Dc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ft(Ec),Ft(Tu),Ft(Du))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class Gd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Vd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Vd[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Vd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(mr.DashCase|mr.Important)?t.style.setProperty(n,r,i&mr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&mr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,SC(r)):this.eventManager.addEventListener(t,n,SC(r))}}class tO extends Gd{constructor(t,n,r,i){super(t),this.component=r;const o=Dc(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Ud,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Ud,i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class nO extends Gd{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dc(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let rO=(()=>{class e extends mC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ft(Ei))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const DC=["alt","control","meta","shift"],oO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let aO=(()=>{class e extends mC{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>os().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(DC.forEach(f=>{const v=r.indexOf(f);v>-1&&(r.splice(v,1),s+=f+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&bC.hasOwnProperty(t)&&(t=bC[t]))}return oO[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),DC.forEach(o=>{o!=i&&sO[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ft(Ei))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const hO=P0(cx,"browser",[{provide:_d,useValue:"browser"},{provide:I0,useValue:function(){Hd.makeCurrent(),jd.init()},multi:!0},{provide:Ei,useFactory:function(){return e=document,gf=e,document;var e},deps:[]}]),dO=[{provide:Rh,useValue:"root"},{provide:Hs,useFactory:function(){return new Hs},deps:[]},{provide:Sc,useClass:rO,multi:!0,deps:[Ei,Tn,_d]},{provide:Sc,useClass:aO,multi:!0,deps:[Ei]},{provide:Wd,useClass:Wd,deps:[Ec,Tu,Du]},{provide:qv,useExisting:Wd},{provide:yC,useExisting:Tu},{provide:Tu,useClass:Tu,deps:[Ei]},{provide:Cd,useClass:Cd,deps:[Tn]},{provide:Ec,useClass:Ec,deps:[Sc,Tn]},{provide:class{},useClass:KL,deps:[]}];let pO=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Du,useValue:n.appId},{provide:_C,useExisting:Du},YL]}}}return e.\u0275fac=function(n){return new(n||e)(Ft(e,12))},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({providers:dO,imports:[dC,mx]}),e})();"undefined"!=typeof window&&window;const{isArray:bO}=Array,{getPrototypeOf:AO,prototype:IO,keys:MO}=Object;const{isArray:xO}=Array;function MC(e){return q(t=>function(e,t){return xO(t)?e(...t):e(t)}(e,t))}function OO(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function PO(...e){const t=function(e){return ge(li(e))?e.pop():void 0}(e),{args:n,keys:r}=function(e){if(1===e.length){const t=e[0];if(bO(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&AO(e)===IO}(t)){const n=MO(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new N(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let f=s,v=s;for(let b=0;b<s;b++){let P=!1;Vn(n[b]).subscribe(new xe(o,G=>{P||(P=!0,v--),a[b]=G},()=>f--,void 0,()=>{(!f||!P)&&(v||o.next(r?OO(r,a):a),o.complete())}))}});return t?i.pipe(MC(t)):i}let TC=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(Be(rs),Be(Qr))},e.\u0275dir=tt({type:e}),e})(),ss=(()=>{class e extends TC{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=gr(e)))(r||e)}}(),e.\u0275dir=tt({type:e,features:[Lt]}),e})();const ni=new yt("NgValueAccessor"),kO={provide:ni,useExisting:_t(()=>$d),multi:!0};let $d=(()=>{class e extends ss{writeValue(n){this.setProperty("checked",n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=gr(e)))(r||e)}}(),e.\u0275dir=tt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&In("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[jt([kO]),Lt]}),e})();const FO={provide:ni,useExisting:_t(()=>zd),multi:!0},NO=new yt("CompositionEventMode");let zd=(()=>{class e extends TC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=os()?os().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(Be(rs),Be(Qr),Be(NO,8))},e.\u0275dir=tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&In("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[jt([FO]),Lt]}),e})();const Nn=new yt("NgValidators"),Ro=new yt("NgAsyncValidators");function HC(e){return null!=e}function jC(e){const t=ql(e)?tr(e):e;return Ey(t),t}function VC(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function UC(e,t){return t.map(n=>n(e))}function WC(e){return e.map(t=>function(e){return!e.validate}(t)?t:n=>t.validate(n))}function Yd(e){return null!=e?function(e){if(!e)return null;const t=e.filter(HC);return 0==t.length?null:function(n){return VC(UC(n,t))}}(WC(e)):null}function Kd(e){return null!=e?function(e){if(!e)return null;const t=e.filter(HC);return 0==t.length?null:function(n){return PO(UC(n,t).map(jC)).pipe(q(VC))}}(WC(e)):null}function $C(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Zd(e){return e?Array.isArray(e)?e:[e]:[]}function bc(e,t){return Array.isArray(e)?e.includes(t):e===t}function KC(e,t){const n=Zd(t);return Zd(e).forEach(i=>{bc(n,i)||n.push(i)}),n}function ZC(e,t){return Zd(t).filter(n=>!bc(e,n))}class XC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Yd(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class xo extends XC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn extends XC{get formDirective(){return null}get path(){return null}}let JC=(()=>{class e extends class{constructor(t){this._cd=t}is(t){var n,r,i;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(Be(xo,2))},e.\u0275dir=tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&$l("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Lt]}),e})();function xu(e,t){(function(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators($C(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators($C(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Tc(t._rawValidators,i),Tc(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ew(e,t)})}(e,t),function(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ew(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Tc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function ew(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function xc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Lu="VALID",Lc="INVALID",ga="PENDING",Ou="DISABLED";function np(e){return(ip(e)?e.validators:e)||null}function rw(e){return Array.isArray(e)?Yd(e):e||null}function rp(e,t){return(ip(t)?t.asyncValidators:e)||null}function iw(e){return Array.isArray(e)?Kd(e):e||null}function ip(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class op{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=rw(this._rawValidators),this._composedAsyncValidatorFn=iw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Lu}get invalid(){return this.status===Lc}get pending(){return this.status==ga}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=iw(t)}addValidators(t){this.setValidators(KC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ZC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ZC(t,this._rawAsyncValidators))}hasValidator(t){return bc(this._rawValidators,t)}hasAsyncValidator(t){return bc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ga,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Lu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lu||this.status===ga)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:Lu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator=!0;const n=jC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(i=>{r=r instanceof sp?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof JO&&r.at(i)||null}),r}(this,t)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?Lc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(Lc)?Lc:Lu}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ip(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Oc extends op{constructor(t=null,n,r){super(np(n),rp(r,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=null,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sp extends op{constructor(t,n,r){super(np(n),rp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n instanceof Oc?n.value:n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((n,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class JO extends op{constructor(t,n,r){super(np(n),rp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t instanceof Oc?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((n,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const n2={provide:xo,useExisting:_t(()=>up)},aw=(()=>Promise.resolve(null))();let up=(()=>{class e extends xo{constructor(n,r,i,o){super(),this.control=new Oc,this._registered=!1,this.update=new Mn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===zd?n=o:function(e){return Object.getPrototypeOf(e.constructor)===ss}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){aw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;aw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(n){return new(n||e)(Be(Zn,9),Be(Nn,10),Be(Ro,10),Be(ni,10))},e.\u0275dir=tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([n2]),Lt,di]}),e})(),lw=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({}),e})(),I2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({imports:[[lw]]}),e})(),M2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({imports:[I2]}),e})();const T2=["addListener","removeListener"],R2=["addEventListener","removeEventListener"],x2=["on","off"];function gp(e,t,n,r){if(ge(n)&&(r=n,n=void 0),r)return gp(e,t,n).pipe(MC(r));const[i,o]=function(e){return ge(e.addEventListener)&&ge(e.removeEventListener)}(e)?R2.map(s=>a=>e[s](t,a,n)):function(e){return ge(e.addListener)&&ge(e.removeListener)}(e)?T2.map(Iw(e,t)):function(e){return ge(e.on)&&ge(e.off)}(e)?x2.map(Iw(e,t)):[];if(!i&&ee(e))return ui(s=>gp(s,t,n))(Vn(e));if(!i)throw new TypeError("Invalid event target");return new N(s=>{const a=(...f)=>s.next(1<f.length?f:f[0]);return i(a),()=>o(a)})}function Iw(e,t){return n=>r=>e[n](t,r)}const k2=["editorContainer"],_p=new yt("NGX_MONACO_EDITOR_CONFIG");let Tw,Mw=!1,F2=(()=>{class e{constructor(n){this.config=n,this.onInit=new Mn}ngAfterViewInit(){Mw?Tw.then(()=>{this.initMonaco(this._options)}):(Mw=!0,Tw=new Promise(n=>{const r=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void n();const i=()=>{window.require.config({paths:{vs:`${r}`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),n()})};if(window.require)i();else{const o=document.createElement("script");o.type="text/javascript",o.src=`${r}/loader.js`,o.addEventListener("load",i),document.body.appendChild(o)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return e.\u0275fac=function(n){return new(n||e)(Be(_p))},e.\u0275cmp=zo({type:e,selectors:[["ng-component"]],viewQuery:function(n,r){if(1&n&&rc(k2,7),2&n){let i;nc(i=ic())&&(r._editorContainer=i.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(n,r){},encapsulation:2}),e})(),B2=(()=>{class e extends F2{constructor(n,r){super(r),this.zone=n,this.editorConfig=r,this._value="",this.propagateChange=i=>{},this.onTouched=()=>{}}set options(n){this._options=Object.assign({},this.config.defaultOptions,n),this._editor&&(this._editor.dispose(),this.initMonaco(n))}get options(){return this._options}set model(n){this.options.model=n,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(n){this._value=n||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.onTouched=n}initMonaco(n){const r=!!n.model;if(r){const i=monaco.editor.getModel(n.model.uri||"");i?(n.model=i,n.model.setValue(this._value)):n.model=monaco.editor.createModel(n.model.value,n.model.language,n.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,n),r||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(i=>{const o=this._editor.getValue();this.zone.run(()=>{this.propagateChange(o),this._value=o})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=gp(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return e.\u0275fac=function(n){return new(n||e)(Be(Tn),Be(_p))},e.\u0275cmp=zo({type:e,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[jt([{provide:ni,useExisting:_t(()=>e),multi:!0}]),Lt],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(n,r){1&n&&ia(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),e})(),N2=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:_p,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Ue({imports:[[dC]]}),e})();function Rw(e,t,n,r,i,o,s){try{var a=e[o](s),f=a.value}catch(v){return void n(v)}a.done?t(f):Promise.resolve(f).then(r,i)}function Di(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(f){Rw(o,r,i,s,a,"next",f)}function a(f){Rw(o,r,i,s,a,"throw",f)}s(void 0)})}}var H2=Ae(656),j2=Ae(52),V2=Ae(577);const U2={onMonacoLoad:()=>Di(function*(){monaco.languages.register({id:"crystal"})})()};function mp(){return mp=Di(function*(e){yield(0,H2.loadWASM)(yield(yield fetch("/assets/onigasm.wasm")).arrayBuffer());const t=yield(yield fetch("/assets/crystal.json")).text(),n=new j2.Registry({getGrammarDefinition:(i=Di(function*(o){return{format:"json",content:t}}),function(s){return i.apply(this,arguments)})}),r=new Map;var i;r.set("crystal","source.cr"),yield(0,V2.p)(monaco,n,r,e)}),mp.apply(this,arguments)}var Xt=Ae(172);const as=BigInt(1),Oo=BigInt(2),_a=BigInt(4),ma=BigInt(8),Po=BigInt(16),vp=BigInt(32),ko=BigInt(64),ya=BigInt(128),Bc=BigInt(256),Cp=BigInt(512),wp=BigInt(1024),Sp=BigInt(2048),Ep=BigInt(4096),Nc=BigInt(8192),Hc=BigInt(16384),Dp=BigInt(32768),bp=BigInt(65536),Ap=BigInt(131072),Ip=BigInt(262144),Mp=BigInt(524288),Tp=BigInt(1048576),Fo=BigInt(2097152),jc=BigInt(4194304),Vc=BigInt(8388608),Rp=BigInt(16777216),xp=BigInt(33554432),Lp=BigInt(67108864),us=BigInt(134217728),Nw=BigInt(268435456),Fu=as|Oo|_a|ma|Po|vp|ko|ya|Bc|Cp|wp|Sp|Ep|Nc|Hc|Dp|bp|Ap|Ip|Mp|Tp|Fo|Vc|jc|Rp|Lp|xp|us|Nw,kk=Fu,Fk=Fu,Bk=Fu,Nk=Fu,Hw=as|Oo|_a|ma|Po|vp|ko|ya|Bc|Fo|jc|Vc|us,Hk=BigInt(0),Op=ma|Po|ya|Cp|wp|Sp|Ep|Nc|Hc|Dp|bp|Ap|Ip|Mp|Tp|Fo|Vc|Rp|Lp|xp|us,jw=Op|Hw,Vw=Oo|ma|ko|Fo|us|Nw,Uw=Fu,jk=Oo|ma|ko|Fo|us,Vk=BigInt(0),tF={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},zw={6:"SIGHUP",8:"SIGINT",11:"SIGQUIT",7:"SIGILL",15:"SIGTRAP",0:"SIGABRT",2:"SIGBUS",5:"SIGFPE",9:"SIGKILL",20:"SIGUSR1",12:"SIGSEGV",21:"SIGUSR2",10:"SIGPIPE",1:"SIGALRM",14:"SIGTERM",3:"SIGCHLD",4:"SIGCONT",13:"SIGSTOP",16:"SIGTSTP",17:"SIGTTIN",18:"SIGTTOU",19:"SIGURG",23:"SIGXCPU",24:"SIGXFSZ",22:"SIGVTALRM"},nF=as|Oo|Po|ya|Fo|us,Kw=as|ko|Po|ya|Fo|us,rF=Kw,ls=e=>{const t=Math.trunc(e),n=BigInt(Math.round(1e6*(e-t)));return BigInt(t)*BigInt(1e6)+n},Ea=e=>{"number"==typeof e&&(e=Math.trunc(e));const t=BigInt(e);return Number(t/BigInt(1e6))},bt=e=>(...t)=>{try{return e(...t)}catch(n){if(n&&n.code&&"string"==typeof n.code)return tF[n.code]||28;if(n instanceof Bu)return n.errno;throw n}},Zw=(e,t)=>{const n=e.FD_MAP.get(t);if(!n)throw new Bu(8);if(void 0===n.filetype){const r=e.bindings.fs.fstatSync(n.real),{filetype:i,rightsBase:o,rightsInheriting:s}=Xw(e,t,r);n.filetype=i,n.rights||(n.rights={base:o,inheriting:s})}return n},Xw=(e,t,n)=>{switch(!0){case n.isBlockDevice():return{filetype:1,rightsBase:kk,rightsInheriting:Fk};case n.isCharacterDevice():{const r=2;return void 0!==t&&e.bindings.isTTY(t)?{filetype:r,rightsBase:jk,rightsInheriting:Vk}:{filetype:r,rightsBase:Bk,rightsInheriting:Nk}}case n.isDirectory():return{filetype:3,rightsBase:Op,rightsInheriting:jw};case n.isFIFO():return{filetype:6,rightsBase:Vw,rightsInheriting:Uw};case n.isFile():return{filetype:4,rightsBase:Hw,rightsInheriting:Hk};case n.isSocket():return{filetype:6,rightsBase:Vw,rightsInheriting:Uw};case n.isSymbolicLink():return{filetype:7,rightsBase:BigInt(0),rightsInheriting:BigInt(0)};default:return{filetype:0,rightsBase:BigInt(0),rightsInheriting:BigInt(0)}}};class Bu extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,Bu.prototype)}}class Nu extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,Nu.prototype)}}class Pp extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,Pp.prototype)}}const iF=(()=>{class e{constructor(n){let r={};n&&n.preopens?r=n.preopens:n&&n.preopenDirectories&&(r=n.preopenDirectories);let i={};n&&n.env&&(i=n.env);let s,o=[];n&&n.args&&(o=n.args),n&&n.bindings&&(s=n.bindings),this.memory=void 0,this.view=void 0,this.bindings=s,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:nF,inheriting:BigInt(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:Kw,inheriting:BigInt(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:rF,inheriting:BigInt(0)},path:void 0}]]);let a=this.bindings.fs,f=this.bindings.path;for(const[j,X]of Object.entries(r)){const ae=a.openSync(X,a.constants.O_RDONLY),fe=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(fe,{real:ae,filetype:3,rights:{base:Op,inheriting:jw},fakePath:j,path:X})}const v=(j,X)=>(this.refreshMemory(),Array.from({length:X},(fe,de)=>{const he=j+8*de,De=this.view.getUint32(he,!0),Te=this.view.getUint32(he+4,!0);return new Uint8Array(this.memory.buffer,De,Te)})),b=(j,X)=>{const ae=Zw(this,j);if(X!==BigInt(0)&&(ae.rights.base&X)===BigInt(0))throw new Bu(63);return ae},P=s.hrtime(),G=j=>{switch(j){case 1:return s.hrtime();case 0:return ls(Date.now());case 2:case 3:return s.hrtime()-P;default:return null}};this.wasiImport={args_get:(j,X)=>{this.refreshMemory();let ae=j,fe=X;return o.forEach(de=>{this.view.setUint32(ae,fe,!0),ae+=4,fe+=Xt.lW.from(this.memory.buffer).write(`${de}\0`,fe)}),0},args_sizes_get:(j,X)=>{this.refreshMemory(),this.view.setUint32(j,o.length,!0);const ae=o.reduce((fe,de)=>fe+Xt.lW.byteLength(de)+1,0);return this.view.setUint32(X,ae,!0),0},environ_get:(j,X)=>{this.refreshMemory();let ae=j,fe=X;return Object.entries(i).forEach(([de,he])=>{this.view.setUint32(ae,fe,!0),ae+=4,fe+=Xt.lW.from(this.memory.buffer).write(`${de}=${he}\0`,fe)}),0},environ_sizes_get:(j,X)=>{this.refreshMemory();const ae=Object.entries(i).map(([de,he])=>`${de}=${he}\0`),fe=ae.reduce((de,he)=>de+Xt.lW.byteLength(he),0);return this.view.setUint32(j,ae.length,!0),this.view.setUint32(X,fe,!0),0},clock_res_get:(j,X)=>{let ae=BigInt(0);switch(j){case 1:case 2:case 3:ae=BigInt(1);break;case 0:ae=BigInt(1e3)}return this.view.setBigUint64(X,ae),0},clock_time_get:(j,X,ae)=>{this.refreshMemory();const fe=G(j);return null===fe?28:(this.view.setBigUint64(ae,BigInt(fe),!0),0)},fd_advise:bt((j,X,ae,fe)=>(b(j,ya),52)),fd_allocate:bt((j,X,ae)=>(b(j,Bc),52)),fd_close:bt(j=>{const X=b(j,BigInt(0));return a.closeSync(X.real),this.FD_MAP.delete(j),0}),fd_datasync:bt(j=>{const X=b(j,as);return a.fdatasyncSync(X.real),0}),fd_fdstat_get:bt((j,X)=>{var ae;const fe=b(j,BigInt(0));return this.refreshMemory(),this.view.setUint8(X,null!==(ae=fe.filetype)&&void 0!==ae?ae:0),this.view.setUint16(X+2,0,!0),this.view.setUint16(X+4,0,!0),this.view.setBigUint64(X+8,BigInt(fe.rights.base),!0),this.view.setBigUint64(X+8+8,BigInt(fe.rights.inheriting),!0),0}),fd_fdstat_set_flags:bt((j,X)=>(b(j,ma),52)),fd_fdstat_set_rights:bt((j,X,ae)=>{const fe=b(j,BigInt(0));return(fe.rights.base|X)>fe.rights.base||(fe.rights.inheriting|ae)>fe.rights.inheriting?63:(fe.rights.base=X,fe.rights.inheriting=ae,0)}),fd_filestat_get:bt((j,X)=>{var ae;const fe=b(j,Fo),de=a.fstatSync(fe.real);return this.refreshMemory(),this.view.setBigUint64(X,BigInt(de.dev),!0),this.view.setBigUint64(X+=8,BigInt(de.ino),!0),this.view.setUint8(X+=8,null!==(ae=fe.filetype)&&void 0!==ae?ae:0),this.view.setBigUint64(X+=8,BigInt(de.nlink),!0),this.view.setBigUint64(X+=8,BigInt(de.size),!0),this.view.setBigUint64(X+=8,ls(de.atimeMs),!0),this.view.setBigUint64(X+=8,ls(de.mtimeMs),!0),this.view.setBigUint64(X+=8,ls(de.ctimeMs),!0),0}),fd_filestat_set_size:bt((j,X)=>{const ae=b(j,jc);return a.ftruncateSync(ae.real,Number(X)),0}),fd_filestat_set_times:bt((j,X,ae,fe)=>{const de=b(j,Vc),he=a.fstatSync(de.real);let De=he.atime,Te=he.mtime;const Fe=Ea(G(0));return 3==(3&fe)||12==(12&fe)?28:(1==(1&fe)?De=Ea(X):2==(2&fe)&&(De=Fe),4==(4&fe)?Te=Ea(ae):8==(8&fe)&&(Te=Fe),a.futimesSync(de.real,new Date(De),new Date(Te)),0)}),fd_prestat_get:bt((j,X)=>{const ae=b(j,BigInt(0));return ae.path?(this.refreshMemory(),this.view.setUint8(X,0),this.view.setUint32(X+4,Xt.lW.byteLength(ae.fakePath),!0),0):28}),fd_prestat_dir_name:bt((j,X,ae)=>{const fe=b(j,BigInt(0));return fe.path?(this.refreshMemory(),Xt.lW.from(this.memory.buffer).write(fe.fakePath,X,ae,"utf8"),0):28}),fd_pwrite:bt((j,X,ae,fe,de)=>{const he=b(j,ko|_a);let De=0;return v(X,ae).forEach(Te=>{let Fe=0;for(;Fe<Te.byteLength;)Fe+=a.writeSync(he.real,Te,Fe,Te.byteLength-Fe,Number(fe)+De+Fe);De+=Fe}),this.view.setUint32(de,De,!0),0}),fd_write:bt((j,X,ae,fe)=>{const de=b(j,ko);let he=0;return v(X,ae).forEach(De=>{let Te=0;for(;Te<De.byteLength;){const Fe=a.writeSync(de.real,De,Te,De.byteLength-Te,de.offset?Number(de.offset):null);de.offset&&(de.offset+=BigInt(Fe)),Te+=Fe}he+=Te}),this.view.setUint32(fe,he,!0),0}),fd_pread:bt((j,X,ae,fe,de)=>{const he=b(j,Oo|_a);let De=0;e:for(const Te of v(X,ae)){let Fe=0;for(;Fe<Te.byteLength;){const Ye=Te.byteLength-Fe,st=a.readSync(he.real,Te,Fe,Te.byteLength-Fe,Number(fe)+De+Fe);if(Fe+=st,De+=st,0===st||st<Ye)break e}}return this.view.setUint32(de,De,!0),0}),fd_read:bt((j,X,ae,fe)=>{const de=b(j,Oo),he=0===de.real;let De=0;e:for(const Te of v(X,ae)){let Fe=0;for(;Fe<Te.byteLength;){let Ye=Te.byteLength-Fe,st=he||void 0===de.offset?null:Number(de.offset),Vt=a.readSync(de.real,Te,Fe,Ye,st);if(he||(de.offset=(de.offset?de.offset:BigInt(0))+BigInt(Vt)),Fe+=Vt,De+=Vt,0===Vt||Vt<Ye)break e}}return this.view.setUint32(fe,De,!0),0}),fd_readdir:bt((j,X,ae,fe,de)=>{const he=b(j,Hc);this.refreshMemory();const De=a.readdirSync(he.path,{withFileTypes:!0}),Te=X;for(let Ye=Number(fe);Ye<De.length;Ye+=1){const st=De[Ye];let Vt=Xt.lW.byteLength(st.name);if(X-Te>ae||(this.view.setBigUint64(X,BigInt(Ye+1),!0),(X+=8)-Te>ae))break;const Qe=a.statSync(f.resolve(he.path,st.name));if(this.view.setBigUint64(X,BigInt(Qe.ino),!0),(X+=8)-Te>ae||(this.view.setUint32(X,Vt,!0),(X+=4)-Te>ae))break;let $t;switch(!0){case Qe.isBlockDevice():$t=1;break;case Qe.isCharacterDevice():$t=2;break;case Qe.isDirectory():$t=3;break;case Qe.isFIFO():$t=6;break;case Qe.isFile():$t=4;break;case Qe.isSocket():$t=6;break;case Qe.isSymbolicLink():$t=7;break;default:$t=0}if(this.view.setUint8(X,$t),X+=1,(X+=3)+Vt>=Te+ae)break;Xt.lW.from(this.memory.buffer).write(st.name,X),X+=Vt}return this.view.setUint32(de,Math.min(X-Te,ae),!0),0}),fd_renumber:bt((j,X)=>(b(j,BigInt(0)),b(X,BigInt(0)),a.closeSync(this.FD_MAP.get(j).real),this.FD_MAP.set(j,this.FD_MAP.get(X)),this.FD_MAP.delete(X),0)),fd_seek:bt((j,X,ae,fe)=>{var de;const he=b(j,_a);switch(this.refreshMemory(),ae){case 1:he.offset=(he.offset?he.offset:BigInt(0))+BigInt(X);break;case 2:const{size:De}=a.fstatSync(he.real);he.offset=BigInt(De)+BigInt(X);break;case 0:he.offset=BigInt(X)}return this.view.setBigUint64(fe,null!==(de=he.offset)&&void 0!==de?de:BigInt(0),!0),0}),fd_tell:bt((j,X)=>{const ae=b(j,vp);return this.refreshMemory(),ae.offset||(ae.offset=BigInt(0)),this.view.setBigUint64(X,ae.offset,!0),0}),fd_sync:bt(j=>{const X=b(j,Po);return a.fsyncSync(X.real),0}),path_create_directory:bt((j,X,ae)=>{const fe=b(j,Cp);if(!fe.path)return 28;this.refreshMemory();const de=Xt.lW.from(this.memory.buffer,X,ae).toString();return a.mkdirSync(f.resolve(fe.path,de)),0}),path_filestat_get:bt((j,X,ae,fe,de)=>{const he=b(j,Ip);if(!he.path)return 28;this.refreshMemory();const De=Xt.lW.from(this.memory.buffer,ae,fe).toString(),Te=a.statSync(f.resolve(he.path,De));return this.view.setBigUint64(de,BigInt(Te.dev),!0),this.view.setBigUint64(de+=8,BigInt(Te.ino),!0),this.view.setUint8(de+=8,Xw(this,void 0,Te).filetype),this.view.setBigUint64(de+=8,BigInt(Te.nlink),!0),this.view.setBigUint64(de+=8,BigInt(Te.size),!0),this.view.setBigUint64(de+=8,ls(Te.atimeMs),!0),this.view.setBigUint64(de+=8,ls(Te.mtimeMs),!0),this.view.setBigUint64(de+=8,ls(Te.ctimeMs),!0),0}),path_filestat_set_times:bt((j,X,ae,fe,de,he,De)=>{const Te=b(j,Tp);if(!Te.path)return 28;this.refreshMemory();const Fe=a.fstatSync(Te.real);let Ye=Fe.atime,st=Fe.mtime;const Vt=Ea(G(0));if(3==(3&De))return 28;if(12==(12&De))return 28;1==(1&De)?Ye=Ea(de):2==(2&De)&&(Ye=Vt),4==(4&De)?st=Ea(he):8==(8&De)&&(st=Vt);const Ot=Xt.lW.from(this.memory.buffer,ae,fe).toString();return a.utimesSync(f.resolve(Te.path,Ot),new Date(Ye),new Date(st)),0}),path_link:bt((j,X,ae,fe,de,he,De)=>{const Te=b(j,Sp),Fe=b(de,Ep);if(!Te.path||!Fe.path)return 28;this.refreshMemory();const Ye=Xt.lW.from(this.memory.buffer,ae,fe).toString(),st=Xt.lW.from(this.memory.buffer,he,De).toString();return a.linkSync(f.resolve(Te.path,Ye),f.resolve(Fe.path,st)),0}),path_open:bt((j,X,ae,fe,de,he,De,Te,Fe)=>{const Ye=b(j,Nc);he=BigInt(he),De=BigInt(De);const st=(he&(Oo|Hc))!==BigInt(0),Vt=(he&(as|ko|Bc|jc))!==BigInt(0);let Qe;Vt&&st?Qe=a.constants.O_RDWR:st?Qe=a.constants.O_RDONLY:Vt&&(Qe=a.constants.O_WRONLY);let $t=he|Nc,Ot=he|De;0!=(1&de)&&(Qe|=a.constants.O_CREAT,$t|=wp),0!=(2&de)&&(Qe|=a.constants.O_DIRECTORY),0!=(4&de)&&(Qe|=a.constants.O_EXCL),0!=(8&de)&&(Qe|=a.constants.O_TRUNC,$t|=Mp),0!=(1&Te)&&(Qe|=a.constants.O_APPEND),0!=(2&Te)&&(Qe|=a.constants.O_DSYNC?a.constants.O_DSYNC:a.constants.O_SYNC,Ot|=as),0!=(4&Te)&&(Qe|=a.constants.O_NONBLOCK),0!=(8&Te)&&(Qe|=a.constants.O_RSYNC?a.constants.O_RSYNC:a.constants.O_SYNC,Ot|=Po),0!=(16&Te)&&(Qe|=a.constants.O_SYNC,Ot|=Po),Vt&&0==(Qe&(a.constants.O_APPEND|a.constants.O_TRUNC))&&(Ot|=_a),this.refreshMemory();const ur=Xt.lW.from(this.memory.buffer,ae,fe).toString(),lr=f.resolve(Ye.path,ur);if(f.relative(Ye.path,lr).startsWith(".."))return 76;let Ut,ri,Br;try{if(Ut=a.realpathSync(lr),f.relative(Ye.path,Ut).startsWith(".."))return 76}catch(Nr){if("ENOENT"!==Nr.code)throw Nr;Ut=lr}try{ri=a.statSync(Ut).isDirectory()}catch(Nr){}Br=a.openSync(Ut,!Vt&&ri?a.constants.O_RDONLY:Qe);const Ri=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(Ri,{real:Br,filetype:void 0,rights:{base:$t,inheriting:Ot},path:Ut}),Zw(this,Ri),this.view.setUint32(Fe,Ri,!0),0}),path_readlink:bt((j,X,ae,fe,de,he)=>{const De=b(j,Dp);if(!De.path)return 28;this.refreshMemory();const Te=Xt.lW.from(this.memory.buffer,X,ae).toString(),Fe=f.resolve(De.path,Te),Ye=a.readlinkSync(Fe),st=Xt.lW.from(this.memory.buffer).write(Ye,fe,de);return this.view.setUint32(he,st,!0),0}),path_remove_directory:bt((j,X,ae)=>{const fe=b(j,xp);if(!fe.path)return 28;this.refreshMemory();const de=Xt.lW.from(this.memory.buffer,X,ae).toString();return a.rmdirSync(f.resolve(fe.path,de)),0}),path_rename:bt((j,X,ae,fe,de,he)=>{const De=b(j,bp),Te=b(fe,Ap);if(!De.path||!Te.path)return 28;this.refreshMemory();const Fe=Xt.lW.from(this.memory.buffer,X,ae).toString(),Ye=Xt.lW.from(this.memory.buffer,de,he).toString();return a.renameSync(f.resolve(De.path,Fe),f.resolve(Te.path,Ye)),0}),path_symlink:bt((j,X,ae,fe,de)=>{const he=b(ae,Rp);if(!he.path)return 28;this.refreshMemory();const De=Xt.lW.from(this.memory.buffer,j,X).toString(),Te=Xt.lW.from(this.memory.buffer,fe,de).toString();return a.symlinkSync(De,f.resolve(he.path,Te)),0}),path_unlink_file:bt((j,X,ae)=>{const fe=b(j,Lp);if(!fe.path)return 28;this.refreshMemory();const de=Xt.lW.from(this.memory.buffer,X,ae).toString();return a.unlinkSync(f.resolve(fe.path,de)),0}),poll_oneoff:(j,X,ae,fe)=>{var de;let he=0,De=0;this.refreshMemory();for(let Te=0;Te<ae;Te+=1){const Fe=this.view.getBigUint64(j,!0),Ye=this.view.getUint8(j+=8);switch(j+=1,Ye){case 0:{this.view.getBigUint64(j+=7,!0);const Vt=this.view.getUint32(j+=8,!0);j+=4;const Qe=this.view.getBigUint64(j+=4,!0),Ot=(this.view.getBigUint64(j+=8,!0),this.view.getUint16(j+=8,!0));j+=2,j+=6;const ur=1===Ot;let lr=0;const Ut=BigInt(null!==(de=G(Vt))&&void 0!==de?de:0);if(null===Ut)lr=28;else{const ri=ur?Qe:Ut+Qe;De=ri>De?ri:De}this.view.setBigUint64(X,Fe,!0),this.view.setUint16(X+=8,lr,!0),this.view.setUint8(X+=2,0),X+=1,X+=5,he+=1;break}case 1:case 2:this.view.getUint32(j+=3,!0),j+=4,this.view.setBigUint64(X,Fe,!0),this.view.setUint16(X+=8,52,!0),this.view.setUint8(X+=2,Ye),X+=1,X+=5,he+=1;break;default:return 28}}for(this.view.setUint32(fe,he,!0);s.hrtime()<De;);return 0},proc_exit:j=>(s.exit(j),0),proc_raise:j=>j in zw?(s.kill(zw[j]),0):28,random_get:(j,X)=>(this.refreshMemory(),s.randomFillSync(new Uint8Array(this.memory.buffer),j,X),0),sched_yield:()=>0,sock_recv:()=>52,sock_send:()=>52,sock_shutdown:()=>52},n.traceSyscalls&&Object.keys(this.wasiImport).forEach(j=>{const X=this.wasiImport[j];this.wasiImport[j]=function(...ae){console.log(`WASI: wasiImport called: ${j} (${ae})`);try{let fe=X(...ae);return console.log(`WASI:  => ${fe}`),fe}catch(fe){throw console.log(`Catched error: ${fe}`),fe}}})}refreshMemory(){(!this.view||0===this.view.buffer.byteLength)&&(this.view=new DataView(this.memory.buffer))}setMemory(n){this.memory=n}start(n){const r=n.exports;if(null===r||"object"!=typeof r)throw new Error(`instance.exports must be an Object. Received ${r}.`);const{memory:i}=r;if(!(i instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${i}.`);this.setMemory(i),r._start&&r._start()}getImportNamespace(n){let r=null;for(let i of WebAssembly.Module.imports(n))if("function"===i.kind&&i.module.startsWith("wasi_"))if(r){if(r!==i.module)throw new Error("Multiple namespaces detected.")}else r=i.module;return r}getImports(n){switch(this.getImportNamespace(n)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}return e.defaultBindings=void 0,e})();function kp(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function aF(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;e=n.call(e);var r,i=[];try{for(;(void 0===t||0<t--)&&!(r=e.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=e.return)&&n.call(e)}finally{if(o)throw o.error}}return i}function uF(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(aF(arguments[t]));return e}var hn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hn(e,t){return e(t={exports:{}},t.exports),t.exports}var ut=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}});Xn(ut);var lF=Hn(function(e,t){t.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}}),Da=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ut.constants.S_IFMT,r=ut.constants.S_IFDIR,i=ut.constants.S_IFREG,o=ut.constants.S_IFBLK,s=ut.constants.S_IFCHR,a=ut.constants.S_IFLNK,f=ut.constants.S_IFIFO,v=ut.constants.S_IFSOCK;e=function(){function b(){}return b.build=function(P,G){void 0===G&&(G=!1);var j=new b,X=P.gid,ae=P.atime,fe=P.mtime,de=P.ctime;return j.uid=(G=G?lF.default:function(he){return he})(P.uid),j.gid=G(X),j.rdev=G(0),j.blksize=G(4096),j.ino=G(P.ino),j.size=G(P.getSize()),j.blocks=G(1),j.atime=ae,j.mtime=fe,j.ctime=de,j.birthtime=de,j.atimeMs=G(ae.getTime()),j.mtimeMs=G(fe.getTime()),X=G(de.getTime()),j.ctimeMs=X,j.birthtimeMs=X,j.dev=G(0),j.mode=G(P.mode),j.nlink=G(P.nlink),j},b.prototype._checkModeProperty=function(P){return(Number(this.mode)&n)===P},b.prototype.isDirectory=function(){return this._checkModeProperty(r)},b.prototype.isFile=function(){return this._checkModeProperty(i)},b.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},b.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},b.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},b.prototype.isFIFO=function(){return this._checkModeProperty(f)},b.prototype.isSocket=function(){return this._checkModeProperty(v)},b}(),t.Stats=e,t.default=e});Xn(Da);var cs="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},bi=[],Pr=[],cF="undefined"!=typeof Uint8Array?Uint8Array:Array,Fp=!1;function Qw(){Fp=!0;for(var e=0;64>e;++e)bi[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],Pr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;Pr[45]=62,Pr[95]=63}function fF(e,t,n){for(var r=[],i=t;i<n;i+=3)r.push(bi[(t=(e[i]<<16)+(e[i+1]<<8)+e[i+2])>>18&63]+bi[t>>12&63]+bi[t>>6&63]+bi[63&t]);return r.join("")}function Jw(e){Fp||Qw();for(var t=e.length,n=t%3,r="",i=[],o=0,s=t-n;o<s;o+=16383)i.push(fF(e,o,o+16383>s?s:o+16383));return 1===n?(r+=bi[(e=e[t-1])>>2],r+=bi[e<<4&63],r+="=="):2===n&&(r+=bi[(e=(e[t-2]<<8)+e[t-1])>>10],r+=bi[e>>4&63],r+=bi[e<<2&63],r+="="),i.push(r),i.join("")}function Wc(e,t,n,r,i){var o=8*i-r-1,s=(1<<o)-1,a=s>>1,f=-7,v=n?-1:1,b=e[t+(i=n?i-1:0)];for(i+=v,n=b&(1<<-f)-1,b>>=-f,f+=o;0<f;n=256*n+e[t+i],i+=v,f-=8);for(o=n&(1<<-f)-1,n>>=-f,f+=r;0<f;o=256*o+e[t+i],i+=v,f-=8);if(0===n)n=1-a;else{if(n===s)return o?NaN:1/0*(b?-1:1);o+=Math.pow(2,r),n-=a}return(b?-1:1)*o*Math.pow(2,n-r)}function Gc(e,t,n,r,i,o){var s,a=8*o-i-1,f=(1<<a)-1,v=f>>1,b=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var P=r?1:-1,G=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(t=isNaN(t)?1:0,r=f):(r=Math.floor(Math.log(t)/Math.LN2),1>t*(s=Math.pow(2,-r))&&(r--,s*=2),2<=(t=1<=r+v?t+b/s:t+b*Math.pow(2,1-v))*s&&(r++,s/=2),r+v>=f?(t=0,r=f):1<=r+v?(t=(t*s-1)*Math.pow(2,i),r+=v):(t=t*Math.pow(2,v-1)*Math.pow(2,i),r=0));8<=i;e[n+o]=255&t,o+=P,t/=256,i-=8);for(r=r<<i|t,a+=i;0<a;e[n+o]=255&r,o+=P,r/=256,a-=8);e[n+o-P]|=128*G}var hF={}.toString,e1=Array.isArray||function(e){return"[object Array]"==hF.call(e)},dF=(Me.TYPED_ARRAY_SUPPORT=void 0===cs.TYPED_ARRAY_SUPPORT||cs.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function Ki(e,t){if((Me.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<t)throw new RangeError("Invalid typed array length");return Me.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Me.prototype:(null===e&&(e=new Me(t)),e.length=t),e}function Me(e,t,n){if(!(Me.TYPED_ARRAY_SUPPORT||this instanceof Me))return new Me(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return Bp(this,e)}return t1(this,e,t,n)}function t1(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){if(0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Me.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Me.prototype:e=Np(e,t),e}if("string"==typeof t){if(r=e,("string"!=typeof(e=n)||""===e)&&(e="utf8"),!Me.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return(t=(r=Ki(r,n=0|r1(t,e))).write(t,e))!==n&&(r=r.slice(0,t)),r}return function(e,t){if(Ai(t)){var n=0|Hp(t.length);return 0===(e=Ki(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return(n="number"!=typeof t.length)||(n=(n=t.length)!=n),n?Ki(e,0):Np(e,t);if("Buffer"===t.type&&e1(t.data))return Np(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function n1(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function Bp(e,t){if(n1(t),e=Ki(e,0>t?0:0|Hp(t)),!Me.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Np(e,t){var n=0>t.length?0:0|Hp(t.length);e=Ki(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Hp(e){if(e>=(Me.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Me.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|e}function Ai(e){return!(null==e||!e._isBuffer)}function r1(e,t){if(Ai(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Yc(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return l1(e).length;default:if(r)return Yc(e).length;t=(""+t).toLowerCase(),r=!0}}function gF(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),0>=n)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":for(e=t,t=n,n=this.length,(!e||0>e)&&(e=0),(!t||0>t||t>n)&&(t=n),r="",n=e;n<t;++n)r=(e=r)+(r=16>(r=this[n])?"0"+r.toString(16):r.toString(16));return r;case"utf8":case"utf-8":return s1(this,t,n);case"ascii":for(e="",n=Math.min(this.length,n);t<n;++t)e+=String.fromCharCode(127&this[t]);return e;case"latin1":case"binary":for(e="",n=Math.min(this.length,n);t<n;++t)e+=String.fromCharCode(this[t]);return e;case"base64":return Jw(0===t&&n===this.length?this:this.slice(t,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(t=this.slice(t,n),n="",e=0;e<t.length;e+=2)n+=String.fromCharCode(t[e]+256*t[e+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function fs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i1(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=Me.from(t,r)),Ai(t))return 0===t.length?-1:o1(e,t,n,r,i);if("number"==typeof t)return t&=255,Me.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):o1(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function o1(e,t,n,r,i){function o(v,b){return 1===s?v[b]:v.readUInt16BE(b*s)}var s=1,a=e.length,f=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,a/=2,f/=2,n/=2}if(i)for(r=-1;n<a;n++)if(o(e,n)===o(t,-1===r?0:n-r)){if(-1===r&&(r=n),n-r+1===f)return r*s}else-1!==r&&(n-=n-r),r=-1;else for(n+f>a&&(n=a-f);0<=n;n--){for(a=!0,r=0;r<f;r++)if(o(e,n+r)!==o(t,r)){a=!1;break}if(a)return n}return-1}function s1(e,t,n){n=Math.min(e.length,n);for(var r=[];t<n;){var i=e[t],o=null,s=239<i?4:223<i?3:191<i?2:1;if(t+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var a=e[t+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:var f=e[t+2];128==(192&(a=e[t+1]))&&128==(192&f)&&2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i);break;case 4:f=e[t+2];var v=e[t+3];128==(192&(a=e[t+1]))&&128==(192&f)&&128==(192&v)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&v)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(r.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}if((e=r.length)<=a1)r=String.fromCharCode.apply(String,r);else{for(n="",t=0;t<e;)n+=String.fromCharCode.apply(String,r.slice(t,t+=a1));r=n}return r}Me.poolSize=8192,Me._augment=function(e){return e.__proto__=Me.prototype,e},Me.from=function(e,t,n){return t1(null,e,t,n)},Me.TYPED_ARRAY_SUPPORT&&(Me.prototype.__proto__=Uint8Array.prototype,Me.__proto__=Uint8Array),Me.alloc=function(e,t,n){return n1(e),0>=e?Ki(null,e):void 0!==t?"string"==typeof n?Ki(null,e).fill(t,n):Ki(null,e).fill(t):Ki(null,e)},Me.allocUnsafe=function(e){return Bp(null,e)},Me.allocUnsafeSlow=function(e){return Bp(null,e)},Me.isBuffer=Zi,Me.compare=function(e,t){if(!Ai(e)||!Ai(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Me.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Me.concat=function(e,t){if(!e1(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Me.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;t=Me.allocUnsafe(t);var r=0;for(n=0;n<e.length;++n){var i=e[n];if(!Ai(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(t,r),r+=i.length}return t},Me.byteLength=r1,Me.prototype._isBuffer=!0,Me.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)fs(this,t,t+1);return this},Me.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)fs(this,t,t+3),fs(this,t+1,t+2);return this},Me.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)fs(this,t,t+7),fs(this,t+1,t+6),fs(this,t+2,t+5),fs(this,t+3,t+4);return this},Me.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?s1(this,0,e):gF.apply(this,arguments)},Me.prototype.equals=function(e){if(!Ai(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Me.compare(this,e)},Me.prototype.inspect=function(){var e="";return 0<this.length&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(e+=" ... ")),"<Buffer "+e+">"},Me.prototype.compare=function(e,t,n,r,i){if(!Ai(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>t||n>e.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s);for(r=this.slice(r,i),e=e.slice(t,n),t=0;t<a;++t)if(r[t]!==e[t]){o=r[t],s=e[t];break}return o<s?-1:s<o?1:0},Me.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Me.prototype.indexOf=function(e,t,n){return i1(this,e,t,n,!0)},Me.prototype.lastIndexOf=function(e,t,n){return i1(this,e,t,n,!1)},Me.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":e:{if(t=Number(t)||0,r=this.length-t,n?(n=Number(n))>r&&(n=r):n=r,(r=e.length)%2!=0)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(e.substr(2*r,2),16),isNaN(i)){e=r;break e}this[t+r]=i}e=r}return e;case"utf8":case"utf-8":return Hu(Yc(e,this.length-t),this,t,n);case"ascii":case"latin1":case"binary":return Hu(u1(e),this,t,n);case"base64":return Hu(l1(e),this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=e,i=this.length-t;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var a=r.charCodeAt(s);e=a>>8,o.push(a%=256),o.push(e)}return Hu(o,this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Me.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a1=4096;function An(e,t,n){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function sr(e,t,n,r,i,o){if(!Ai(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function qc(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function $c(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function zc(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}Me.prototype.slice=function(e,t){var n=this.length;if(0>(e=~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),0>(t=void 0===t?n:~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e),Me.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,t)).__proto__=Me.prototype;else{t=new Me(n=t-e,void 0);for(var r=0;r<n;++r)t[r]=this[r+e]}return t},Me.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||An(e,t,this.length),n=this[e];for(var r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},Me.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||An(e,t,this.length),n=this[e+--t];for(var r=1;0<t&&(r*=256);)n+=this[e+--t]*r;return n},Me.prototype.readUInt8=function(e,t){return t||An(e,1,this.length),this[e]},Me.prototype.readUInt16LE=function(e,t){return t||An(e,2,this.length),this[e]|this[e+1]<<8},Me.prototype.readUInt16BE=function(e,t){return t||An(e,2,this.length),this[e]<<8|this[e+1]},Me.prototype.readUInt32LE=function(e,t){return t||An(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Me.prototype.readUInt32BE=function(e,t){return t||An(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Me.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||An(e,t,this.length),n=this[e];for(var r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n>=128*r&&(n-=Math.pow(2,8*t)),n},Me.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||An(e,t,this.length),n=t;for(var r=1,i=this[e+--n];0<n&&(r*=256);)i+=this[e+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*t)),i},Me.prototype.readInt8=function(e,t){return t||An(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Me.prototype.readInt16LE=function(e,t){return t||An(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},Me.prototype.readInt16BE=function(e,t){return t||An(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},Me.prototype.readInt32LE=function(e,t){return t||An(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Me.prototype.readInt32BE=function(e,t){return t||An(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Me.prototype.readFloatLE=function(e,t){return t||An(e,4,this.length),Wc(this,e,!0,23,4)},Me.prototype.readFloatBE=function(e,t){return t||An(e,4,this.length),Wc(this,e,!1,23,4)},Me.prototype.readDoubleLE=function(e,t){return t||An(e,8,this.length),Wc(this,e,!0,52,8)},Me.prototype.readDoubleBE=function(e,t){return t||An(e,8,this.length),Wc(this,e,!1,52,8)},Me.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||sr(this,e,t,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},Me.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||sr(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1;for(this[t+(r=n-1)]=255&e;0<=--r&&(i*=256);)this[t+r]=e/i&255;return t+n},Me.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,1,255,0),Me.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Me.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,2,65535,0),Me.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):qc(this,e,t,!0),t+2},Me.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,2,65535,0),Me.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):qc(this,e,t,!1),t+2},Me.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,4,4294967295,0),Me.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):$c(this,e,t,!0),t+4},Me.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,4,4294967295,0),Me.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):$c(this,e,t,!1),t+4},Me.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||sr(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r),r=0;var i=1,o=0;for(this[t]=255&e;++r<n&&(i*=256);)0>e&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/i>>0)-o&255;return t+n},Me.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||sr(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=1,o=0;for(this[t+(r=n-1)]=255&e;0<=--r&&(i*=256);)0>e&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/i>>0)-o&255;return t+n},Me.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,1,127,-128),Me.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},Me.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,2,32767,-32768),Me.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):qc(this,e,t,!0),t+2},Me.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,2,32767,-32768),Me.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):qc(this,e,t,!1),t+2},Me.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,4,2147483647,-2147483648),Me.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):$c(this,e,t,!0),t+4},Me.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||sr(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),Me.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):$c(this,e,t,!1),t+4},Me.prototype.writeFloatLE=function(e,t,n){return n||zc(this,0,t,4),Gc(this,e,t,!0,23,4),t+4},Me.prototype.writeFloatBE=function(e,t,n){return n||zc(this,0,t,4),Gc(this,e,t,!1,23,4),t+4},Me.prototype.writeDoubleLE=function(e,t,n){return n||zc(this,0,t,8),Gc(this,e,t,!0,52,8),t+8},Me.prototype.writeDoubleBE=function(e,t,n){return n||zc(this,0,t,8),Gc(this,e,t,!1,52,8),t+8},Me.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&n<t&&t<r)for(r=i-1;0<=r;--r)e[r+t]=this[r+n];else if(1e3>i||!Me.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},Me.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Me.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else for(i=(e=Ai(e)?e:Yc(new Me(e,r).toString())).length,r=0;r<n-t;++r)this[r+t]=e[r%i];return this};var _F=/[^+\/0-9A-Za-z-_]/g;function Yc(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--t)break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(t-=3))break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(t-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function u1(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function l1(e){if(2>(e=(e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(_F,"")).length)e="";else for(;e.length%4!=0;)e+="=";Fp||Qw();var t=e.length;if(0<t%4)throw Error("Invalid string. Length must be a multiple of 4");var n="="===e[t-2]?2:"="===e[t-1]?1:0,r=new cF(3*t/4-n),i=0<n?t-4:t,o=0;for(t=0;t<i;t+=4){var s=Pr[e.charCodeAt(t)]<<18|Pr[e.charCodeAt(t+1)]<<12|Pr[e.charCodeAt(t+2)]<<6|Pr[e.charCodeAt(t+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=255&s}return 2===n?(s=Pr[e.charCodeAt(t)]<<2|Pr[e.charCodeAt(t+1)]>>4,r[o++]=255&s):1===n&&(s=Pr[e.charCodeAt(t)]<<10|Pr[e.charCodeAt(t+1)]<<4|Pr[e.charCodeAt(t+2)]>>2,r[o++]=s>>8&255,r[o++]=255&s),r}function Hu(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Zi(e){return null!=e&&(!!e._isBuffer||c1(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&c1(e.slice(0,0)))}function c1(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ju=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:dF,Buffer:Me,SlowBuffer:function(e){return+e!=e&&(e=0),Me.alloc(+e)},isBuffer:Zi}),qt=Hn(function(e,t){function n(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return new(ju.Buffer.bind.apply(ju.Buffer,r([void 0,i],o)))}var r=hn&&hn.__spreadArrays||function(){for(var i=0,o=0,s=arguments.length;o<s;o++)i+=arguments[o].length;i=Array(i);var a=0;for(o=0;o<s;o++)for(var f=arguments[o],v=0,b=f.length;v<b;v++,a++)i[a]=f[v];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=ju.Buffer,t.bufferAllocUnsafe=ju.Buffer.allocUnsafe||n,t.bufferFrom=ju.Buffer.from||n});function f1(){throw Error("setTimeout has not been defined")}function h1(){throw Error("clearTimeout has not been defined")}Xn(qt);var Bo=f1,No=h1;function d1(e){if(Bo===setTimeout)return setTimeout(e,0);if((Bo===f1||!Bo)&&setTimeout)return Bo=setTimeout,setTimeout(e,0);try{return Bo(e,0)}catch(t){try{return Bo.call(null,e,0)}catch(n){return Bo.call(this,e,0)}}}"function"==typeof cs.setTimeout&&(Bo=setTimeout),"function"==typeof cs.clearTimeout&&(No=clearTimeout);var hs,Xi=[],ba=!1,Kc=-1;function yF(){ba&&hs&&(ba=!1,hs.length?Xi=hs.concat(Xi):Kc=-1,Xi.length&&p1())}function p1(){if(!ba){var e=d1(yF);ba=!0;for(var t=Xi.length;t;){for(hs=Xi,Xi=[];++Kc<t;)hs&&hs[Kc].run();Kc=-1,t=Xi.length}hs=null,ba=!1,function(e){if(No===clearTimeout)return clearTimeout(e);if((No===h1||!No)&&clearTimeout)return No=clearTimeout,clearTimeout(e);try{No(e)}catch(t){try{return No.call(null,e)}catch(n){return No.call(this,e)}}}(e)}}function Sr(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Xi.push(new g1(e,t)),1!==Xi.length||ba||d1(p1)}function g1(e,t){this.fun=e,this.array=t}function ds(){}g1.prototype.run=function(){this.fun.apply(null,this.array)};var Aa=cs.performance||{},vF=Aa.now||Aa.mozNow||Aa.msNow||Aa.oNow||Aa.webkitNow||function(){return(new Date).getTime()},CF=new Date,Ia={nextTick:Sr,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ds,addListener:ds,once:ds,off:ds,removeListener:ds,removeAllListeners:ds,emit:ds,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*vF.call(Aa),n=Math.floor(t);return t=Math.floor(t%1*1e9),e&&(n-=e[0],0>(t-=e[1])&&(n--,t+=1e9)),[n,t]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-CF)/1e3}},Ho="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){function n(){}e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},wF=/%[sdj%]/g;function jp(e){if(!ps(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(Ii(arguments[n]));return t.join(" ")}n=1;var r=arguments,i=r.length;t=String(e).replace(wF,function(s){if("%%"===s)return"%";if(n>=i)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(a){return"[Circular]"}default:return s}});for(var o=r[n];n<i;o=r[++n])t=null!==o&&jo(o)?t+" "+Ii(o):t+" "+o;return t}function Vp(e,t){if(Qi(cs.process))return function(){return Vp(e,t).apply(this,arguments)};if(!0===Ia.noDeprecation)return e;var n=!1;return function(){if(!n){if(Ia.throwDeprecation)throw Error(t);Ia.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}var Up,Zc={};function _1(e){return Qi(Up)&&(Up=Ia.env.NODE_DEBUG||""),e=e.toUpperCase(),Zc[e]||(Zc[e]=new RegExp("\\b"+e+"\\b","i").test(Up)?function(){var t=jp.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:function(){}),Zc[e]}function Ii(e,t){var n={seen:[],stylize:EF};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),qp(t)?n.showHidden=t:t&&v1(n,t),Qi(n.showHidden)&&(n.showHidden=!1),Qi(n.depth)&&(n.depth=2),Qi(n.colors)&&(n.colors=!1),Qi(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=SF),Xc(n,e,n.depth)}function SF(e,t){return(t=Ii.styles[t])?"\x1b["+Ii.colors[t][0]+"m"+e+"\x1b["+Ii.colors[t][1]+"m":e}function EF(e){return e}function Xc(e,t,n){if(e.customInspect&&t&&Ta(t.inspect)&&t.inspect!==Ii&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return ps(r)||(r=Xc(e,r,n)),r}if(r=function(e,t){return Qi(t)?e.stylize("undefined","undefined"):ps(t)?(t="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(t,"string")):y1(t)?e.stylize(""+t,"number"):qp(t)?e.stylize(""+t,"boolean"):null===t?e.stylize("null","null"):void 0}(e,t))return r;var i=Object.keys(t),o=function(e){var t={};return e.forEach(function(n){t[n]=!0}),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Uu(t)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return Wp(t);if(0===i.length){if(Ta(t))return e.stylize("[Function"+(t.name?": "+t.name:"")+"]","special");if(Ma(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Vu(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Uu(t))return Wp(t)}r="";var s=!1,a=["{","}"];return m1(t)&&(s=!0,a=["[","]"]),Ta(t)&&(r=" [Function"+(t.name?": "+t.name:"")+"]"),Ma(t)&&(r=" "+RegExp.prototype.toString.call(t)),Vu(t)&&(r=" "+Date.prototype.toUTCString.call(t)),Uu(t)&&(r=" "+Wp(t)),0!==i.length||s&&0!=t.length?0>n?Ma(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),i=s?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)Object.prototype.hasOwnProperty.call(t,String(s))?o.push(Gp(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(f){f.match(/^\d+$/)||o.push(Gp(e,t,n,r,f,!0))}),o}(e,t,n,o,i):i.map(function(f){return Gp(e,t,n,o,f,s)}),e.seen.pop(),function(e,t,n){return 60<e.reduce(function(r,i){return i.indexOf("\n"),r+i.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(i,r,a)):a[0]+r+a[1]}function Wp(e){return"["+Error.prototype.toString.call(e)+"]"}function Gp(e,t,n,r,i,o){var s,a;if((t=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=e.stylize(t.set?"[Getter/Setter]":"[Getter]","special"):t.set&&(a=e.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(r,i)||(s="["+i+"]"),a||(0>e.seen.indexOf(t.value)?-1<(a=Xc(e,t.value,null===n?null:n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(f){return"  "+f}).join("\n").substr(2):"\n"+a.split("\n").map(function(f){return"   "+f}).join("\n")):a=e.stylize("[Circular]","special")),Qi(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m1(e){return Array.isArray(e)}function qp(e){return"boolean"==typeof e}function y1(e){return"number"==typeof e}function ps(e){return"string"==typeof e}function Qi(e){return void 0===e}function Ma(e){return jo(e)&&"[object RegExp]"===Object.prototype.toString.call(e)}function jo(e){return"object"==typeof e&&null!==e}function Vu(e){return jo(e)&&"[object Date]"===Object.prototype.toString.call(e)}function Uu(e){return jo(e)&&("[object Error]"===Object.prototype.toString.call(e)||e instanceof Error)}function Ta(e){return"function"==typeof e}function $p(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function zp(e){return 10>e?"0"+e.toString(10):e.toString(10)}Ii.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ii.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var MF="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function TF(){var e=new Date,t=[zp(e.getHours()),zp(e.getMinutes()),zp(e.getSeconds())].join(":");return[e.getDate(),MF[e.getMonth()],t].join(" ")}function v1(e,t){if(!t||!jo(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}var Wu={inherits:Ho,_extend:v1,log:function(){console.log("%s - %s",TF(),jp.apply(null,arguments))},isBuffer:function(e){return Zi(e)},isPrimitive:$p,isFunction:Ta,isError:Uu,isDate:Vu,isObject:jo,isRegExp:Ma,isUndefined:Qi,isSymbol:function(e){return"symbol"==typeof e},isString:ps,isNumber:y1,isNullOrUndefined:function(e){return null==e},isNull:function(e){return null===e},isBoolean:qp,isArray:m1,inspect:Ii,deprecate:Vp,format:jp,debuglog:_1};function C1(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var Yp,RF=Object.prototype.hasOwnProperty,w1=Object.keys||function(e){var n,t=[];for(n in e)RF.call(e,n)&&t.push(n);return t},S1=Array.prototype.slice;function E1(){return void 0!==Yp?Yp:Yp="foo"===function(){}.name}function D1(e){return!Zi(e)&&"function"==typeof cs.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&!!(e instanceof DataView||e.buffer&&e.buffer instanceof ArrayBuffer))}function Qt(e,t){e||ar(e,!0,t,"==",Zp)}var xF=/\s*function\s+([^\(\s]*)\s*/;function b1(e){if(Ta(e))return E1()?e.name:(e=e.toString().match(xF))&&e[1]}function Kp(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=A1(I1(this.actual),128)+" "+this.operator+" "+A1(I1(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||ar;Error.captureStackTrace?Error.captureStackTrace(this,t):(e=Error()).stack&&(e=e.stack,t=b1(t),0<=(t=e.indexOf("\n"+t))&&(t=e.indexOf("\n",t+1),e=e.substring(t+1)),this.stack=e)}function A1(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function I1(e){return E1()||!Ta(e)?Ii(e):"[Function"+((e=b1(e))?": "+e:"")+"]"}function ar(e,t,n,r,i){throw new Kp({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function Zp(e,t){e||ar(e,!0,t,"==",Zp)}function Ra(e,t,n,r){if(e===t)return!0;if(Zi(e)&&Zi(t))return 0===C1(e,t);if(Vu(e)&&Vu(t))return e.getTime()===t.getTime();if(Ma(e)&&Ma(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(!D1(e)||!D1(t)||Object.prototype.toString.call(e)!==Object.prototype.toString.call(t)||e instanceof Float32Array||e instanceof Float64Array){if(Zi(e)!==Zi(t))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if($p(e)||$p(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=L1(e),o=L1(t);if(i&&!o||!i&&o)return!1;if(i)return Ra(e=S1.call(e),t=S1.call(t),n);i=w1(e);var s=w1(t);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!Ra(e[s=i[o]],t[s],n,r))return!1;return!0}(e,t,n,r))}return 0===C1(new Uint8Array(e.buffer),new Uint8Array(t.buffer))}return n?e===t:e==t}function L1(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function B1(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function N1(e,t,n,r){if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null);try{t()}catch(a){var i=a}t=i,r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!t&&ar(t,n,"Missing expected exception"+r),i="string"==typeof r;var s=!e&&t&&!n;if((!e&&Uu(t)&&i&&B1(t,n)||s)&&ar(t,n,"Got unwanted exception"+r),e&&t&&n&&!B1(t,n)||!e&&t)throw t}Qt.AssertionError=Kp,Ho(Kp,Error),Qt.fail=ar,Qt.ok=Zp,Qt.equal=function M1(e,t,n){e!=t&&ar(e,t,n,"==",M1)},Qt.notEqual=function T1(e,t,n){e==t&&ar(e,t,n,"!=",T1)},Qt.deepEqual=function R1(e,t,n){Ra(e,t,!1)||ar(e,t,n,"deepEqual",R1)},Qt.deepStrictEqual=function x1(e,t,n){Ra(e,t,!0)||ar(e,t,n,"deepStrictEqual",x1)},Qt.notDeepEqual=function O1(e,t,n){Ra(e,t,!1)&&ar(e,t,n,"notDeepEqual",O1)},Qt.notDeepStrictEqual=function P1(e,t,n){Ra(e,t,!0)&&ar(e,t,n,"notDeepStrictEqual",P1)},Qt.strictEqual=function k1(e,t,n){e!==t&&ar(e,t,n,"===",k1)},Qt.notStrictEqual=function F1(e,t,n){e===t&&ar(e,t,n,"!==",F1)},Qt.throws=function(e,t,n){N1(!0,e,t,n)},Qt.doesNotThrow=function(e,t,n){N1(!1,e,t,n)},Qt.ifError=function(e){if(e)throw e};var Gu=Hn(function(e,t){function n(v){return function(b){function P(G){for(var j=[],X=1;X<arguments.length;X++)j[X-1]=arguments[X];return(j=b.call(this,r(G,j))||this).code=G,j[a]=G,j.name=b.prototype.name+" ["+j[a]+"]",j}return s(P,b),P}(v)}function r(v,b){Qt.strictEqual(typeof v,"string");var P=f[v];if(Qt(P,"An invalid error message key was used: "+v+"."),"function"==typeof P)v=P;else{if(v=Wu.format,void 0===b||0===b.length)return P;b.unshift(P)}return String(v.apply(null,b))}function i(v,b){f[v]="function"==typeof b?b:String(b)}function o(v,b){if(Qt(v,"expected is required"),Qt("string"==typeof b,"thing is required"),Array.isArray(v)){var P=v.length;return Qt(0<P,"At least one expected value needs to be specified"),v=v.map(function(G){return String(G)}),2<P?"one of "+b+" "+v.slice(0,P-1).join(", ")+", or "+v[P-1]:2===P?"one of "+b+" "+v[0]+" or "+v[1]:"of "+b+" "+v[0]}return"of "+b+" "+String(v)}var s=hn&&hn.__extends||function(){function v(b,P){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,j){G.__proto__=j}||function(G,j){for(var X in j)j.hasOwnProperty(X)&&(G[X]=j[X])})(b,P)}return function(b,P){function G(){this.constructor=b}v(b,P),b.prototype=null===P?Object.create(P):(G.prototype=P.prototype,new G)}}();Object.defineProperty(t,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),f={};e=function(v){function b(P){if("object"!=typeof P||null===P)throw new t.TypeError("ERR_INVALID_ARG_TYPE","options","object");var G=P.message?v.call(this,P.message)||this:v.call(this,Wu.inspect(P.actual).slice(0,128)+" "+P.operator+" "+Wu.inspect(P.expected).slice(0,128))||this;return G.generatedMessage=!P.message,G.name="AssertionError [ERR_ASSERTION]",G.code="ERR_ASSERTION",G.actual=P.actual,G.expected=P.expected,G.operator=P.operator,t.Error.captureStackTrace(G,P.stackStartFunction),G}return s(b,v),b}(hn.Error),t.AssertionError=e,t.message=r,t.E=i,t.Error=n(hn.Error),t.TypeError=n(hn.TypeError),t.RangeError=n(hn.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",function(v,b){return b?"Attempt to write outside buffer bounds":'"'+v+'" is outside of buffer bounds'}),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",function(v,b){return'c-ares failed to set servers: "'+v+'" ['+b+"]"}),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",function(v){return'The "'+v+'" encoding is not supported'}),i("ERR_ENCODING_INVALID_ENCODED_DATA",function(v){return"The encoded data was not valid for encoding "+v}),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",function(v,b,P){if(Qt(v,"name is required"),b.includes("not ")){var G="must not be";b=b.split("not ")[1]}else G="must be";if(Array.isArray(v))G="The "+v.map(function(X){return'"'+X+'"'}).join(", ")+" arguments "+G+" "+o(b,"type");else if(v.includes(" argument"))G="The "+v+" "+G+" "+o(b,"type");else{var j=v.includes(".")?"property":"argument";G='The "'+v+'" '+j+" "+G+" "+o(b,"type")}return 3<=arguments.length&&(G+=". Received type "+(null!==P?typeof P:"null")),G}),i("ERR_INVALID_ARRAY_LENGTH",function(v,b,P){return Qt.strictEqual(typeof P,"number"),'The array "'+v+'" (length '+P+") must be of length "+b+"."}),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",function(v,b){return'The value "'+String(b)+'" is invalid for option "'+v+'"'}),i("ERR_INVALID_OPT_VALUE_ENCODING",function(v){return'The value "'+String(v)+'" is invalid for option "encoding"'}),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",function(v){return"The URL must be "+o(v,"scheme")}),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];Qt(0<v.length,"At least one arg needs to be specified"),b="The ";var P=v.length;switch(v=v.map(function(G){return'"'+G+'"'}),P){case 1:b+=v[0]+" argument";break;case 2:b+=v[0]+" and "+v[1]+" arguments";break;default:b+=v.slice(0,P-1).join(", "),b+=", and "+v[P-1]+" arguments"}return b+" must be specified"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",function(v){return"DH parameter size "+v+" is less than 2048"}),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")});Xn(Gu);var kr=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ENCODING_UTF8="utf8",t.assertEncoding=function(n){if(n&&!qt.Buffer.isEncoding(n))throw new Gu.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",n)},t.strToEncoding=function(n,r){return r&&r!==t.ENCODING_UTF8?"buffer"===r?new qt.Buffer(n):new qt.Buffer(n).toString(r):n}});Xn(kr);var Xp=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ut.constants.S_IFMT,r=ut.constants.S_IFDIR,i=ut.constants.S_IFREG,o=ut.constants.S_IFBLK,s=ut.constants.S_IFCHR,a=ut.constants.S_IFLNK,f=ut.constants.S_IFIFO,v=ut.constants.S_IFSOCK;e=function(){function b(){this.name="",this.mode=0}return b.build=function(P,G){var j=new b,X=P.getNode().mode;return j.name=kr.strToEncoding(P.getName(),G),j.mode=X,j},b.prototype._checkModeProperty=function(P){return(this.mode&n)===P},b.prototype.isDirectory=function(){return this._checkModeProperty(r)},b.prototype.isFile=function(){return this._checkModeProperty(i)},b.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},b.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},b.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},b.prototype.isFIFO=function(){return this._checkModeProperty(f)},b.prototype.isSocket=function(){return this._checkModeProperty(v)},b}(),t.Dirent=e,t.default=e});function H1(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function Jp(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=H1(ng(e.split("/"),function(i){return!!i}),!t).join("/"))||"."}function eg(e,t){function n(s){for(var a=0;a<s.length&&""===s[a];a++);for(var f=s.length-1;0<=f&&""===s[f];f--);return a>f?[]:s.slice(a,f-a+1)}e=Jp(e).substr(1),t=Jp(t).substr(1),e=n(e.split("/")),t=n(t.split("/"));for(var r=Math.min(e.length,t.length),i=r,o=0;o<r;o++)if(e[o]!==t[o]){i=o;break}for(r=[],o=i;o<e.length;o++)r.push("..");return(r=r.concat(t.slice(i))).join("/")}Xn(Xp);var tg_relative=eg,tg_resolve=Jp;function ng(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var xa=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),e="function"==typeof setImmediate?setImmediate.bind(hn):setTimeout.bind(hn),t.default=e});Xn(xa);var Qn=Hn(function(e,t){function n(){var r=Ia||{};return r.getuid||(r.getuid=function(){return 0}),r.getgid||(r.getgid=function(){return 0}),r.cwd||(r.cwd=function(){return"/"}),r.nextTick||(r.nextTick=xa.default),r.emitWarning||(r.emitWarning=function(i,o){console.warn(o+(o?": ":"")+i)}),r.env||(r.env={}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.createProcess=n,t.default=n()});function Vo(){}function ft(){ft.init.call(this)}function U1(e,t,n,r){var i;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(i=e._events){i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events);var o=i[t]}else i=e._events=new Vo,e._eventsCount=0;return o?("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(n=void 0===e._maxListeners?ft.defaultMaxListeners:e._maxListeners)&&0<n&&o.length>n&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,"function"==typeof console.warn?console.warn(n):console.log(n))):(i[t]=n,++e._eventsCount),e}function W1(e,t,n){function r(){e.removeListener(t,r),i||(i=!0,n.apply(e,arguments))}var i=!1;return r.listener=n,r}function G1(e){var t=this._events;if(t){if("function"==typeof(e=t[e]))return 1;if(e)return e.length}return 0}function qu(e,t){for(var n=Array(t);t--;)n[t]=e[t];return n}Xn(Qn),Vo.prototype=Object.create(null),ft.EventEmitter=ft,ft.usingDomains=!1,ft.prototype.domain=void 0,ft.prototype._events=void 0,ft.prototype._maxListeners=void 0,ft.defaultMaxListeners=10,ft.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Vo,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ft.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},ft.prototype.getMaxListeners=function(){return void 0===this._maxListeners?ft.defaultMaxListeners:this._maxListeners},ft.prototype.emit=function(e){var t,n,r="error"===e;if(t=this._events)r=r&&null==t.error;else if(!r)return!1;var i=this.domain;if(r){if(t=arguments[1],!i)throw t instanceof Error?t:((i=Error('Uncaught, unspecified "error" event. ('+t+")")).context=t,i);return t||(t=Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=i,t.domainThrown=!1,i.emit("error",t),!1}if(!(i=t[e]))return!1;t="function"==typeof i;var o=arguments.length;switch(o){case 1:if(t)i.call(this);else for(i=qu(i,t=i.length),r=0;r<t;++r)i[r].call(this);break;case 2:if(r=arguments[1],t)i.call(this,r);else for(i=qu(i,t=i.length),o=0;o<t;++o)i[o].call(this,r);break;case 3:if(r=arguments[1],o=arguments[2],t)i.call(this,r,o);else for(i=qu(i,t=i.length),n=0;n<t;++n)i[n].call(this,r,o);break;case 4:if(r=arguments[1],o=arguments[2],n=arguments[3],t)i.call(this,r,o,n);else{i=qu(i,t=i.length);for(var s=0;s<t;++s)i[s].call(this,r,o,n)}break;default:for(r=Array(o-1),n=1;n<o;n++)r[n-1]=arguments[n];if(t)i.apply(this,r);else for(i=qu(i,t=i.length),o=0;o<t;++o)i[o].apply(this,r)}return!0},ft.prototype.on=ft.prototype.addListener=function(e,t){return U1(this,e,t,!1)},ft.prototype.prependListener=function(e,t){return U1(this,e,t,!0)},ft.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,W1(this,e,t)),this},ft.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,W1(this,e,t)),this},ft.prototype.removeListener=function(e,t){var n;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');var r=this._events;if(!r)return this;var i=r[e];if(!i)return this;if(i===t||i.listener&&i.listener===t)0==--this._eventsCount?this._events=new Vo:(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){var o=-1;for(n=i.length;0<n--;)if(i[n]===t||i[n].listener&&i[n].listener===t){var s=i[n].listener;o=n;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new Vo,this;delete r[e]}else{n=o+1;for(var a=i.length;n<a;o+=1,n+=1)i[o]=i[n];i.pop()}r.removeListener&&this.emit("removeListener",e,s||t)}return this},ft.prototype.removeAllListeners=function(e){var t=this._events;if(!t)return this;if(!t.removeListener)return 0===arguments.length?(this._events=new Vo,this._eventsCount=0):t[e]&&(0==--this._eventsCount?this._events=new Vo:delete t[e]),this;if(0===arguments.length){t=Object.keys(t);for(var r,n=0;n<t.length;++n)"removeListener"!==(r=t[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Vo,this._eventsCount=0,this}if("function"==typeof(t=t[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},ft.prototype.listeners=function(e){var t=this._events;if(t)if(e=t[e])if("function"==typeof e)e=[e.listener||e];else{t=Array(e.length);for(var n=0;n<t.length;++n)t[n]=e[n].listener||e[n];e=t}else e=[];else e=[];return e},ft.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):G1.call(e,t)},ft.prototype.listenerCount=G1,ft.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var $u=Hn(function(e,t){var n=hn&&hn.__extends||function(){function f(v,b){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,G){P.__proto__=G}||function(P,G){for(var j in G)G.hasOwnProperty(j)&&(P[j]=G[j])})(v,b)}return function(v,b){function P(){this.constructor=v}f(v,b),v.prototype=null===b?Object.create(b):(P.prototype=b.prototype,new P)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=ut.constants.S_IFMT,i=ut.constants.S_IFDIR,o=ut.constants.S_IFREG,s=ut.constants.S_IFLNK,a=ut.constants.O_APPEND;t.SEP="/",e=function(f){function v(b,P){void 0===P&&(P=438);var G=f.call(this)||this;return G.uid=Qn.default.getuid(),G.gid=Qn.default.getgid(),G.atime=new Date,G.mtime=new Date,G.ctime=new Date,G.perm=438,G.mode=o,G.nlink=1,G.perm=P,G.mode|=P,G.ino=b,G}return n(v,f),v.prototype.getString=function(b){return void 0===b&&(b="utf8"),this.getBuffer().toString(b)},v.prototype.setString=function(b){this.buf=qt.bufferFrom(b,"utf8"),this.touch()},v.prototype.getBuffer=function(){return this.buf||this.setBuffer(qt.bufferAllocUnsafe(0)),qt.bufferFrom(this.buf)},v.prototype.setBuffer=function(b){this.buf=qt.bufferFrom(b),this.touch()},v.prototype.getSize=function(){return this.buf?this.buf.length:0},v.prototype.setModeProperty=function(b){this.mode=this.mode&~r|b},v.prototype.setIsFile=function(){this.setModeProperty(o)},v.prototype.setIsDirectory=function(){this.setModeProperty(i)},v.prototype.setIsSymlink=function(){this.setModeProperty(s)},v.prototype.isFile=function(){return(this.mode&r)===o},v.prototype.isDirectory=function(){return(this.mode&r)===i},v.prototype.isSymlink=function(){return(this.mode&r)===s},v.prototype.makeSymlink=function(b){this.symlink=b,this.setIsSymlink()},v.prototype.write=function(b,P,G,j){if(void 0===P&&(P=0),void 0===G&&(G=b.length),void 0===j&&(j=0),this.buf||(this.buf=qt.bufferAllocUnsafe(0)),j+G>this.buf.length){var X=qt.bufferAllocUnsafe(j+G);this.buf.copy(X,0,0,this.buf.length),this.buf=X}return b.copy(this.buf,j,P,P+G),this.touch(),G},v.prototype.read=function(b,P,G,j){return void 0===P&&(P=0),void 0===G&&(G=b.byteLength),void 0===j&&(j=0),this.buf||(this.buf=qt.bufferAllocUnsafe(0)),G>b.byteLength&&(G=b.byteLength),G+j>this.buf.length&&(G=this.buf.length-j),this.buf.copy(b,P,j,j+G),G},v.prototype.truncate=function(b){if(void 0===b&&(b=0),b)if(this.buf||(this.buf=qt.bufferAllocUnsafe(0)),b<=this.buf.length)this.buf=this.buf.slice(0,b);else{var P=qt.bufferAllocUnsafe(0);this.buf.copy(P),P.fill(0,b)}else this.buf=qt.bufferAllocUnsafe(0);this.touch()},v.prototype.chmod=function(b){this.perm=b,this.mode=-512&this.mode|b,this.touch()},v.prototype.chown=function(b,P){this.uid=b,this.gid=P,this.touch()},v.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},v.prototype.canRead=function(b,P){return void 0===b&&(b=Qn.default.getuid()),void 0===P&&(P=Qn.default.getgid()),!!(4&this.perm||P===this.gid&&32&this.perm||b===this.uid&&256&this.perm)},v.prototype.canWrite=function(b,P){return void 0===b&&(b=Qn.default.getuid()),void 0===P&&(P=Qn.default.getgid()),!!(2&this.perm||P===this.gid&&16&this.perm||b===this.uid&&128&this.perm)},v.prototype.del=function(){this.emit("delete",this)},v.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},v}(ft.EventEmitter),t.Node=e,e=function(f){function v(b,P,G){var j=f.call(this)||this;return j.children={},j.steps=[],j.ino=0,j.length=0,j.vol=b,j.parent=P,j.steps=P?P.steps.concat([G]):[G],j}return n(v,f),v.prototype.setNode=function(b){this.node=b,this.ino=b.ino},v.prototype.getNode=function(){return this.node},v.prototype.createChild=function(b,P){void 0===P&&(P=this.vol.createNode());var G=new v(this.vol,this,b);return G.setNode(P),P.isDirectory(),this.setChild(b,G),G},v.prototype.setChild=function(b,P){return void 0===P&&(P=new v(this.vol,this,b)),this.children[b]=P,P.parent=this,this.length++,this.emit("child:add",P,this),P},v.prototype.deleteChild=function(b){delete this.children[b.getName()],this.length--,this.emit("child:delete",b,this)},v.prototype.getChild=function(b){if(Object.hasOwnProperty.call(this.children,b))return this.children[b]},v.prototype.getPath=function(){return this.steps.join(t.SEP)},v.prototype.getName=function(){return this.steps[this.steps.length-1]},v.prototype.walk=function(b,P,G){if(void 0===P&&(P=b.length),void 0===G&&(G=0),G>=b.length||G>=P)return this;var j=this.getChild(b[G]);return j?j.walk(b,P,G+1):null},v.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},v}(ft.EventEmitter),t.Link=e,e=function(){function f(v,b,P,G){this.position=0,this.link=v,this.node=b,this.flags=P,this.fd=G}return f.prototype.getString=function(){return this.node.getString()},f.prototype.setString=function(v){this.node.setString(v)},f.prototype.getBuffer=function(){return this.node.getBuffer()},f.prototype.setBuffer=function(v){this.node.setBuffer(v)},f.prototype.getSize=function(){return this.node.getSize()},f.prototype.truncate=function(v){this.node.truncate(v)},f.prototype.seekTo=function(v){this.position=v},f.prototype.stats=function(){return Da.default.build(this.node)},f.prototype.write=function(v,b,P,G){return void 0===b&&(b=0),void 0===P&&(P=v.length),"number"!=typeof G&&(G=this.position),this.flags&a&&(G=this.getSize()),v=this.node.write(v,b,P,G),this.position=G+v,v},f.prototype.read=function(v,b,P,G){return void 0===b&&(b=0),void 0===P&&(P=v.byteLength),"number"!=typeof G&&(G=this.position),v=this.node.read(v,b,P,G),this.position=G+v,v},f.prototype.chmod=function(v){this.node.chmod(v)},f.prototype.chown=function(v,b){this.node.chown(v,b)},f}(),t.File=e});Xn($u);var BF=$u.Node,q1=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,r,i){var o=setTimeout.apply(null,arguments);return o&&"object"==typeof o&&"function"==typeof o.unref&&o.unref(),o}});function gs(){this.tail=this.head=null,this.length=0}Xn(q1),gs.prototype.push=function(e){e={data:e,next:null},0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},gs.prototype.unshift=function(e){e={data:e,next:this.head},0===this.length&&(this.tail=e),this.head=e,++this.length},gs.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},gs.prototype.clear=function(){this.head=this.tail=null,this.length=0},gs.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},gs.prototype.concat=function(e){if(0===this.length)return Me.alloc(0);if(1===this.length)return this.head.data;e=Me.allocUnsafe(e>>>0);for(var t=this.head,n=0;t;)t.data.copy(e,n),n+=t.data.length,t=t.next;return e};var NF=Me.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zu(e){if(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),e&&!NF(e))throw Error("Unknown encoding: "+e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=jF;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=VF;break;default:return void(this.write=HF)}this.charBuffer=new Me(6),this.charLength=this.charReceived=0}function HF(e){return e.toString(this.encoding)}function jF(e){this.charLength=(this.charReceived=e.length%2)?2:0}function VF(e){this.charLength=(this.charReceived=e.length%3)?3:0}zu.prototype.write=function(e){for(var t="";this.charLength;){if(e.copy(this.charBuffer,this.charReceived,0,t=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length),this.charReceived+=t,this.charReceived<this.charLength)return"";e=e.slice(t,e.length);var n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1);if(!(55296<=n&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;return this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),55296<=(n=(t+=e.toString(this.encoding,0,r)).charCodeAt(r=t.length-1))&&56319>=n?(this.charLength+=n=this.surrogateSize,this.charReceived+=n,this.charBuffer.copy(this.charBuffer,n,0,n),e.copy(this.charBuffer,0,0,n),t.substring(0,r)):t},zu.prototype.detectIncompleteChar=function(e){for(var t=3<=e.length?3:e.length;0<t;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},zu.prototype.end=function(e){var t="";return e&&e.length&&(t=this.write(e)),this.charReceived&&(e=this.encoding,t+=this.charBuffer.slice(0,this.charReceived).toString(e)),t},Jt.ReadableState=$1;var It=_1("stream");function $1(e,t){this.objectMode=!!(e=e||{}).objectMode,t instanceof Fr&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=(t=e.highWaterMark)||0===t?t:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new gs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,e.encoding&&(this.decoder=new zu(e.encoding),this.encoding=e.encoding)}function Jt(e){if(!(this instanceof Jt))return new Jt(e);this._readableState=new $1(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),ft.call(this)}function z1(e,t,n,r,i){var o=n,s=null;if(Zi(o)||"string"==typeof o||null==o||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)e.emit("error",o);else if(null===n)t.reading=!1,t.ended||(t.decoder&&(n=t.decoder.end())&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length),t.ended=!0,Qc(e));else if(t.objectMode||n&&0<n.length)if(t.ended&&!i)e.emit("error",Error("stream.push() after EOF"));else if(t.endEmitted&&i)e.emit("error",Error("stream.unshift() after end event"));else{if(t.decoder&&!i&&!r){n=t.decoder.write(n);var a=!t.objectMode&&0===n.length}i||(t.reading=!1),a||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&Qc(e))),t.readingMore||(t.readingMore=!0,Sr(WF,e,t))}else i||(t.reading=!1);return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function Y1(e,t){if(0>=e||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var n=e;8388608<=n?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),t.highWaterMark=n}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function Qc(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(It("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Sr(K1,e):K1(e))}function K1(e){It("emit readable"),e.emit("readable"),rg(e)}function WF(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(It("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function qF(e){It("readable nexttick read 0"),e.read(0)}function $F(e,t){t.reading||(It("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),rg(e),t.flowing&&!t.reading&&e.read(0)}function rg(e){var t=e._readableState;for(It("flow",t.flowing);t.flowing&&null!==e.read(););}function Z1(e,t){if(0===t.length)return null;if(t.objectMode)var n=t.buffer.shift();else if(!e||e>=t.length)n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear();else{if(n=t.buffer,t=t.decoder,e<n.head.data.length)t=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e);else{if(e===n.head.data.length)n=n.shift();else if(t){var r=1,i=(t=n.head).data;for(e-=i.length;t=t.next;){var o=t.data,s=e>o.length?o.length:e;if(i=s===o.length?i+o:i+o.slice(0,e),0==(e-=s)){s===o.length?(++r,n.head=t.next?t.next:n.tail=null):(n.head=t,t.data=o.slice(s));break}++r}n.length-=r,n=i}else{for(t=Me.allocUnsafe(e),i=1,(r=n.head).data.copy(t),e-=r.data.length;r=r.next;){if((o=r.data).copy(t,t.length-e,0,s=e>o.length?o.length:e),0==(e-=s)){s===o.length?(++i,n.head=r.next?r.next:n.tail=null):(n.head=r,r.data=o.slice(s));break}++i}n.length-=i,n=t}t=n}n=t}return n}function ig(e){var t=e._readableState;if(0<t.length)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Sr(zF,t,e))}function zF(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function X1(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function KF(){}function ZF(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function og(e,t){Object.defineProperty(this,"buffer",{get:Vp(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(e=e||{}).objectMode,t instanceof Fr&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==e.decodeStrings,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){var o=t._writableState,s=o.sync,a=o.writecb;o.writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,i?(--o.pendingcb,s?Sr(a,i):a(i),t._writableState.errorEmitted=!0,t.emit("error",i)):((i=eS(o))||o.corked||o.bufferProcessing||!o.bufferedRequest||J1(t,o),s?Sr(Q1,t,o,i,a):Q1(t,o,i,a))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new nS(this)}function jn(e){if(!(this instanceof jn||this instanceof Fr))return new jn(e);this._writableState=new og(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),ft.call(this)}function sg(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Q1(e,t,n,r){!n&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,r(),tS(e,t)}function J1(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var o=0;n;)r[o]=n,n=n.next,o+=1;sg(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new nS(t)}else{for(;n&&(r=n.chunk,sg(e,t,!1,t.objectMode?1:r.length,r,n.encoding,n.callback),n=n.next,!t.writing););null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function eS(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function tS(e,t){var n=eS(t);return n&&(0===t.pendingcb?(t.prefinished||(t.prefinished=!0,e.emit("prefinish")),t.finished=!0,e.emit("finish")):t.prefinished||(t.prefinished=!0,e.emit("prefinish"))),n}function nS(e){var t=this;this.entry=this.next=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}Ho(Jt,ft),Jt.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=Me.from(e,t),t=""),z1(this,n,e,t,!1)},Jt.prototype.unshift=function(e){return z1(this,this._readableState,e,"",!0)},Jt.prototype.isPaused=function(){return!1===this._readableState.flowing},Jt.prototype.setEncoding=function(e){return this._readableState.decoder=new zu(e),this._readableState.encoding=e,this},Jt.prototype.read=function(e){It("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return It("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ig(this):Qc(this),null;if(0===(e=Y1(e,t))&&t.ended)return 0===t.length&&ig(this),null;var r=t.needReadable;return It("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&It("length less than watermark",r=!0),t.ended||t.reading?It("reading or ended",!1):r&&(It("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Y1(n,t))),null===(r=0<e?Z1(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&ig(this)),null!==r&&this.emit("data",r),r},Jt.prototype._read=function(){this.emit("error",Error("not implemented"))},Jt.prototype.pipe=function(e,t){function n(ae){It("onunpipe"),ae===b&&i()}function r(){It("onend"),e.end()}function i(){It("cleanup"),e.removeListener("close",a),e.removeListener("finish",f),e.removeListener("drain",G),e.removeListener("error",s),e.removeListener("unpipe",n),b.removeListener("end",r),b.removeListener("end",i),b.removeListener("data",o),j=!0,!P.awaitDrain||e._writableState&&!e._writableState.needDrain||G()}function o(ae){It("ondata"),X=!1,!1!==e.write(ae)||X||((1===P.pipesCount&&P.pipes===e||1<P.pipesCount&&-1!==X1(P.pipes,e))&&!j&&(It("false write response, pause",b._readableState.awaitDrain),b._readableState.awaitDrain++,X=!0),b.pause())}function s(ae){It("onerror",ae),v(),e.removeListener("error",s),0===e.listeners("error").length&&e.emit("error",ae)}function a(){e.removeListener("finish",f),v()}function f(){It("onfinish"),e.removeListener("close",a),v()}function v(){It("unpipe"),b.unpipe(e)}var b=this,P=this._readableState;switch(P.pipesCount){case 0:P.pipes=e;break;case 1:P.pipes=[P.pipes,e];break;default:P.pipes.push(e)}P.pipesCount+=1,It("pipe count=%d opts=%j",P.pipesCount,t),t=t&&!1===t.end?i:r,P.endEmitted?Sr(t):b.once("end",t),e.on("unpipe",n);var G=function(e){return function(){var t=e._readableState;It("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,rg(e))}}(b);e.on("drain",G);var j=!1,X=!1;return b.on("data",o),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",s),e.once("close",a),e.once("finish",f),e.emit("pipe",b),P.flowing||(It("pipe resume"),b.resume()),e},Jt.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){e=t.pipes;var n=t.pipesCount;for(t.pipes=null,t.pipesCount=0,t.flowing=!1,t=0;t<n;t++)e[t].emit("unpipe",this);return this}return-1===(n=X1(t.pipes,e))||(t.pipes.splice(n,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},Jt.prototype.addListener=Jt.prototype.on=function(e,t){return t=ft.prototype.on.call(this,e,t),"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"===e&&((e=this._readableState).endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&Qc(this):Sr(qF,this))),t},Jt.prototype.resume=function(){var e=this._readableState;return e.flowing||(It("resume"),e.flowing=!0,e.resumeScheduled||(e.resumeScheduled=!0,Sr($F,this,e))),this},Jt.prototype.pause=function(){return It("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(It("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Jt.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(It("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&r.push(o)}r.push(null)}),e.on("data",function(o){It("wrapped data"),t.decoder&&(o=t.decoder.write(o)),t.objectMode&&null==o||!(t.objectMode||o&&o.length)||r.push(o)||(n=!0,e.pause())}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));return function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])}(["error","close","destroy","pause","resume"],function(o){e.on(o,r.emit.bind(r,o))}),r._read=function(o){It("wrapped _read",o),n&&(n=!1,e.resume())},r},Jt._fromList=Z1,jn.WritableState=og,Ho(jn,ft),og.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},jn.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},jn.prototype.write=function(e,t,n){var r=this._writableState,i=!1;if("function"==typeof t&&(n=t,t=null),Me.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=KF),r.ended)r=n,e=Error("write after end"),this.emit("error",e),Sr(r,e);else{var o=n,s=!0,a=!1;null===e?a=new TypeError("May not write null values to stream"):Me.isBuffer(e)||"string"==typeof e||void 0===e||r.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),Sr(o,a),s=!1),s&&(r.pendingcb++,i=t,r.objectMode||!1===r.decodeStrings||"string"!=typeof e||(e=Me.from(e,i)),Me.isBuffer(e)&&(i="buffer"),r.length+=o=r.objectMode?1:e.length,(t=r.length<r.highWaterMark)||(r.needDrain=!0),r.writing||r.corked?(o=r.lastBufferedRequest,r.lastBufferedRequest=new ZF(e,i,n),o?o.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1):sg(this,r,!1,o,e,i,n),i=t)}return i},jn.prototype.cork=function(){this._writableState.corked++},jn.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||J1(this,e))},jn.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},jn.prototype._write=function(e,t,n){n(Error("not implemented"))},jn.prototype._writev=null,jn.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&(e=n,r.ending=!0,tS(this,r),e&&(r.finished?Sr(e):this.once("finish",e)),r.ended=!0,this.writable=!1)},Ho(Fr,Jt);for(var rS=Object.keys(jn.prototype),ag=0;ag<rS.length;ag++){var ug=rS[ag];Fr.prototype[ug]||(Fr.prototype[ug]=jn.prototype[ug])}function Fr(e){if(!(this instanceof Fr))return new Fr(e);Jt.call(this,e),jn.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",XF)}function XF(){this.allowHalfOpen||this._writableState.ended||Sr(QF,this)}function QF(e){e.end()}function JF(e){this.afterTransform=function(t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;return i?(r.writechunk=null,r.writecb=null,null!=n&&e.push(n),i(t),(t=e._readableState).reading=!1,(t.needReadable||t.length<t.highWaterMark)&&e._read(t.highWaterMark),t=void 0):t=e.emit("error",Error("no writecb in Transform class")),t},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function Mi(e){if(!(this instanceof Mi))return new Mi(e);Fr.call(this,e),this._transformState=new JF(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(n){iS(t,n)}):iS(t)})}function iS(e,t){if(t)return e.emit("error",t);if(t=e._transformState,e._writableState.length)throw Error("Calling transform done when ws.length != 0");if(t.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}function Yu(e){if(!(this instanceof Yu))return new Yu(e);Mi.call(this,e)}function Er(){ft.call(this)}Ho(Mi,Fr),Mi.prototype.push=function(e,t){return this._transformState.needTransform=!1,Fr.prototype.push.call(this,e,t)},Mi.prototype._transform=function(){throw Error("Not implemented")},Mi.prototype._write=function(e,t,n){var r=this._transformState;r.writecb=n,r.writechunk=e,r.writeencoding=t,r.transforming||(e=this._readableState,(r.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark))},Mi.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Ho(Yu,Mi),Yu.prototype._transform=function(e,t,n){n(null,e)},Ho(Er,ft),Er.Readable=Jt,Er.Writable=jn,Er.Duplex=Fr,Er.Transform=Mi,Er.PassThrough=Yu,Er.Stream=Er,Er.prototype.pipe=function(e,t){function n(b){e.writable&&!1===e.write(b)&&f.pause&&f.pause()}function r(){f.readable&&f.resume&&f.resume()}function i(){v||(v=!0,e.end())}function o(){v||(v=!0,"function"==typeof e.destroy&&e.destroy())}function s(b){if(a(),0===ft.listenerCount(this,"error"))throw b}function a(){f.removeListener("data",n),e.removeListener("drain",r),f.removeListener("end",i),f.removeListener("close",o),f.removeListener("error",s),e.removeListener("error",s),f.removeListener("end",a),f.removeListener("close",a),e.removeListener("close",a)}var f=this;f.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(f.on("end",i),f.on("close",o));var v=!1;return f.on("error",s),e.on("error",s),f.on("end",a),f.on("close",a),e.on("close",a),e.emit("pipe",f),e};var eB=Array.prototype.slice,tB_extend=function e(t,n){for(var r in n)t[r]=n[r];return 3>arguments.length?t:e.apply(null,[t].concat(eB.call(arguments,2)))},oS=Hn(function(e,t){function n(o,s,a){return void 0===a&&(a=function(f){return f}),function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return new Promise(function(b,P){o[s].bind(o).apply(void 0,r(f,[function(G,j){return G?P(G):b(a(j))}]))})}}var r=hn&&hn.__spreadArrays||function(){for(var o=0,s=0,a=arguments.length;s<a;s++)o+=arguments[s].length;o=Array(o);var f=0;for(s=0;s<a;s++)for(var v=arguments[s],b=0,P=v.length;b<P;b++,f++)o[f]=v[b];return o};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function o(s,a){this.vol=s,this.fd=a}return o.prototype.appendFile=function(s,a){return n(this.vol,"appendFile")(this.fd,s,a)},o.prototype.chmod=function(s){return n(this.vol,"fchmod")(this.fd,s)},o.prototype.chown=function(s,a){return n(this.vol,"fchown")(this.fd,s,a)},o.prototype.close=function(){return n(this.vol,"close")(this.fd)},o.prototype.datasync=function(){return n(this.vol,"fdatasync")(this.fd)},o.prototype.read=function(s,a,f,v){return n(this.vol,"read",function(b){return{bytesRead:b,buffer:s}})(this.fd,s,a,f,v)},o.prototype.readFile=function(s){return n(this.vol,"readFile")(this.fd,s)},o.prototype.stat=function(s){return n(this.vol,"fstat")(this.fd,s)},o.prototype.sync=function(){return n(this.vol,"fsync")(this.fd)},o.prototype.truncate=function(s){return n(this.vol,"ftruncate")(this.fd,s)},o.prototype.utimes=function(s,a){return n(this.vol,"futimes")(this.fd,s,a)},o.prototype.write=function(s,a,f,v){return n(this.vol,"write",function(b){return{bytesWritten:b,buffer:s}})(this.fd,s,a,f,v)},o.prototype.writeFile=function(s,a){return n(this.vol,"writeFile")(this.fd,s,a)},o}();t.FileHandle=i,t.default=function(o){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(s,a){return n(o,"access")(s,a)},appendFile:function(s,a,f){return n(o,"appendFile")(s instanceof i?s.fd:s,a,f)},chmod:function(s,a){return n(o,"chmod")(s,a)},chown:function(s,a,f){return n(o,"chown")(s,a,f)},copyFile:function(s,a,f){return n(o,"copyFile")(s,a,f)},lchmod:function(s,a){return n(o,"lchmod")(s,a)},lchown:function(s,a,f){return n(o,"lchown")(s,a,f)},link:function(s,a){return n(o,"link")(s,a)},lstat:function(s,a){return n(o,"lstat")(s,a)},mkdir:function(s,a){return n(o,"mkdir")(s,a)},mkdtemp:function(s,a){return n(o,"mkdtemp")(s,a)},open:function(s,a,f){return n(o,"open",function(v){return new i(o,v)})(s,a,f)},readdir:function(s,a){return n(o,"readdir")(s,a)},readFile:function(s,a){return n(o,"readFile")(s instanceof i?s.fd:s,a)},readlink:function(s,a){return n(o,"readlink")(s,a)},realpath:function(s,a){return n(o,"realpath")(s,a)},rename:function(s,a){return n(o,"rename")(s,a)},rmdir:function(s){return n(o,"rmdir")(s)},stat:function(s,a){return n(o,"stat")(s,a)},symlink:function(s,a,f){return n(o,"symlink")(s,a,f)},truncate:function(s,a){return n(o,"truncate")(s,a)},unlink:function(s){return n(o,"unlink")(s)},utimes:function(s,a,f){return n(o,"utimes")(s,a,f)},writeFile:function(s,a,f){return n(o,"writeFile")(s instanceof i?s.fd:s,a,f)}}}});Xn(oS);var nB=/[^\x20-\x7E]/,rB=/[\x2E\u3002\uFF0E\uFF61]/g,sS_overflow="Overflow: input needs wider integers to process",La=Math.floor,lg=String.fromCharCode;function aS(e,t){return e+22+75*(26>e)-((0!=t)<<5)}var uS=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Ku(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function lS(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var aB=Object.keys||function(e){var n,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function cS(e,t,n,r){n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;for(e=e.split(t||"&"),t=1e3,r&&"number"==typeof r.maxKeys&&(t=r.maxKeys),r=e.length,0<t&&r>t&&(r=t),t=0;t<r;++t){var s=e[t].replace(o,"%20"),a=s.indexOf(n);if(0<=a){var f=s.substr(0,a);s=s.substr(a+1)}else f=s,s="";f=decodeURIComponent(f),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,f)?uS(i[f])?i[f].push(s):i[f]=[i[f],s]:i[f]=s}return i}var uB={parse:Jc,resolve:function(e,t){return Jc(e,!1,!0).resolve(t)},resolveObject:function(e,t){return e?Jc(e,!1,!0).resolveObject(t):t},format:function(e){return ps(e)&&(e=pS({},e)),hg(e)},Url:Ti};function Ti(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var lB=/^([a-z0-9.+-]+:)/i,cB=/:[0-9]*$/,fB=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hB="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),cg=["'"].concat(hB),fS=["%","/","?",";","#"].concat(cg),hS=["/","?","#"],dS=/^[+a-z0-9A-Z_-]{0,63}$/,pB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gB={javascript:!0,"javascript:":!0},fg={javascript:!0,"javascript:":!0},Oa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Jc(e,t,n){if(e&&jo(e)&&e instanceof Ti)return e;var r=new Ti;return r.parse(e,t,n),r}function pS(e,t,n,r){if(!ps(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?");if(i=-1!==i&&i<t.indexOf("#")?"?":"#",(t=t.split(i))[0]=t[0].replace(/\\/g,"/"),i=(t=t.join(i)).trim(),!r&&1===t.split("#").length&&(t=fB.exec(i)))return e.path=i,e.href=i,e.pathname=t[1],t[2]?(e.search=t[2],e.query=n?cS(e.search.substr(1)):e.search.substr(1)):n&&(e.search="",e.query={}),e;if(t=lB.exec(i)){var o=(t=t[0]).toLowerCase();e.protocol=o,i=i.substr(t.length)}if(r||t||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||t&&fg[t]||(i=i.substr(2),e.slashes=!0)}if(!fg[t]&&(s||t&&!Oa[t])){for(t=-1,r=0;r<hS.length;r++)-1!==(s=i.indexOf(hS[r]))&&(-1===t||s<t)&&(t=s);for(-1!==(s=-1===t?i.lastIndexOf("@"):i.lastIndexOf("@",t))&&(r=i.slice(0,s),i=i.slice(s+1),e.auth=decodeURIComponent(r)),t=-1,r=0;r<fS.length;r++)-1!==(s=i.indexOf(fS[r]))&&(-1===t||s<t)&&(t=s);if(-1===t&&(t=i.length),e.host=i.slice(0,t),i=i.slice(t),gS(e),e.hostname=e.hostname||"",!(s="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1])){var a=e.hostname.split(/\./);for(r=0,t=a.length;r<t;r++){var f=a[r];if(f&&!f.match(dS)){for(var v="",b=0,P=f.length;b<P;b++)v=127<f.charCodeAt(b)?v+"x":v+f[b];if(!v.match(dS)){t=a.slice(0,r),r=a.slice(r+1),(f=f.match(pB))&&(t.push(f[1]),r.unshift(f[2])),r.length&&(i="/"+r.join(".")+i),e.hostname=t.join(".");break}}}}e.hostname=e.hostname.length>255?"":e.hostname.toLowerCase(),s||(e.hostname=function(e){return function(e,t){var n=e.split("@"),r="";1<n.length&&(r=n[0]+"@",e=n[1]),n=(e=(e=e.replace(rB,".")).split(".")).length;for(var i=[];n--;)i[n]=t(e[n]);return r+i.join(".")}(e,function(t){if(nB.test(t)){var n,r=[],i=[],o=0;for(n=t.length;o<n;){var s=t.charCodeAt(o++);if(55296<=s&&56319>=s&&o<n){var a=t.charCodeAt(o++);56320==(64512&a)?i.push(((1023&s)<<10)+(1023&a)+65536):(i.push(s),o--)}else i.push(s)}a=(t=i).length,i=128;var f=0,v=72;for(s=0;s<a;++s){var b=t[s];128>b&&r.push(lg(b))}for((o=n=r.length)&&r.push("-");o<a;){var P=2147483647;for(s=0;s<a;++s)(b=t[s])>=i&&b<P&&(P=b);var G=o+1;if(P-i>La((2147483647-f)/G))throw new RangeError(sS_overflow);for(f+=(P-i)*G,i=P,s=0;s<a;++s){if((b=t[s])<i&&2147483647<++f)throw new RangeError(sS_overflow);if(b==i){var j=f;for(P=36;!(j<(b=P<=v?1:P>=v+26?26:P-v));P+=36){var X=j-b;r.push(lg(aS(b+X%(j=36-b),0))),j=La(X/j)}for(r.push(lg(aS(j,0))),v=G,P=0,f=o==n?La(f/700):f>>1,f+=La(f/v);455<f;P+=36)f=La(f/35);v=La(P+36*f/(f+38)),f=0,++o}}++f,++i}r="xn--"+r.join("")}else r=t;return r})}(e.hostname)),e.host=(e.hostname||"")+(r=e.port?":"+e.port:""),e.href+=e.host,s&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!gB[o])for(r=0,t=cg.length;r<t;r++)-1!==i.indexOf(s=cg[r])&&((f=encodeURIComponent(s))===s&&(f=escape(s)),i=i.split(s).join(f));return-1!==(r=i.indexOf("#"))&&(e.hash=i.substr(r),i=i.slice(0,r)),-1!==(r=i.indexOf("?"))?(e.search=i.substr(r),e.query=i.substr(r+1),n&&(e.query=cS(e.query)),i=i.slice(0,r)):n&&(e.search="",e.query={}),i&&(e.pathname=i),Oa[o]&&e.hostname&&!e.pathname&&(e.pathname="/"),(e.pathname||e.search)&&(e.path=(r=e.pathname||"")+(e.search||"")),e.href=hg(e),e}function hg(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var n=e.protocol||"",r=e.pathname||"",i=e.hash||"",o=!1,s="";return e.host?o=t+e.host:e.hostname&&(o=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&jo(e.query)&&Object.keys(e.query).length&&(s=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?lS(aB(e),function(i){var o=encodeURIComponent(Ku(i))+n;return uS(e[i])?lS(e[i],function(s){return o+encodeURIComponent(Ku(s))}).join(t):o+encodeURIComponent(Ku(e[i]))}).join(t):""}(e.query)),t=e.search||s&&"?"+s||"",n&&":"!==n.substr(-1)&&(n+=":"),e.slashes||(!n||Oa[n])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),t&&"?"!==t.charAt(0)&&(t="?"+t),n+o+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(t=t.replace("#","%23"))+i}function gS(e){var t=e.host,n=cB.exec(t);n&&(":"!==(n=n[0])&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t)}Ti.prototype.parse=function(e,t,n){return pS(this,e,t,n)},Ti.prototype.format=function(){return hg(this)},Ti.prototype.resolve=function(e){return this.resolveObject(Jc(e,!1,!0)).format()},Ti.prototype.resolveObject=function(e){if(ps(e)){var t=new Ti;t.parse(e,!1,!0),e=t}t=new Ti;for(var n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(n=Object.keys(e),r=0;r<n.length;r++)"protocol"!==(i=n[r])&&(t[i]=e[i]);return Oa[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}var o;if(e.protocol&&e.protocol!==t.protocol){if(!Oa[e.protocol]){for(n=Object.keys(e),r=0;r<n.length;r++)t[i=n[r]]=e[i];return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||fg[e.protocol])t.pathname=e.pathname;else{for(o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),t.pathname=o.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}n=t.pathname&&"/"===t.pathname.charAt(0);var s=e.host||e.pathname&&"/"===e.pathname.charAt(0),a=n=s||n||t.host&&e.pathname;if(r=t.pathname&&t.pathname.split("/")||[],i=t.protocol&&!Oa[t.protocol],o=e.pathname&&e.pathname.split("/")||[],i&&(t.hostname="",t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),n=n&&(""===o[0]||""===r[0])),s)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,r=o;else if(o.length)r||(r=[]),r.pop(),r=r.concat(o),t.search=e.search,t.query=e.query;else if(null!=e.search)return i&&(t.hostname=t.host=r.shift(),i=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=i.shift(),t.host=t.hostname=i.shift()),t.search=e.search,t.query=e.query,(null!==t.pathname||null!==t.search)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!r.length)return t.pathname=null,t.path=t.search?"/"+t.search:null,t.href=t.format(),t;s=r.slice(-1)[0],o=(t.host||e.host||1<r.length)&&("."===s||".."===s)||""===s;for(var f=0,v=r.length;0<=v;v--)"."===(s=r[v])?r.splice(v,1):".."===s?(r.splice(v,1),f++):f&&(r.splice(v,1),f--);if(!n&&!a)for(;f--;f)r.unshift("..");return!n||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift(""),o&&"/"!==r.join("/").substr(-1)&&r.push(""),a=""===r[0]||r[0]&&"/"===r[0].charAt(0),i&&(t.hostname=t.host=a?"":r.length?r.shift():"",i=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=i.shift(),t.host=t.hostname=i.shift()),(n=n||t.host&&r.length)&&!a&&r.unshift(""),r.length?t.pathname=r.join("/"):(t.pathname=null,t.path=null),(null!==t.pathname||null!==t.search)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},Ti.prototype.parseHost=function(){return gS(this)};var _S=Hn(function(e,t){function n(o,s){return o=o[s],0<s&&("/"===o||i&&"\\"===o)}function r(o){var s=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var a=o;if("string"!=typeof a)throw new TypeError("expected a string");if(a=a.replace(/[\\\/]+/g,"/"),!1!==s)if(2>(a=(s=a).length-1))a=s;else{for(;n(s,a);)a--;a=s.substr(0,a+1)}return a.replace(/^([a-zA-Z]+:|\.\/)/,"")}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.unixify=r,t.correctPath=function(o){return r(o.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===Ia.platform});Xn(_S);var _s=Hn(function(e,t){function n(K,R){return void 0===R&&(R=Qn.default.cwd()),ri(R,K)}function r(K,R){return"function"==typeof K?[i(),K]:[i(K),P(R)]}function i(K){return void 0===K&&(K={}),Ut({},PB,K)}function o(K){return Ut({},xS,"number"==typeof K?{mode:K}:K)}function a(K,R,F,W,oe){return void 0===R&&(R=""),void 0===F&&(F=""),void 0===W&&(W=""),void 0===oe&&(oe=Error),R=new oe(function(K,R,F,W){void 0===R&&(R=""),void 0===F&&(F=""),void 0===W&&(W="");var oe="";switch(F&&(oe=" '"+F+"'"),W&&(oe+=" -> '"+W+"'"),K){case"ENOENT":return"ENOENT: no such file or directory, "+R+oe;case"EBADF":return"EBADF: bad file descriptor, "+R+oe;case"EINVAL":return"EINVAL: invalid argument, "+R+oe;case"EPERM":return"EPERM: operation not permitted, "+R+oe;case"EPROTO":return"EPROTO: protocol error, "+R+oe;case"EEXIST":return"EEXIST: file already exists, "+R+oe;case"ENOTDIR":return"ENOTDIR: not a directory, "+R+oe;case"EISDIR":return"EISDIR: illegal operation on a directory, "+R+oe;case"EACCES":return"EACCES: permission denied, "+R+oe;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+R+oe;case"EMFILE":return"EMFILE: too many open files, "+R+oe;case"ENOSYS":return"ENOSYS: function not implemented, "+R+oe;default:return K+": error occurred, "+R+oe}}(K,R,F,W)),R.code=K,R}function f(K){if("number"==typeof K)return K;if("string"==typeof K){var R=ms[K];if(void 0!==R)return R}throw new Gu.TypeError("ERR_INVALID_OPT_VALUE","flags",K)}function v(K,R){if(!R)return K;var F=typeof R;switch(F){case"string":K=Ut({},K,{encoding:R});break;case"object":K=Ut({},K,R);break;default:throw TypeError("Expected options to be either an object or a string, but got "+F+" instead")}return"buffer"!==K.encoding&&kr.assertEncoding(K.encoding),K}function b(K){return function(R){return v(K,R)}}function P(K){if("function"!=typeof K)throw TypeError(Ji.CB);return K}function G(K){return function(R,F){return"function"==typeof R?[K(),R]:[K(R),P(F)]}}function j(K){if("string"!=typeof K&&!qt.Buffer.isBuffer(K)){try{if(!(K instanceof uB.URL))throw new TypeError(Ji.PATH_STR)}catch(W){throw new TypeError(Ji.PATH_STR)}if(""!==K.hostname)throw new Gu.TypeError("ERR_INVALID_FILE_URL_HOST",Qn.default.platform);K=K.pathname;for(var R=0;R<K.length;R++)if("%"===K[R]){var F=32|K.codePointAt(R+2);if("2"===K[R+1]&&102===F)throw new Gu.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}K=decodeURIComponent(K)}return he(K=String(K)),K}function X(K,R){return(K=n(K,R).substr(1))?K.split(oi):[]}function ae(K){return X(j(K))}function fe(K,R){return void 0===R&&(R=kr.ENCODING_UTF8),qt.Buffer.isBuffer(K)?K:K instanceof Uint8Array?qt.bufferFrom(K):qt.bufferFrom(String(K),R)}function de(K,R){return R&&"buffer"!==R?K.toString(R):K}function he(K,R){if(-1!==(""+K).indexOf("\0")){if((K=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof R)throw K;return Qn.default.nextTick(R,K),!1}return!0}function De(K,R){if("number"!=typeof(K="number"==typeof K?K:"string"==typeof K?parseInt(K,8):R?De(R):void 0)||isNaN(K))throw new TypeError(Ji.MODE_INT);return K}function Te(K){if(K>>>0!==K)throw TypeError(Ji.FD)}function Fe(K){if("string"==typeof K&&+K==K)return+K;if(K instanceof Date)return K.getTime()/1e3;if(isFinite(K))return 0>K?Date.now()/1e3:K;throw Error("Cannot parse time: "+K)}function Ye(K){if("number"!=typeof K)throw TypeError(Ji.UID)}function st(K){if("number"!=typeof K)throw TypeError(Ji.GID)}function Vt(K){K.emit("stop")}function Qe(K,R,F){if(!(this instanceof Qe))return new Qe(K,R,F);if(this._vol=K,void 0===(F=Ut({},v(F,{}))).highWaterMark&&(F.highWaterMark=65536),Er.Readable.call(this,F),this.path=j(R),this.fd=void 0===F.fd?null:F.fd,this.flags=void 0===F.flags?"r":F.flags,this.mode=void 0===F.mode?438:F.mode,this.start=F.start,this.end=F.end,this.autoClose=void 0===F.autoClose||F.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function $t(){this.close()}function Ot(K,R,F){if(!(this instanceof Ot))return new Ot(K,R,F);if(this._vol=K,F=Ut({},v(F,{})),Er.Writable.call(this,F),this.path=j(R),this.fd=void 0===F.fd?null:F.fd,this.flags=void 0===F.flags?"w":F.flags,this.mode=void 0===F.mode?438:F.mode,this.start=F.start,this.autoClose=void 0===F.autoClose||!!F.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}F.encoding&&this.setDefaultEncoding(F.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var ur=hn&&hn.__extends||function(){function K(R,F){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var Se in oe)oe.hasOwnProperty(Se)&&(W[Se]=oe[Se])})(R,F)}return function(R,F){function W(){this.constructor=R}K(R,F),R.prototype=null===F?Object.create(F):(W.prototype=F.prototype,new W)}}(),lr=hn&&hn.__spreadArrays||function(){for(var K=0,R=0,F=arguments.length;R<F;R++)K+=arguments[R].length;K=Array(K);var W=0;for(R=0;R<F;R++)for(var oe=arguments[R],Se=0,Ne=oe.length;Se<Ne;Se++,W++)K[W]=oe[Se];return K};Object.defineProperty(t,"__esModule",{value:!0});var ms,K,Ut=tB_extend,ri=tg_resolve,Br=ut.constants.O_RDONLY,Ri=ut.constants.O_WRONLY,Nr=ut.constants.O_RDWR,ii=ut.constants.O_CREAT,ef=ut.constants.O_EXCL,Zu=ut.constants.O_TRUNC,Xu=ut.constants.O_APPEND,wS=ut.constants.O_SYNC,MB=ut.constants.O_DIRECTORY,SS=ut.constants.F_OK,TB=ut.constants.COPYFILE_EXCL,RB=ut.constants.COPYFILE_FICLONE_FORCE,oi="/",ES=tg_relative,gg="win32"===Qn.default.platform,Ji={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};(K=ms=t.FLAGS||(t.FLAGS={}))[K.r=Br]="r",K[K["r+"]=Nr]="r+",K[K.rs=Br|wS]="rs",K[K.sr=K.rs]="sr",K[K["rs+"]=Nr|wS]="rs+",K[K["sr+"]=K["rs+"]]="sr+",K[K.w=Ri|ii|Zu]="w",K[K.wx=Ri|ii|Zu|ef]="wx",K[K.xw=K.wx]="xw",K[K["w+"]=Nr|ii|Zu]="w+",K[K["wx+"]=Nr|ii|Zu|ef]="wx+",K[K["xw+"]=K["wx+"]]="xw+",K[K.a=Ri|Xu|ii]="a",K[K.ax=Ri|Xu|ii|ef]="ax",K[K.xa=K.ax]="xa",K[K["a+"]=Nr|Xu|ii]="a+",K[K["ax+"]=Nr|Xu|ii|ef]="ax+",K[K["xa+"]=K["ax+"]]="xa+",t.flagsToNumber=f;var tf=b(e={encoding:"utf8"}),DS=G(tf),bS=b({flag:"r"}),AS={encoding:"utf8",mode:438,flag:ms[ms.w]},IS=b(AS),MS={encoding:"utf8",mode:438,flag:ms[ms.a]},TS=b(MS),xB=G(TS),RS=b(e),LB=G(RS),xS={mode:511,recursive:!1},LS={recursive:!1},OS=b({encoding:"utf8",withFileTypes:!1}),OB=G(OS),PB={bigint:!1};if(t.pathToFilename=j,gg){var kB=n,FB=_S.unixify;n=function(K,R){return FB(kB(K,R))}}t.filenameToSteps=X,t.pathToSteps=ae,t.dataToStr=function(K,R){return void 0===R&&(R=kr.ENCODING_UTF8),qt.Buffer.isBuffer(K)?K.toString(R):K instanceof Uint8Array?qt.bufferFrom(K).toString(R):String(K)},t.dataToBuffer=fe,t.bufferToEncoding=de,t.toUnixTimestamp=Fe,e=function(){function K(R){void 0===R&&(R={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=oS.default(this),this.statWatchers={},this.props=Ut({Node:$u.Node,Link:$u.Link,File:$u.File},R),(R=this.createLink()).setNode(this.createNode(!0));var F=this;this.StatWatcher=function(W){function oe(){return W.call(this,F)||this}return ur(oe,W),oe}(PS),this.ReadStream=function(W){function oe(){for(var Se=[],Ne=0;Ne<arguments.length;Ne++)Se[Ne]=arguments[Ne];return W.apply(this,lr([F],Se))||this}return ur(oe,W),oe}(Qe),this.WriteStream=function(W){function oe(){for(var Se=[],Ne=0;Ne<arguments.length;Ne++)Se[Ne]=arguments[Ne];return W.apply(this,lr([F],Se))||this}return ur(oe,W),oe}(Ot),this.FSWatcher=function(W){function oe(){return W.call(this,F)||this}return ur(oe,W),oe}(kS),this.root=R}return K.fromJSON=function(R,F){var W=new K;return W.fromJSON(R,F),W},Object.defineProperty(K.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),K.prototype.createLink=function(R,F,W,oe){if(void 0===W&&(W=!1),!R)return new this.props.Link(this,null,"");if(!F)throw Error("createLink: name cannot be empty");return R.createChild(F,this.createNode(W,oe))},K.prototype.deleteLink=function(R){var F=R.parent;return!!F&&(F.deleteChild(R),!0)},K.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},K.prototype.newFdNumber=function(){var R=this.releasedFds.pop();return"number"==typeof R?R:K.fd--},K.prototype.createNode=function(R,F){return void 0===R&&(R=!1),F=new this.props.Node(this.newInoNumber(),F),R&&F.setIsDirectory(),this.inodes[F.ino]=F},K.prototype.getNode=function(R){return this.inodes[R]},K.prototype.deleteNode=function(R){R.del(),delete this.inodes[R.ino],this.releasedInos.push(R.ino)},K.prototype.genRndStr=function(){var R=(Math.random()+1).toString(36).substr(2,6);return 6===R.length?R:this.genRndStr()},K.prototype.getLink=function(R){return this.root.walk(R)},K.prototype.getLinkOrThrow=function(R,F){var W=X(R);if(!(W=this.getLink(W)))throw a("ENOENT",F,R);return W},K.prototype.getResolvedLink=function(R){R="string"==typeof R?X(R):R;for(var F=this.root,W=0;W<R.length;){if(!(F=F.getChild(R[W])))return null;var oe=F.getNode();oe.isSymlink()?(R=oe.symlink.concat(R.slice(W+1)),F=this.root,W=0):W++}return F},K.prototype.getResolvedLinkOrThrow=function(R,F){var W=this.getResolvedLink(R);if(!W)throw a("ENOENT",F,R);return W},K.prototype.resolveSymlinks=function(R){return this.getResolvedLink(R.steps.slice(1))},K.prototype.getLinkAsDirOrThrow=function(R,F){var W=this.getLinkOrThrow(R,F);if(!W.getNode().isDirectory())throw a("ENOTDIR",F,R);return W},K.prototype.getLinkParent=function(R){return this.root.walk(R,R.length-1)},K.prototype.getLinkParentAsDirOrThrow=function(R,F){R=R instanceof Array?R:X(R);var W=this.getLinkParent(R);if(!W)throw a("ENOENT",F,oi+R.join(oi));if(!W.getNode().isDirectory())throw a("ENOTDIR",F,oi+R.join(oi));return W},K.prototype.getFileByFd=function(R){return this.fds[String(R)]},K.prototype.getFileByFdOrThrow=function(R,F){if(R>>>0!==R)throw TypeError(Ji.FD);if(!(R=this.getFileByFd(R)))throw a("EBADF",F);return R},K.prototype.getNodeByIdOrCreate=function(R,F,W){if("number"==typeof R){if(!(R=this.getFileByFd(R)))throw Error("File nto found");return R.node}var oe=ae(R),Se=this.getLink(oe);if(Se)return Se.getNode();if(F&ii&&(F=this.getLinkParent(oe)))return(Se=this.createLink(F,oe[oe.length-1],!1,W)).getNode();throw a("ENOENT","getNodeByIdOrCreate",j(R))},K.prototype.wrapAsync=function(R,F,W){var oe=this;P(W),xa.default(function(){try{W(null,R.apply(oe,F))}catch(Se){W(Se)}})},K.prototype._toJSON=function(R,F,W){var oe;void 0===R&&(R=this.root),void 0===F&&(F={});var Se=!0,Ne=R.children;for(var sn in R.getNode().isFile()&&((oe={})[R.getName()]=R.parent.getChild(R.getName()),Ne=oe,R=R.parent),Ne){if(Se=!1,!(Ne=R.getChild(sn)))throw Error("_toJSON: unexpected undefined");(oe=Ne.getNode()).isFile()?(Ne=Ne.getPath(),W&&(Ne=ES(W,Ne)),F[Ne]=oe.getString()):oe.isDirectory()&&this._toJSON(Ne,F,W)}return R=R.getPath(),W&&(R=ES(W,R)),R&&Se&&(F[R]=null),F},K.prototype.toJSON=function(R,F,W){void 0===F&&(F={}),void 0===W&&(W=!1);var oe=[];if(R){R instanceof Array||(R=[R]);for(var Se=0;Se<R.length;Se++){var Ne=j(R[Se]);(Ne=this.getResolvedLink(Ne))&&oe.push(Ne)}}else oe.push(this.root);if(!oe.length)return F;for(Se=0;Se<oe.length;Se++)this._toJSON(Ne=oe[Se],F,W?Ne.getPath():"");return F},K.prototype.fromJSON=function(R,F){for(var W in void 0===F&&(F=Qn.default.cwd()),R){var oe=R[W];if("string"==typeof oe){var Se=X(W=n(W,F));1<Se.length&&(Se=oi+Se.slice(0,Se.length-1).join(oi),this.mkdirpBase(Se,511)),this.writeFileSync(W,oe)}else this.mkdirpBase(W,511)}},K.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},K.prototype.mountSync=function(R,F){this.fromJSON(F,R)},K.prototype.openLink=function(R,F,W){if(void 0===W&&(W=!0),this.openFiles>=this.maxFiles)throw a("EMFILE","open",R.getPath());var oe=R;if(W&&(oe=this.resolveSymlinks(R)),!oe)throw a("ENOENT","open",R.getPath());if((W=oe.getNode()).isDirectory()){if((F&(Br|Nr|Ri))!==Br)throw a("EISDIR","open",R.getPath())}else if(F&MB)throw a("ENOTDIR","open",R.getPath());if(!(F&Ri||W.canRead()))throw a("EACCES","open",R.getPath());return R=new this.props.File(R,W,F,this.newFdNumber()),this.fds[R.fd]=R,this.openFiles++,F&Zu&&R.truncate(),R},K.prototype.openFile=function(R,F,W,oe){void 0===oe&&(oe=!0);var Se=X(R),Ne=oe?this.getResolvedLink(Se):this.getLink(Se);if(!Ne&&F&ii){var sn=this.getResolvedLink(Se.slice(0,Se.length-1));if(!sn)throw a("ENOENT","open",oi+Se.join(oi));F&ii&&"number"==typeof W&&(Ne=this.createLink(sn,Se[Se.length-1],!1,W))}if(Ne)return this.openLink(Ne,F,oe);throw a("ENOENT","open",R)},K.prototype.openBase=function(R,F,W,oe){if(void 0===oe&&(oe=!0),!(F=this.openFile(R,F,W,oe)))throw a("ENOENT","open",R);return F.fd},K.prototype.openSync=function(R,F,W){return void 0===W&&(W=438),W=De(W),R=j(R),F=f(F),this.openBase(R,F,W)},K.prototype.open=function(R,F,W,oe){var Se=W;"function"==typeof W&&(Se=438,oe=W),W=De(Se||438),R=j(R),F=f(F),this.wrapAsync(this.openBase,[R,F,W],oe)},K.prototype.closeFile=function(R){this.fds[R.fd]&&(this.openFiles--,delete this.fds[R.fd],this.releasedFds.push(R.fd))},K.prototype.closeSync=function(R){Te(R),R=this.getFileByFdOrThrow(R,"close"),this.closeFile(R)},K.prototype.close=function(R,F){Te(R),this.wrapAsync(this.closeSync,[R],F)},K.prototype.openFileOrGetById=function(R,F,W){if("number"==typeof R){if(!(R=this.fds[R]))throw a("ENOENT");return R}return this.openFile(j(R),F,W)},K.prototype.readBase=function(R,F,W,oe,Se){return this.getFileByFdOrThrow(R).read(F,Number(W),Number(oe),Se)},K.prototype.readSync=function(R,F,W,oe,Se){return Te(R),this.readBase(R,F,W,oe,Se)},K.prototype.read=function(R,F,W,oe,Se,Ne){var sn=this;if(P(Ne),0===oe)return Qn.default.nextTick(function(){Ne&&Ne(null,0,F)});xa.default(function(){try{var Dr=sn.readBase(R,F,W,oe,Se);Ne(null,Dr,F)}catch(Uo){Ne(Uo)}})},K.prototype.readFileBase=function(R,F,W){var oe="number"==typeof R&&R>>>0===R;if(!oe){var Se=j(R);if(Se=X(Se),(Se=this.getResolvedLink(Se))&&Se.getNode().isDirectory())throw a("EISDIR","open",Se.getPath());R=this.openSync(R,F)}try{var Ne=de(this.getFileByFdOrThrow(R).getBuffer(),W)}finally{oe||this.closeSync(R)}return Ne},K.prototype.readFileSync=function(R,F){var W=f((F=bS(F)).flag);return this.readFileBase(R,W,F.encoding)},K.prototype.readFile=function(R,F,W){F=(W=G(bS)(F,W))[0],W=W[1];var oe=f(F.flag);this.wrapAsync(this.readFileBase,[R,oe,F.encoding],W)},K.prototype.writeBase=function(R,F,W,oe,Se){return this.getFileByFdOrThrow(R,"write").write(F,W,oe,Se)},K.prototype.writeSync=function(R,F,W,oe,Se){Te(R);var Ne="string"!=typeof F;if(Ne){var sn=0|(W||0),Dr=oe;W=Se}else var Uo=oe;return F=fe(F,Uo),Ne?void 0===Dr&&(Dr=F.length):(sn=0,Dr=F.length),this.writeBase(R,F,sn,Dr,W)},K.prototype.write=function(R,F,W,oe,Se,Ne){var sn=this;Te(R);var Dr=typeof F,Uo=typeof W,BS=typeof oe,NS=typeof Se;if("string"!==Dr)if("function"===Uo)var ys=W;else if("function"===BS){var nf=0|W;ys=oe}else if("function"===NS){nf=0|W;var Qu=oe;ys=Se}else{nf=0|W,Qu=oe;var _g=Se;ys=Ne}else if("function"===Uo)ys=W;else if("function"===BS)_g=W,ys=oe;else if("function"===NS){_g=W;var BB=oe;ys=Se}var rf=fe(F,BB);"string"!==Dr?void 0===Qu&&(Qu=rf.length):(nf=0,Qu=rf.length);var mg=P(ys);xa.default(function(){try{var HS=sn.writeBase(R,rf,nf,Qu,_g);mg(null,HS,"string"!==Dr?rf:F)}catch(NB){mg(NB)}})},K.prototype.writeFileBase=function(R,F,W,oe){var Se="number"==typeof R;R=Se?R:this.openBase(j(R),W,oe),oe=0;var Ne=F.length;W=W&Xu?void 0:0;try{for(;0<Ne;){var sn=this.writeSync(R,F,oe,Ne,W);oe+=sn,Ne-=sn,void 0!==W&&(W+=sn)}}finally{Se||this.closeSync(R)}},K.prototype.writeFileSync=function(R,F,W){var oe=IS(W);W=f(oe.flag);var Se=De(oe.mode);F=fe(F,oe.encoding),this.writeFileBase(R,F,W,Se)},K.prototype.writeFile=function(R,F,W,oe){var Se=W;"function"==typeof W&&(Se=AS,oe=W),W=P(oe);var Ne=IS(Se);Se=f(Ne.flag),oe=De(Ne.mode),F=fe(F,Ne.encoding),this.wrapAsync(this.writeFileBase,[R,F,Se,oe],W)},K.prototype.linkBase=function(R,F){var W=X(R),oe=this.getLink(W);if(!oe)throw a("ENOENT","link",R,F);var Se=X(F);if(!(W=this.getLinkParent(Se)))throw a("ENOENT","link",R,F);if(W.getChild(Se=Se[Se.length-1]))throw a("EEXIST","link",R,F);(R=oe.getNode()).nlink++,W.createChild(Se,R)},K.prototype.copyFileBase=function(R,F,W){var oe=this.readFileSync(R);if(W&TB&&this.existsSync(F))throw a("EEXIST","copyFile",R,F);if(W&RB)throw a("ENOSYS","copyFile",R,F);this.writeFileBase(F,oe,ms.w,438)},K.prototype.copyFileSync=function(R,F,W){return R=j(R),F=j(F),this.copyFileBase(R,F,0|(W||0))},K.prototype.copyFile=function(R,F,W,oe){if(R=j(R),F=j(F),"function"==typeof W)var Se=0;else Se=W,W=oe;P(W),this.wrapAsync(this.copyFileBase,[R,F,Se],W)},K.prototype.linkSync=function(R,F){R=j(R),F=j(F),this.linkBase(R,F)},K.prototype.link=function(R,F,W){R=j(R),F=j(F),this.wrapAsync(this.linkBase,[R,F],W)},K.prototype.unlinkBase=function(R){var F=X(R);if(!(F=this.getLink(F)))throw a("ENOENT","unlink",R);if(F.length)throw Error("Dir not empty...");this.deleteLink(F),(R=F.getNode()).nlink--,0>=R.nlink&&this.deleteNode(R)},K.prototype.unlinkSync=function(R){R=j(R),this.unlinkBase(R)},K.prototype.unlink=function(R,F){R=j(R),this.wrapAsync(this.unlinkBase,[R],F)},K.prototype.symlinkBase=function(R,F){var W=X(F),oe=this.getLinkParent(W);if(!oe)throw a("ENOENT","symlink",R,F);if(oe.getChild(W=W[W.length-1]))throw a("EEXIST","symlink",R,F);return(F=oe.createChild(W)).getNode().makeSymlink(X(R)),F},K.prototype.symlinkSync=function(R,F){R=j(R),F=j(F),this.symlinkBase(R,F)},K.prototype.symlink=function(R,F,W,oe){W=P("function"==typeof W?W:oe),R=j(R),F=j(F),this.wrapAsync(this.symlinkBase,[R,F],W)},K.prototype.realpathBase=function(R,F){var W=X(R);if(!(W=this.getResolvedLink(W)))throw a("ENOENT","realpath",R);return kr.strToEncoding(W.getPath(),F)},K.prototype.realpathSync=function(R,F){return this.realpathBase(j(R),RS(F).encoding)},K.prototype.realpath=function(R,F,W){F=(W=LB(F,W))[0],W=W[1],R=j(R),this.wrapAsync(this.realpathBase,[R,F.encoding],W)},K.prototype.lstatBase=function(R,F){void 0===F&&(F=!1);var W=this.getLink(X(R));if(!W)throw a("ENOENT","lstat",R);return Da.default.build(W.getNode(),F)},K.prototype.lstatSync=function(R,F){return this.lstatBase(j(R),i(F).bigint)},K.prototype.lstat=function(R,F,W){F=(W=r(F,W))[0],W=W[1],this.wrapAsync(this.lstatBase,[j(R),F.bigint],W)},K.prototype.statBase=function(R,F){void 0===F&&(F=!1);var W=this.getResolvedLink(X(R));if(!W)throw a("ENOENT","stat",R);return Da.default.build(W.getNode(),F)},K.prototype.statSync=function(R,F){return this.statBase(j(R),i(F).bigint)},K.prototype.stat=function(R,F,W){F=(W=r(F,W))[0],W=W[1],this.wrapAsync(this.statBase,[j(R),F.bigint],W)},K.prototype.fstatBase=function(R,F){if(void 0===F&&(F=!1),!(R=this.getFileByFd(R)))throw a("EBADF","fstat");return Da.default.build(R.node,F)},K.prototype.fstatSync=function(R,F){return this.fstatBase(R,i(F).bigint)},K.prototype.fstat=function(R,F,W){F=r(F,W),this.wrapAsync(this.fstatBase,[R,F[0].bigint],F[1])},K.prototype.renameBase=function(R,F){var W=this.getLink(X(R));if(!W)throw a("ENOENT","rename",R,F);var oe=X(F),Se=this.getLinkParent(oe);if(!Se)throw a("ENOENT","rename",R,F);(R=W.parent)&&R.deleteChild(W),W.steps=lr(Se.steps,[oe[oe.length-1]]),Se.setChild(W.getName(),W)},K.prototype.renameSync=function(R,F){R=j(R),F=j(F),this.renameBase(R,F)},K.prototype.rename=function(R,F,W){R=j(R),F=j(F),this.wrapAsync(this.renameBase,[R,F],W)},K.prototype.existsBase=function(R){return!!this.statBase(R)},K.prototype.existsSync=function(R){try{return this.existsBase(j(R))}catch(F){return!1}},K.prototype.exists=function(R,F){var W=this,oe=j(R);if("function"!=typeof F)throw Error(Ji.CB);xa.default(function(){try{F(W.existsBase(oe))}catch(Se){F(!1)}})},K.prototype.accessBase=function(R){this.getLinkOrThrow(R,"access")},K.prototype.accessSync=function(R,F){void 0===F&&(F=SS),R=j(R),this.accessBase(R,0|F)},K.prototype.access=function(R,F,W){var oe=SS;"function"!=typeof F&&(oe=0|F,F=P(W)),R=j(R),this.wrapAsync(this.accessBase,[R,oe],F)},K.prototype.appendFileSync=function(R,F,W){void 0===W&&(W=MS),(W=TS(W)).flag&&R>>>0!==R||(W.flag="a"),this.writeFileSync(R,F,W)},K.prototype.appendFile=function(R,F,W,oe){W=(oe=xB(W,oe))[0],oe=oe[1],W.flag&&R>>>0!==R||(W.flag="a"),this.writeFile(R,F,W,oe)},K.prototype.readdirBase=function(R,F){var W=X(R);if(!(W=this.getResolvedLink(W)))throw a("ENOENT","readdir",R);if(!W.getNode().isDirectory())throw a("ENOTDIR","scandir",R);if(F.withFileTypes){var oe=[];for(Se in W.children)(R=W.getChild(Se))&&oe.push(Xp.default.build(R,F.encoding));return gg||"buffer"===F.encoding||oe.sort(function(Ne,sn){return Ne.name<sn.name?-1:Ne.name>sn.name?1:0}),oe}var Se=[];for(oe in W.children)Se.push(kr.strToEncoding(oe,F.encoding));return gg||"buffer"===F.encoding||Se.sort(),Se},K.prototype.readdirSync=function(R,F){return F=OS(F),R=j(R),this.readdirBase(R,F)},K.prototype.readdir=function(R,F,W){F=(W=OB(F,W))[0],W=W[1],R=j(R),this.wrapAsync(this.readdirBase,[R,F],W)},K.prototype.readlinkBase=function(R,F){var W=this.getLinkOrThrow(R,"readlink").getNode();if(!W.isSymlink())throw a("EINVAL","readlink",R);return R=oi+W.symlink.join(oi),kr.strToEncoding(R,F)},K.prototype.readlinkSync=function(R,F){return F=tf(F),R=j(R),this.readlinkBase(R,F.encoding)},K.prototype.readlink=function(R,F,W){F=(W=DS(F,W))[0],W=W[1],R=j(R),this.wrapAsync(this.readlinkBase,[R,F.encoding],W)},K.prototype.fsyncBase=function(R){this.getFileByFdOrThrow(R,"fsync")},K.prototype.fsyncSync=function(R){this.fsyncBase(R)},K.prototype.fsync=function(R,F){this.wrapAsync(this.fsyncBase,[R],F)},K.prototype.fdatasyncBase=function(R){this.getFileByFdOrThrow(R,"fdatasync")},K.prototype.fdatasyncSync=function(R){this.fdatasyncBase(R)},K.prototype.fdatasync=function(R,F){this.wrapAsync(this.fdatasyncBase,[R],F)},K.prototype.ftruncateBase=function(R,F){this.getFileByFdOrThrow(R,"ftruncate").truncate(F)},K.prototype.ftruncateSync=function(R,F){this.ftruncateBase(R,F)},K.prototype.ftruncate=function(R,F,W){var oe="number"==typeof F?F:0;F=P("number"==typeof F?W:F),this.wrapAsync(this.ftruncateBase,[R,oe],F)},K.prototype.truncateBase=function(R,F){R=this.openSync(R,"r+");try{this.ftruncateSync(R,F)}finally{this.closeSync(R)}},K.prototype.truncateSync=function(R,F){if(R>>>0===R)return this.ftruncateSync(R,F);this.truncateBase(R,F)},K.prototype.truncate=function(R,F,W){var oe="number"==typeof F?F:0;if(F=P("number"==typeof F?W:F),R>>>0===R)return this.ftruncate(R,oe,F);this.wrapAsync(this.truncateBase,[R,oe],F)},K.prototype.futimesBase=function(R,F,W){(R=this.getFileByFdOrThrow(R,"futimes").node).atime=new Date(1e3*F),R.mtime=new Date(1e3*W)},K.prototype.futimesSync=function(R,F,W){this.futimesBase(R,Fe(F),Fe(W))},K.prototype.futimes=function(R,F,W,oe){this.wrapAsync(this.futimesBase,[R,Fe(F),Fe(W)],oe)},K.prototype.utimesBase=function(R,F,W){R=this.openSync(R,"r+");try{this.futimesBase(R,F,W)}finally{this.closeSync(R)}},K.prototype.utimesSync=function(R,F,W){this.utimesBase(j(R),Fe(F),Fe(W))},K.prototype.utimes=function(R,F,W,oe){this.wrapAsync(this.utimesBase,[j(R),Fe(F),Fe(W)],oe)},K.prototype.mkdirBase=function(R,F){var W=X(R);if(!W.length)throw a("EISDIR","mkdir",R);var oe=this.getLinkParentAsDirOrThrow(R,"mkdir");if(oe.getChild(W=W[W.length-1]))throw a("EEXIST","mkdir",R);oe.createChild(W,this.createNode(!0,F))},K.prototype.mkdirpBase=function(R,F){R=X(R);for(var W=this.root,oe=0;oe<R.length;oe++){var Se=R[oe];if(!W.getNode().isDirectory())throw a("ENOTDIR","mkdir",W.getPath());var Ne=W.getChild(Se);if(Ne){if(!Ne.getNode().isDirectory())throw a("ENOTDIR","mkdir",Ne.getPath());W=Ne}else W=W.createChild(Se,this.createNode(!0,F))}},K.prototype.mkdirSync=function(R,F){var W=De((F=o(F)).mode,511);R=j(R),F.recursive?this.mkdirpBase(R,W):this.mkdirBase(R,W)},K.prototype.mkdir=function(R,F,W){var oe=o(F);F=P("function"==typeof F?F:W),W=De(oe.mode,511),R=j(R),this.wrapAsync(oe.recursive?this.mkdirpBase:this.mkdirBase,[R,W],F)},K.prototype.mkdirpSync=function(R,F){this.mkdirSync(R,{mode:F,recursive:!0})},K.prototype.mkdirp=function(R,F,W){var oe="function"==typeof F?void 0:F;F=P("function"==typeof F?F:W),this.mkdir(R,{mode:oe,recursive:!0},F)},K.prototype.mkdtempBase=function(R,F,W){void 0===W&&(W=5);var oe=R+this.genRndStr();try{return this.mkdirBase(oe,511),kr.strToEncoding(oe,F)}catch(Se){if("EEXIST"===Se.code){if(1<W)return this.mkdtempBase(R,F,W-1);throw Error("Could not create temp dir.")}throw Se}},K.prototype.mkdtempSync=function(R,F){if(F=tf(F).encoding,!R||"string"!=typeof R)throw new TypeError("filename prefix is required");return he(R),this.mkdtempBase(R,F)},K.prototype.mkdtemp=function(R,F,W){if(F=(W=DS(F,W))[0].encoding,W=W[1],!R||"string"!=typeof R)throw new TypeError("filename prefix is required");he(R)&&this.wrapAsync(this.mkdtempBase,[R,F],W)},K.prototype.rmdirBase=function(R,F){F=Ut({},LS,F);var W=this.getLinkAsDirOrThrow(R,"rmdir");if(W.length&&!F.recursive)throw a("ENOTEMPTY","rmdir",R);this.deleteLink(W)},K.prototype.rmdirSync=function(R,F){this.rmdirBase(j(R),F)},K.prototype.rmdir=function(R,F,W){var oe=Ut({},LS,F);F=P("function"==typeof F?F:W),this.wrapAsync(this.rmdirBase,[j(R),oe],F)},K.prototype.fchmodBase=function(R,F){this.getFileByFdOrThrow(R,"fchmod").chmod(F)},K.prototype.fchmodSync=function(R,F){this.fchmodBase(R,De(F))},K.prototype.fchmod=function(R,F,W){this.wrapAsync(this.fchmodBase,[R,De(F)],W)},K.prototype.chmodBase=function(R,F){R=this.openSync(R,"r+");try{this.fchmodBase(R,F)}finally{this.closeSync(R)}},K.prototype.chmodSync=function(R,F){F=De(F),R=j(R),this.chmodBase(R,F)},K.prototype.chmod=function(R,F,W){F=De(F),R=j(R),this.wrapAsync(this.chmodBase,[R,F],W)},K.prototype.lchmodBase=function(R,F){R=this.openBase(R,Nr,0,!1);try{this.fchmodBase(R,F)}finally{this.closeSync(R)}},K.prototype.lchmodSync=function(R,F){F=De(F),R=j(R),this.lchmodBase(R,F)},K.prototype.lchmod=function(R,F,W){F=De(F),R=j(R),this.wrapAsync(this.lchmodBase,[R,F],W)},K.prototype.fchownBase=function(R,F,W){this.getFileByFdOrThrow(R,"fchown").chown(F,W)},K.prototype.fchownSync=function(R,F,W){Ye(F),st(W),this.fchownBase(R,F,W)},K.prototype.fchown=function(R,F,W,oe){Ye(F),st(W),this.wrapAsync(this.fchownBase,[R,F,W],oe)},K.prototype.chownBase=function(R,F,W){this.getResolvedLinkOrThrow(R,"chown").getNode().chown(F,W)},K.prototype.chownSync=function(R,F,W){Ye(F),st(W),this.chownBase(j(R),F,W)},K.prototype.chown=function(R,F,W,oe){Ye(F),st(W),this.wrapAsync(this.chownBase,[j(R),F,W],oe)},K.prototype.lchownBase=function(R,F,W){this.getLinkOrThrow(R,"lchown").getNode().chown(F,W)},K.prototype.lchownSync=function(R,F,W){Ye(F),st(W),this.lchownBase(j(R),F,W)},K.prototype.lchown=function(R,F,W,oe){Ye(F),st(W),this.wrapAsync(this.lchownBase,[j(R),F,W],oe)},K.prototype.watchFile=function(R,F,W){R=j(R);var oe=F;if("function"==typeof oe&&(W=F,oe=null),"function"!=typeof W)throw Error('"watchFile()" requires a listener function');F=5007;var Se=!0;return oe&&"object"==typeof oe&&("number"==typeof oe.interval&&(F=oe.interval),"boolean"==typeof oe.persistent&&(Se=oe.persistent)),(oe=this.statWatchers[R])||((oe=new this.StatWatcher).start(R,Se,F),this.statWatchers[R]=oe),oe.addListener("change",W),oe},K.prototype.unwatchFile=function(R,F){R=j(R);var W=this.statWatchers[R];W&&("function"==typeof F?W.removeListener("change",F):W.removeAllListeners("change"),0===W.listenerCount("change")&&(W.stop(),delete this.statWatchers[R]))},K.prototype.createReadStream=function(R,F){return new this.ReadStream(R,F)},K.prototype.createWriteStream=function(R,F){return new this.WriteStream(R,F)},K.prototype.watch=function(R,F,W){R=j(R);var oe=F;"function"==typeof F&&(W=F,oe=null);var Se=tf(oe);F=Se.persistent,oe=Se.recursive,Se=Se.encoding,void 0===F&&(F=!0),void 0===oe&&(oe=!1);var Ne=new this.FSWatcher;return Ne.start(R,F,oe,Se),W&&Ne.addListener("change",W),Ne},K.fd=2147483647,K}(),t.Volume=e;var Hr,PS=function(K){function R(F){var W=K.call(this)||this;return W.onInterval=function(){try{var oe=W.vol.statSync(W.filename);W.hasChanged(oe)&&(W.emit("change",oe,W.prev),W.prev=oe)}finally{W.loop()}},W.vol=F,W}return ur(R,K),R.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},R.prototype.hasChanged=function(F){return F.mtimeMs>this.prev.mtimeMs||F.nlink!==this.prev.nlink},R.prototype.start=function(F,W,oe){void 0===W&&(W=!0),void 0===oe&&(oe=5007),this.filename=j(F),this.setTimeout=W?setTimeout:q1.default,this.interval=oe,this.prev=this.vol.statSync(this.filename),this.loop()},R.prototype.stop=function(){clearTimeout(this.timeoutRef),Qn.default.nextTick(Vt,this)},R}(ft.EventEmitter);t.StatWatcher=PS,Wu.inherits(Qe,Er.Readable),t.ReadStream=Qe,Qe.prototype.open=function(){var K=this;this._vol.open(this.path,this.flags,this.mode,function(R,F){R?(K.autoClose&&K.destroy&&K.destroy(),K.emit("error",R)):(K.fd=F,K.emit("open",F),K.read())})},Qe.prototype._read=function(K){if("number"!=typeof this.fd)return this.once("open",function(){this._read(K)});if(!this.destroyed){(!Hr||128>Hr.length-Hr.used)&&((Hr=qt.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var R=Hr,F=Math.min(Hr.length-Hr.used,K),W=Hr.used;if(void 0!==this.pos&&(F=Math.min(this.end-this.pos+1,F)),0>=F)return this.push(null);var oe=this;this._vol.read(this.fd,Hr,Hr.used,F,this.pos,function(Se,Ne){Se?(oe.autoClose&&oe.destroy&&oe.destroy(),oe.emit("error",Se)):(Se=null,0<Ne&&(oe.bytesRead+=Ne,Se=R.slice(W,W+Ne)),oe.push(Se))}),void 0!==this.pos&&(this.pos+=F),Hr.used+=F}},Qe.prototype._destroy=function(K,R){this.close(function(F){R(K||F)})},Qe.prototype.close=function(K){var R=this;if(K&&this.once("close",K),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",$t):Qn.default.nextTick(function(){return R.emit("close")});this.closed=!0,this._vol.close(this.fd,function(F){F?R.emit("error",F):R.emit("close")}),this.fd=null},Wu.inherits(Ot,Er.Writable),t.WriteStream=Ot,Ot.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(K,R){K?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",K)):(this.fd=R,this.emit("open",R))}.bind(this))},Ot.prototype._write=function(K,R,F){if(!(K instanceof qt.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(K,R,F)});var W=this;this._vol.write(this.fd,K,0,K.length,this.pos,function(oe,Se){if(oe)return W.autoClose&&W.destroy&&W.destroy(),F(oe);W.bytesWritten+=Se,F()}),void 0!==this.pos&&(this.pos+=K.length)},Ot.prototype._writev=function(K,R){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(K,R)});for(var F=this,W=K.length,oe=Array(W),Se=0,Ne=0;Ne<W;Ne++){var sn=K[Ne].chunk;oe[Ne]=sn,Se+=sn.length}W=qt.Buffer.concat(oe),this._vol.write(this.fd,W,0,W.length,this.pos,function(Dr,Uo){if(Dr)return F.destroy&&F.destroy(),R(Dr);F.bytesWritten+=Uo,R()}),void 0!==this.pos&&(this.pos+=Se)},Ot.prototype._destroy=Qe.prototype._destroy,Ot.prototype.close=Qe.prototype.close,Ot.prototype.destroySoon=Ot.prototype.end;var kS=function(K){function R(F){var W=K.call(this)||this;return W._filename="",W._filenameEncoded="",W._recursive=!1,W._encoding=kr.ENCODING_UTF8,W._onNodeChange=function(){W._emit("change")},W._onParentChild=function(oe){oe.getName()===W._getName()&&W._emit("rename")},W._emit=function(oe){W.emit("change",oe,W._filenameEncoded)},W._persist=function(){W._timer=setTimeout(W._persist,1e6)},W._vol=F,W}return ur(R,K),R.prototype._getName=function(){return this._steps[this._steps.length-1]},R.prototype.start=function(F,W,oe,Se){void 0===W&&(W=!0),void 0===oe&&(oe=!1),void 0===Se&&(Se=kr.ENCODING_UTF8),this._filename=j(F),this._steps=X(this._filename),this._filenameEncoded=kr.strToEncoding(this._filename),this._recursive=oe,this._encoding=Se;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(Ne){throw(W=Error("watch "+this._filename+" "+Ne.code)).code=Ne.code,W.errno=Ne.code,W}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(F=this._link.parent)&&(F.setMaxListeners(F.getMaxListeners()+1),F.on("child:delete",this._onParentChild)),W&&this._persist()},R.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var F=this._link.parent;F&&F.removeListener("child:delete",this._onParentChild)},R}(ft.EventEmitter);t.FSWatcher=kS});Xn(_s);var vB=_s.pathToFilename,CB=_s.filenameToSteps,mS=_s.Volume,dg=Hn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),t.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),t.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")});Xn(dg);var yS=Hn(function(e,t){function n(b){for(var P={F_OK:s,R_OK:a,W_OK:f,X_OK:v,constants:ut.constants,Stats:Da.default,Dirent:Xp.default},G=0,j=i;G<j.length;G++){var X=j[G];"function"==typeof b[X]&&(P[X]=b[X].bind(b))}for(G=0,j=o;G<j.length;G++)"function"==typeof b[X=j[G]]&&(P[X]=b[X].bind(b));return P.StatWatcher=b.StatWatcher,P.FSWatcher=b.FSWatcher,P.WriteStream=b.WriteStream,P.ReadStream=b.ReadStream,P.promises=b.promises,P._toUnixTimestamp=_s.toUnixTimestamp,P}var r=hn&&hn.__assign||function(){return r=Object.assign||function(b){for(var P,G=1,j=arguments.length;G<j;G++)for(var X in P=arguments[G])Object.prototype.hasOwnProperty.call(P,X)&&(b[X]=P[X]);return b},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=dg.fsSyncMethods,o=dg.fsAsyncMethods,s=ut.constants.F_OK,a=ut.constants.R_OK,f=ut.constants.W_OK,v=ut.constants.X_OK;t.Volume=_s.Volume,t.vol=new _s.Volume,t.createFsFromVolume=n,t.fs=n(t.vol),e.exports=r(r({},e.exports),t.fs),e.exports.semantic=!0});Xn(yS);var vS=yS.createFsFromVolume;BF.prototype.emit=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];i=this.listeners(e);try{for(var o=kp(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,uF(r))}catch(f){console.error(f)}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return 0<i.length};const pg=function(){function e(){this.volume=new mS,this.fs=vS(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return e.prototype._toJSON=function(t,n,r){void 0===n&&(n={});var o,i=!0;for(o in t.children){i=!1;var s=t.getChild(o);if(s){var a=s.getNode();a&&a.isFile()?(s=s.getPath(),r&&(s=eg(r,s)),n[s]=a.getBuffer()):a&&a.isDirectory()&&this._toJSON(s,n,r)}}return t=t.getPath(),r&&(t=eg(r,t)),t&&i&&(n[t]=null),n},e.prototype.toJSON=function(t,n,r){var i,o;void 0===n&&(n={}),void 0===r&&(r=!1);var s=[];if(t){t instanceof Array||(t=[t]);try{for(var a=kp(t),f=a.next();!f.done;f=a.next()){var v=vB(f.value),b=this.volume.getResolvedLink(v);b&&s.push(b)}}catch(ae){var P={error:ae}}finally{try{f&&!f.done&&(i=a.return)&&i.call(a)}finally{if(P)throw P.error}}}else s.push(this.volume.root);if(!s.length)return n;try{for(var G=kp(s),j=G.next();!j.done;j=G.next())this._toJSON(b=j.value,n,r?b.getPath():"")}catch(ae){var X={error:ae}}finally{try{j&&!j.done&&(o=G.return)&&o.call(G)}finally{if(X)throw X.error}}return n},e.prototype.fromJSONFixed=function(t,n){for(var r in n){var i=n[r];if(i?null!==Object.getPrototypeOf(i):null!==i){var o=CB(r);1<o.length&&(o="/"+o.slice(0,o.length-1).join("/"),t.mkdirpBase(o,511)),t.writeFileSync(r,i||"")}else t.mkdirpBase(r,511)}},e.prototype.fromJSON=function(t){this.volume=new mS,this.fromJSONFixed(this.volume,t),this.fs=vS(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var n=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==n)throw Error("invalid handle for stdout: "+n);if(0!==r)throw Error("invalid handle for stdin: "+r)},e.prototype.getStdOut=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(v){try{f(r.next(v))}catch(b){o(b)}}function a(v){try{f(r.throw(v))}catch(b){o(b)}}function f(v){v.done?i(v.value):new n(function(b){b(v.value)}).then(s,a)}f((r=r.apply(e,[])).next())})}(this,0,void 0,function(){var n=this;return function(e,t){function n(v){return function(b){return function(v){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,s&&(a=2&v[0]?s.return:v[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,v[1])).done)return a;switch(s=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,s=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===v[0]||2===v[0])){i=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))i.label=v[1];else if(6===v[0]&&i.label<a[1])i.label=a[1],a=v;else{if(!(a&&i.label<a[2])){a[2]&&i.ops.pop(),i.trys.pop();continue}i.label=a[2],i.ops.push(v)}}v=t.call(e,i)}catch(b){v=[6,b],s=0}finally{o=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,b])}}var o,s,a,f,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return f={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f}(this,function(){return[2,new Promise(function(r){r(n.fs.readFileSync("/dev/stdout","utf8"))})]})})},e}();var SB=Ae(793),EB=Ae(162);const DB=["terminal"];let CS=(()=>{class e{constructor(){this.terminal=new SB.Terminal({convertEol:!0}),this.fitAddon=new EB.FitAddon}ngAfterViewInit(){this.terminal.loadAddon(this.fitAddon),this.terminal.open(this.terminalDiv.nativeElement),this.fitAddon.fit()}write(n){this.terminal.write(n)}writeln(n){this.terminal.writeln(n)}onResize(){this.fitAddon.fit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=zo({type:e,selectors:[["app-terminal"]],viewQuery:function(n,r){if(1&n&&rc(DB,5),2&n){let i;nc(i=ic())&&(r.terminalDiv=i.first)}},decls:2,vars:0,consts:[[3,"resize"],["terminal",""]],template:function(n,r){1&n&&(Cr(0,"div",0,1),In("resize",function(){return r.onResize()},!1,O_),wr())},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm{cursor:text}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}.xterm-strikethrough{text-decoration:line-through}div{height:100%}\n'],encapsulation:3}),e})(),bB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=zo({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[["id","footer"],[1,"spacer"],["href","https://github.com/lbguilherme/crystal-playground","rel","external noopener noreferrer","target","_blank"],["src","./assets/github.png","alt","GitHub Icon"]],template:function(n,r){1&n&&(Cr(0,"div",0),ia(1,"div",1),Cr(2,"a",2),ia(3,"img",3),sa(4," GitHub "),wr(),wr())},styles:["#footer[_ngcontent-%COMP%]{width:100%;height:22px;position:fixed;bottom:0;left:0;right:0;padding:0 7.5px;box-sizing:border-box;background:#007ACC;display:flex}#footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;padding:0 7.5px;margin-right:5px;font-size:12px;-webkit-user-select:none;user-select:none;height:22px;line-height:22px;font-family:Segoe WPC,Segoe UI,Noto Sans,sans-serif;text-decoration:none}#footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#1F8AD2}#footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;vertical-align:-2px;margin-right:3px}#footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}"]}),e})(),AB=(()=>{class e{constructor(n){this.changeDetector=n,this.title="crystal-playground",this.editorOptions={theme:"vs-dark",language:"crystal"},this.code=atob(window.location.hash.slice(1))||'\n# Welcome to the Crystal Playground\n#\n# This is a proof of concept and as such is incomplete and incorrect. Please try!\n# The default prelude can\'t yet be included because we lack exception support (see #11658).\n#\n# Everything here runs inside your browser.\n#\n# For more details see https://github.com/crystal-lang/crystal/issues/11658\n# Playground source code: https://github.com/lbguilherme/crystal-playground\n\nrequire "lib_c"\nrequire "c/*"\n\nclass String\n  def to_unsafe\n    pointerof(@c)\n  end\nend\n\nLibC.printf "Hello from WebAssembly!\\n"\n',this.crystalWasm=Di(function*(){return yield WebAssembly.compileStreaming(fetch("/assets/crystal.wasm"))})(),this.wasmLdWasm=Di(function*(){return yield WebAssembly.compileStreaming(fetch("/assets/wasm-ld.wasm"))})(),this.fsJson=Di(function*(){const r=yield(yield fetch("/assets/fs.json")).json(),i=yield(yield fetch("/assets/fs.blob")).arrayBuffer();return Object.fromEntries(Object.entries(r).map(([o,s])=>[o,s?new Uint8Array(i,...s):null]))})(),this.busy=!1,this.optimizeFlag=!1}onCodeChange(n){window.location.hash=btoa(n)}ngAfterViewInit(){this.version()}onInit(n){!function(e){mp.apply(this,arguments)}(n)}version(){var n=this;return Di(function*(){const r=new pg;yield n.executeCommand(n.crystalWasm,r,["crystal","--version"])})()}format(){var n=this;return Di(function*(){const r=new pg;r.fs.writeFileSync("/code.cr",n.code),yield n.executeCommand(n.crystalWasm,r,["crystal","tool","format","/code.cr"]),n.code=r.fs.readFileSync("/code.cr","utf8")})()}run(n){var r=this;return Di(function*(){const i=new pg;if(i.fromJSON(yield r.fsJson),i.fs.writeFileSync("/code.cr",r.code),i.fs.writeFileSync("/empty.cr",""),i.fs.writeFileSync("/dev/zero",""),yield r.executeCommand(r.crystalWasm,i,["crystal","build","/code.cr","--cross-compile","--prelude","/empty.cr",...r.optimizeFlag?["--release"]:[]],{CRYSTAL_PATH:"/crystal/src"}),yield r.executeCommand(r.wasmLdWasm,i,["wasm-ld","/code.wasm","-o","/program.wasm","/lib/wasm32-wasi/crt1.o","/lib/wasm32-wasi/libc.a"]),n){r.terminal.writeln("$ download /program.wasm");const o=i.fs.readFileSync("/program.wasm"),s=window.URL.createObjectURL(new Blob([o])),a=document.createElement("a");document.body.appendChild(a),a.setAttribute("style","display: none"),a.href=s,a.download="program.wasm",a.click(),window.URL.revokeObjectURL(s),a.remove()}else yield r.executeCommand(WebAssembly.compile(i.fs.readFileSync("/program.wasm")),i,["/program.wasm"])})()}executeCommand(n,r,i,o={}){var s=this;return Di(function*(){var a;s.busy=!0,s.changeDetector.detectChanges();try{s.terminal.writeln("$ "+i.join(" "));const f=new iF({env:o,args:i,preopens:{"/":"/"},bindings:s.getBindings(r)}),v=yield n,b=yield WebAssembly.instantiate(v,Object.assign({},f.getImports(v)));try{return f.start(b),[-1]}catch(P){if(P instanceof Nu){if(0!==P.code)throw s.terminal.writeln("\n\n"+(null!==(a=P.stack)&&void 0!==a?a:"").split("\n").filter(G=>G.includes("wasm-function")).map(G=>G.replace(/http:.*wasm:wasm-function/,"")).join("\n")),s.terminal.writeln(`exit code: ${P.code}`),P;return[P.code,P.stack]}throw P}}catch(f){throw f instanceof Nu||(s.terminal.writeln(`JavaScript Error: ${f}`),f instanceof Error&&f.stack&&s.terminal.writeln(f.stack)),f}finally{s.busy=!1,s.changeDetector.detectChanges(),s.terminal.writeln("")}})()}getBindings(n){return{exit:r=>{throw new Nu(r)},kill:r=>{throw new Pp(r)},hrtime:()=>BigInt(0),isTTY:()=>!1,path:Ae(928),randomFillSync:(r,i,o)=>{var s=new Uint8Array(r.buffer,i,o);return crypto.getRandomValues(s),r},fs:Object.assign(Object.assign({},n.fs),{writeSync:(r,i,o,s,a)=>{if(1===r||2===r){const f=new Uint8Array(i.buffer,i.byteOffset+(null!=o?o:0),Math.min(i.byteLength-(null!=o?o:0),null!=s?s:i.byteLength));return this.terminal.write(String.fromCharCode(...f)),f.length}return n.fs.writeSync(r,i,o,s,a)}})}}}return e.\u0275fac=function(n){return new(n||e)(Be(U0))},e.\u0275cmp=zo({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(1&n&&rc(CS,5),2&n){let i;nc(i=ic())&&(r.terminal=i.first)}},decls:14,vars:6,consts:[[3,"options","ngModel","ngModelChange","onInit"],["id","sidepanel"],[3,"disabled","click"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(Cr(0,"ngx-monaco-editor",0),In("ngModelChange",function(o){return r.code=o})("ngModelChange",function(o){return r.onCodeChange(o)})("onInit",function(o){return r.onInit(o)}),wr(),Cr(1,"section",1),Cr(2,"div"),Cr(3,"button",2),In("click",function(){return r.format()}),sa(4,"Format"),wr(),Cr(5,"button",2),In("click",function(){return r.run(!1)}),sa(6,"Build & Run"),wr(),Cr(7,"button",2),In("click",function(){return r.run(!0)}),sa(8,"Build & Download"),wr(),Cr(9,"span"),Cr(10,"input",3),In("ngModelChange",function(o){return r.optimizeFlag=o}),wr(),sa(11," Optimized Build"),wr(),wr(),ia(12,"app-terminal"),wr(),ia(13,"app-footer")),2&n&&(ts("options",r.editorOptions)("ngModel",r.code),uu(3),ts("disabled",r.busy),uu(2),ts("disabled",r.busy),uu(2),ts("disabled",r.busy),uu(3),ts("ngModel",r.optimizeFlag))},directives:[B2,JC,up,$d,CS,bB],styles:["ngx-monaco-editor[_ngcontent-%COMP%]{position:absolute;width:50%;height:calc(100vh - 22px)}ngx-monaco-editor[_ngcontent-%COMP%]     .editor-container{height:100%}#sidepanel[_ngcontent-%COMP%]{position:absolute;right:0;width:50%;height:calc(100vh - 22px);background-color:#000;display:flex;flex-direction:column}#sidepanel[_ngcontent-%COMP%]   app-terminal[_ngcontent-%COMP%]{flex-grow:1}#sidepanel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1em}#sidepanel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}#sidepanel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #sidepanel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700}"]}),e})(),IB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vi({type:e,bootstrap:[AB]}),e.\u0275inj=Ue({providers:[],imports:[[pO,M2,N2.forRoot(U2)]]}),e})();H0=!1,hO().bootstrapModule(IB).catch(e=>console.error(e))},343:(qe,Ce)=>{"use strict";Ce.byteLength=function(g){var E=_(g),l=E[1];return 3*(E[0]+l)/4-l},Ce.toByteArray=function(g){var E,w,C=_(g),l=C[0],u=C[1],c=new te(function(g,E,C){return 3*(E+C)/4-C}(0,l,u)),D=0,S=u>0?l-4:l;for(w=0;w<S;w+=4)E=ge[g.charCodeAt(w)]<<18|ge[g.charCodeAt(w+1)]<<12|ge[g.charCodeAt(w+2)]<<6|ge[g.charCodeAt(w+3)],c[D++]=E>>16&255,c[D++]=E>>8&255,c[D++]=255&E;return 2===u&&(E=ge[g.charCodeAt(w)]<<2|ge[g.charCodeAt(w+1)]>>4,c[D++]=255&E),1===u&&(E=ge[g.charCodeAt(w)]<<10|ge[g.charCodeAt(w+1)]<<4|ge[g.charCodeAt(w+2)]>>2,c[D++]=E>>8&255,c[D++]=255&E),c},Ce.fromByteArray=function(g){for(var E,C=g.length,l=C%3,u=[],c=16383,D=0,S=C-l;D<S;D+=c)u.push(A(g,D,D+c>S?S:D+c));return 1===l?u.push(Ae[(E=g[C-1])>>2]+Ae[E<<4&63]+"=="):2===l&&u.push(Ae[(E=(g[C-2]<<8)+g[C-1])>>10]+Ae[E>>4&63]+Ae[E<<2&63]+"="),u.join("")};for(var Ae=[],ge=[],te="undefined"!=typeof Uint8Array?Uint8Array:Array,ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,I=ne.length;p<I;++p)Ae[p]=ne[p],ge[ne.charCodeAt(p)]=p;function _(g){var E=g.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=g.indexOf("=");return-1===C&&(C=E),[C,C===E?0:4-C%4]}function M(g){return Ae[g>>18&63]+Ae[g>>12&63]+Ae[g>>6&63]+Ae[63&g]}function A(g,E,C){for(var u=[],c=E;c<C;c+=3)u.push(M((g[c]<<16&16711680)+(g[c+1]<<8&65280)+(255&g[c+2])));return u.join("")}ge["-".charCodeAt(0)]=62,ge["_".charCodeAt(0)]=63},172:(qe,Ce,Ae)=>{"use strict";const te=Ae(343),ne=Ae(461),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ce.lW=d,Ce.h2=50;const I=2147483647;function y(Q){if(Q>I)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const x=new Uint8Array(Q);return Object.setPrototypeOf(x,d.prototype),x}function d(Q,x,B){if("number"==typeof Q){if("string"==typeof x)throw new TypeError('The "string" argument must be of type string. Received type number');return h(Q)}return m(Q,x,B)}function m(Q,x,B){if("string"==typeof Q)return function(Q,x){if(("string"!=typeof x||""===x)&&(x="utf8"),!d.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const B=0|S(Q,x);let ee=y(B);const ce=ee.write(Q,x);return ce!==B&&(ee=ee.slice(0,ce)),ee}(Q,x);if(ArrayBuffer.isView(Q))return function(Q){if(Cn(Q,Uint8Array)){const x=new Uint8Array(Q);return l(x.buffer,x.byteOffset,x.byteLength)}return E(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Cn(Q,ArrayBuffer)||Q&&Cn(Q.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Cn(Q,SharedArrayBuffer)||Q&&Cn(Q.buffer,SharedArrayBuffer)))return l(Q,x,B);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=Q.valueOf&&Q.valueOf();if(null!=ee&&ee!==Q)return d.from(ee,x,B);const ce=function(Q){if(d.isBuffer(Q)){const x=0|c(Q.length),B=y(x);return 0===B.length||Q.copy(B,0,0,x),B}return void 0!==Q.length?"number"!=typeof Q.length||br(Q.length)?y(0):E(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?E(Q.data):void 0}(Q);if(ce)return ce;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return d.from(Q[Symbol.toPrimitive]("string"),x,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function M(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function h(Q){return M(Q),y(Q<0?0:0|c(Q))}function E(Q){const x=Q.length<0?0:0|c(Q.length),B=y(x);for(let ee=0;ee<x;ee+=1)B[ee]=255&Q[ee];return B}function l(Q,x,B){if(x<0||Q.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<x+(B||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return ee=void 0===x&&void 0===B?new Uint8Array(Q):void 0===B?new Uint8Array(Q,x):new Uint8Array(Q,x,B),Object.setPrototypeOf(ee,d.prototype),ee}function c(Q){if(Q>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return 0|Q}function S(Q,x){if(d.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Cn(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const B=Q.length,ee=arguments.length>2&&!0===arguments[2];if(!ee&&0===B)return 0;let ce=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Jn(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return Rn(Q).length;default:if(ce)return ee?-1:Jn(Q).length;x=(""+x).toLowerCase(),ce=!0}}function w(Q,x,B){let ee=!1;if((void 0===x||x<0)&&(x=0),x>this.length||((void 0===B||B>this.length)&&(B=this.length),B<=0)||(B>>>=0)<=(x>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return _e(this,x,B);case"utf8":case"utf-8":return O(this,x,B);case"ascii":return ie(this,x,B);case"latin1":case"binary":return pe(this,x,B);case"base64":return N(this,x,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,x,B);default:if(ee)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ee=!0}}function T(Q,x,B){const ee=Q[x];Q[x]=Q[B],Q[B]=ee}function k(Q,x,B,ee,ce){if(0===Q.length)return-1;if("string"==typeof B?(ee=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),br(B=+B)&&(B=ce?0:Q.length-1),B<0&&(B=Q.length+B),B>=Q.length){if(ce)return-1;B=Q.length-1}else if(B<0){if(!ce)return-1;B=0}if("string"==typeof x&&(x=d.from(x,ee)),d.isBuffer(x))return 0===x.length?-1:V(Q,x,B,ee,ce);if("number"==typeof x)return x&=255,"function"==typeof Uint8Array.prototype.indexOf?ce?Uint8Array.prototype.indexOf.call(Q,x,B):Uint8Array.prototype.lastIndexOf.call(Q,x,B):V(Q,[x],B,ee,ce);throw new TypeError("val must be string, number or Buffer")}function V(Q,x,B,ee,ce){let vt,ye=1,be=Q.length,Xe=x.length;if(void 0!==ee&&("ucs2"===(ee=String(ee).toLowerCase())||"ucs-2"===ee||"utf16le"===ee||"utf-16le"===ee)){if(Q.length<2||x.length<2)return-1;ye=2,be/=2,Xe/=2,B/=2}function Dt(Et,pt){return 1===ye?Et[pt]:Et.readUInt16BE(pt*ye)}if(ce){let Et=-1;for(vt=B;vt<be;vt++)if(Dt(Q,vt)===Dt(x,-1===Et?0:vt-Et)){if(-1===Et&&(Et=vt),vt-Et+1===Xe)return Et*ye}else-1!==Et&&(vt-=vt-Et),Et=-1}else for(B+Xe>be&&(B=be-Xe),vt=B;vt>=0;vt--){let Et=!0;for(let pt=0;pt<Xe;pt++)if(Dt(Q,vt+pt)!==Dt(x,pt)){Et=!1;break}if(Et)return vt}return-1}function L(Q,x,B,ee){B=Number(B)||0;const ce=Q.length-B;ee?(ee=Number(ee))>ce&&(ee=ce):ee=ce;const ye=x.length;let be;for(ee>ye/2&&(ee=ye/2),be=0;be<ee;++be){const Xe=parseInt(x.substr(2*be,2),16);if(br(Xe))return be;Q[B+be]=Xe}return be}function H(Q,x,B,ee){return cr(Jn(x,Q.length-B),Q,B,ee)}function Z(Q,x,B,ee){return cr(function(Q){const x=[];for(let B=0;B<Q.length;++B)x.push(255&Q.charCodeAt(B));return x}(x),Q,B,ee)}function $(Q,x,B,ee){return cr(Rn(x),Q,B,ee)}function z(Q,x,B,ee){return cr(function(Q,x){let B,ee,ce;const ye=[];for(let be=0;be<Q.length&&!((x-=2)<0);++be)B=Q.charCodeAt(be),ee=B>>8,ce=B%256,ye.push(ce),ye.push(ee);return ye}(x,Q.length-B),Q,B,ee)}function N(Q,x,B){return te.fromByteArray(0===x&&B===Q.length?Q:Q.slice(x,B))}function O(Q,x,B){B=Math.min(Q.length,B);const ee=[];let ce=x;for(;ce<B;){const ye=Q[ce];let be=null,Xe=ye>239?4:ye>223?3:ye>191?2:1;if(ce+Xe<=B){let Dt,vt,Et,pt;switch(Xe){case 1:ye<128&&(be=ye);break;case 2:Dt=Q[ce+1],128==(192&Dt)&&(pt=(31&ye)<<6|63&Dt,pt>127&&(be=pt));break;case 3:Dt=Q[ce+1],vt=Q[ce+2],128==(192&Dt)&&128==(192&vt)&&(pt=(15&ye)<<12|(63&Dt)<<6|63&vt,pt>2047&&(pt<55296||pt>57343)&&(be=pt));break;case 4:Dt=Q[ce+1],vt=Q[ce+2],Et=Q[ce+3],128==(192&Dt)&&128==(192&vt)&&128==(192&Et)&&(pt=(15&ye)<<18|(63&Dt)<<12|(63&vt)<<6|63&Et,pt>65535&&pt<1114112&&(be=pt))}}null===be?(be=65533,Xe=1):be>65535&&(be-=65536,ee.push(be>>>10&1023|55296),be=56320|1023&be),ee.push(be),ce+=Xe}return function(Q){const x=Q.length;if(x<=U)return String.fromCharCode.apply(String,Q);let B="",ee=0;for(;ee<x;)B+=String.fromCharCode.apply(String,Q.slice(ee,ee+=U));return B}(ee)}!(d.TYPED_ARRAY_SUPPORT=function(){try{const Q=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(Q,x),42===Q.foo()}catch(Q){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(Q,x,B){return m(Q,x,B)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(Q,x,B){return function(Q,x,B){return M(Q),Q<=0?y(Q):void 0!==x?"string"==typeof B?y(Q).fill(x,B):y(Q).fill(x):y(Q)}(Q,x,B)},d.allocUnsafe=function(Q){return h(Q)},d.allocUnsafeSlow=function(Q){return h(Q)},d.isBuffer=function(x){return null!=x&&!0===x._isBuffer&&x!==d.prototype},d.compare=function(x,B){if(Cn(x,Uint8Array)&&(x=d.from(x,x.offset,x.byteLength)),Cn(B,Uint8Array)&&(B=d.from(B,B.offset,B.byteLength)),!d.isBuffer(x)||!d.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===B)return 0;let ee=x.length,ce=B.length;for(let ye=0,be=Math.min(ee,ce);ye<be;++ye)if(x[ye]!==B[ye]){ee=x[ye],ce=B[ye];break}return ee<ce?-1:ce<ee?1:0},d.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(x,B){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(0===x.length)return d.alloc(0);let ee;if(void 0===B)for(B=0,ee=0;ee<x.length;++ee)B+=x[ee].length;const ce=d.allocUnsafe(B);let ye=0;for(ee=0;ee<x.length;++ee){let be=x[ee];if(Cn(be,Uint8Array))ye+be.length>ce.length?(d.isBuffer(be)||(be=d.from(be)),be.copy(ce,ye)):Uint8Array.prototype.set.call(ce,be,ye);else{if(!d.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ce,ye)}ye+=be.length}return ce},d.byteLength=S,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const x=this.length;if(x%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<x;B+=2)T(this,B,B+1);return this},d.prototype.swap32=function(){const x=this.length;if(x%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<x;B+=4)T(this,B,B+3),T(this,B+1,B+2);return this},d.prototype.swap64=function(){const x=this.length;if(x%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<x;B+=8)T(this,B,B+7),T(this,B+1,B+6),T(this,B+2,B+5),T(this,B+3,B+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){const x=this.length;return 0===x?"":0===arguments.length?O(this,0,x):w.apply(this,arguments)},d.prototype.equals=function(x){if(!d.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x||0===d.compare(this,x)},d.prototype.inspect=function(){let x="";const B=Ce.h2;return x=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(x+=" ... "),"<Buffer "+x+">"},p&&(d.prototype[p]=d.prototype.inspect),d.prototype.compare=function(x,B,ee,ce,ye){if(Cn(x,Uint8Array)&&(x=d.from(x,x.offset,x.byteLength)),!d.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(void 0===B&&(B=0),void 0===ee&&(ee=x?x.length:0),void 0===ce&&(ce=0),void 0===ye&&(ye=this.length),B<0||ee>x.length||ce<0||ye>this.length)throw new RangeError("out of range index");if(ce>=ye&&B>=ee)return 0;if(ce>=ye)return-1;if(B>=ee)return 1;if(this===x)return 0;let be=(ye>>>=0)-(ce>>>=0),Xe=(ee>>>=0)-(B>>>=0);const Dt=Math.min(be,Xe),vt=this.slice(ce,ye),Et=x.slice(B,ee);for(let pt=0;pt<Dt;++pt)if(vt[pt]!==Et[pt]){be=vt[pt],Xe=Et[pt];break}return be<Xe?-1:Xe<be?1:0},d.prototype.includes=function(x,B,ee){return-1!==this.indexOf(x,B,ee)},d.prototype.indexOf=function(x,B,ee){return k(this,x,B,ee,!0)},d.prototype.lastIndexOf=function(x,B,ee){return k(this,x,B,ee,!1)},d.prototype.write=function(x,B,ee,ce){if(void 0===B)ce="utf8",ee=this.length,B=0;else if(void 0===ee&&"string"==typeof B)ce=B,ee=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(ee)?(ee>>>=0,void 0===ce&&(ce="utf8")):(ce=ee,ee=void 0)}const ye=this.length-B;if((void 0===ee||ee>ye)&&(ee=ye),x.length>0&&(ee<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let be=!1;for(;;)switch(ce){case"hex":return L(this,x,B,ee);case"utf8":case"utf-8":return H(this,x,B,ee);case"ascii":case"latin1":case"binary":return Z(this,x,B,ee);case"base64":return $(this,x,B,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,x,B,ee);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),be=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const U=4096;function ie(Q,x,B){let ee="";B=Math.min(Q.length,B);for(let ce=x;ce<B;++ce)ee+=String.fromCharCode(127&Q[ce]);return ee}function pe(Q,x,B){let ee="";B=Math.min(Q.length,B);for(let ce=x;ce<B;++ce)ee+=String.fromCharCode(Q[ce]);return ee}function _e(Q,x,B){const ee=Q.length;(!x||x<0)&&(x=0),(!B||B<0||B>ee)&&(B=ee);let ce="";for(let ye=x;ye<B;++ye)ce+=Wo[Q[ye]];return ce}function Ee(Q,x,B){const ee=Q.slice(x,B);let ce="";for(let ye=0;ye<ee.length-1;ye+=2)ce+=String.fromCharCode(ee[ye]+256*ee[ye+1]);return ce}function Re(Q,x,B){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+x>B)throw new RangeError("Trying to access beyond buffer length")}function xe(Q,x,B,ee,ce,ye){if(!d.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>ce||x<ye)throw new RangeError('"value" argument is out of bounds');if(B+ee>Q.length)throw new RangeError("Index out of range")}function q(Q,x,B,ee,ce){Tt(x,ee,ce,Q,B,7);let ye=Number(x&BigInt(4294967295));Q[B++]=ye,ye>>=8,Q[B++]=ye,ye>>=8,Q[B++]=ye,ye>>=8,Q[B++]=ye;let be=Number(x>>BigInt(32)&BigInt(4294967295));return Q[B++]=be,be>>=8,Q[B++]=be,be>>=8,Q[B++]=be,be>>=8,Q[B++]=be,B}function J(Q,x,B,ee,ce){Tt(x,ee,ce,Q,B,7);let ye=Number(x&BigInt(4294967295));Q[B+7]=ye,ye>>=8,Q[B+6]=ye,ye>>=8,Q[B+5]=ye,ye>>=8,Q[B+4]=ye;let be=Number(x>>BigInt(32)&BigInt(4294967295));return Q[B+3]=be,be>>=8,Q[B+2]=be,be>>=8,Q[B+1]=be,be>>=8,Q[B]=be,B+8}function re(Q,x,B,ee,ce,ye){if(B+ee>Q.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function ue(Q,x,B,ee,ce){return x=+x,B>>>=0,ce||re(Q,0,B,4),ne.write(Q,x,B,ee,23,4),B+4}function se(Q,x,B,ee,ce){return x=+x,B>>>=0,ce||re(Q,0,B,8),ne.write(Q,x,B,ee,52,8),B+8}d.prototype.slice=function(x,B){const ee=this.length;(x=~~x)<0?(x+=ee)<0&&(x=0):x>ee&&(x=ee),(B=void 0===B?ee:~~B)<0?(B+=ee)<0&&(B=0):B>ee&&(B=ee),B<x&&(B=x);const ce=this.subarray(x,B);return Object.setPrototypeOf(ce,d.prototype),ce},d.prototype.readUintLE=d.prototype.readUIntLE=function(x,B,ee){x>>>=0,B>>>=0,ee||Re(x,B,this.length);let ce=this[x],ye=1,be=0;for(;++be<B&&(ye*=256);)ce+=this[x+be]*ye;return ce},d.prototype.readUintBE=d.prototype.readUIntBE=function(x,B,ee){x>>>=0,B>>>=0,ee||Re(x,B,this.length);let ce=this[x+--B],ye=1;for(;B>0&&(ye*=256);)ce+=this[x+--B]*ye;return ce},d.prototype.readUint8=d.prototype.readUInt8=function(x,B){return x>>>=0,B||Re(x,1,this.length),this[x]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(x,B){return x>>>=0,B||Re(x,2,this.length),this[x]|this[x+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(x,B){return x>>>=0,B||Re(x,2,this.length),this[x]<<8|this[x+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(x,B){return x>>>=0,B||Re(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+16777216*this[x+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(x,B){return x>>>=0,B||Re(x,4,this.length),16777216*this[x]+(this[x+1]<<16|this[x+2]<<8|this[x+3])},d.prototype.readBigUInt64LE=xn(function(x){ke(x>>>=0,"offset");const B=this[x],ee=this[x+7];(void 0===B||void 0===ee)&&St(x,this.length-8);const ce=B+256*this[++x]+65536*this[++x]+this[++x]*2**24,ye=this[++x]+256*this[++x]+65536*this[++x]+ee*2**24;return BigInt(ce)+(BigInt(ye)<<BigInt(32))}),d.prototype.readBigUInt64BE=xn(function(x){ke(x>>>=0,"offset");const B=this[x],ee=this[x+7];(void 0===B||void 0===ee)&&St(x,this.length-8);const ce=B*2**24+65536*this[++x]+256*this[++x]+this[++x],ye=this[++x]*2**24+65536*this[++x]+256*this[++x]+ee;return(BigInt(ce)<<BigInt(32))+BigInt(ye)}),d.prototype.readIntLE=function(x,B,ee){x>>>=0,B>>>=0,ee||Re(x,B,this.length);let ce=this[x],ye=1,be=0;for(;++be<B&&(ye*=256);)ce+=this[x+be]*ye;return ye*=128,ce>=ye&&(ce-=Math.pow(2,8*B)),ce},d.prototype.readIntBE=function(x,B,ee){x>>>=0,B>>>=0,ee||Re(x,B,this.length);let ce=B,ye=1,be=this[x+--ce];for(;ce>0&&(ye*=256);)be+=this[x+--ce]*ye;return ye*=128,be>=ye&&(be-=Math.pow(2,8*B)),be},d.prototype.readInt8=function(x,B){return x>>>=0,B||Re(x,1,this.length),128&this[x]?-1*(255-this[x]+1):this[x]},d.prototype.readInt16LE=function(x,B){x>>>=0,B||Re(x,2,this.length);const ee=this[x]|this[x+1]<<8;return 32768&ee?4294901760|ee:ee},d.prototype.readInt16BE=function(x,B){x>>>=0,B||Re(x,2,this.length);const ee=this[x+1]|this[x]<<8;return 32768&ee?4294901760|ee:ee},d.prototype.readInt32LE=function(x,B){return x>>>=0,B||Re(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},d.prototype.readInt32BE=function(x,B){return x>>>=0,B||Re(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},d.prototype.readBigInt64LE=xn(function(x){ke(x>>>=0,"offset");const B=this[x],ee=this[x+7];return(void 0===B||void 0===ee)&&St(x,this.length-8),(BigInt(this[x+4]+256*this[x+5]+65536*this[x+6]+(ee<<24))<<BigInt(32))+BigInt(B+256*this[++x]+65536*this[++x]+this[++x]*2**24)}),d.prototype.readBigInt64BE=xn(function(x){ke(x>>>=0,"offset");const B=this[x],ee=this[x+7];(void 0===B||void 0===ee)&&St(x,this.length-8);const ce=(B<<24)+65536*this[++x]+256*this[++x]+this[++x];return(BigInt(ce)<<BigInt(32))+BigInt(this[++x]*2**24+65536*this[++x]+256*this[++x]+ee)}),d.prototype.readFloatLE=function(x,B){return x>>>=0,B||Re(x,4,this.length),ne.read(this,x,!0,23,4)},d.prototype.readFloatBE=function(x,B){return x>>>=0,B||Re(x,4,this.length),ne.read(this,x,!1,23,4)},d.prototype.readDoubleLE=function(x,B){return x>>>=0,B||Re(x,8,this.length),ne.read(this,x,!0,52,8)},d.prototype.readDoubleBE=function(x,B){return x>>>=0,B||Re(x,8,this.length),ne.read(this,x,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(x,B,ee,ce){x=+x,B>>>=0,ee>>>=0,ce||xe(this,x,B,ee,Math.pow(2,8*ee)-1,0);let ye=1,be=0;for(this[B]=255&x;++be<ee&&(ye*=256);)this[B+be]=x/ye&255;return B+ee},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(x,B,ee,ce){x=+x,B>>>=0,ee>>>=0,ce||xe(this,x,B,ee,Math.pow(2,8*ee)-1,0);let ye=ee-1,be=1;for(this[B+ye]=255&x;--ye>=0&&(be*=256);)this[B+ye]=x/be&255;return B+ee},d.prototype.writeUint8=d.prototype.writeUInt8=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,1,255,0),this[B]=255&x,B+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,2,65535,0),this[B]=255&x,this[B+1]=x>>>8,B+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,2,65535,0),this[B]=x>>>8,this[B+1]=255&x,B+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,4,4294967295,0),this[B+3]=x>>>24,this[B+2]=x>>>16,this[B+1]=x>>>8,this[B]=255&x,B+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,4,4294967295,0),this[B]=x>>>24,this[B+1]=x>>>16,this[B+2]=x>>>8,this[B+3]=255&x,B+4},d.prototype.writeBigUInt64LE=xn(function(x,B=0){return q(this,x,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=xn(function(x,B=0){return J(this,x,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(x,B,ee,ce){if(x=+x,B>>>=0,!ce){const Dt=Math.pow(2,8*ee-1);xe(this,x,B,ee,Dt-1,-Dt)}let ye=0,be=1,Xe=0;for(this[B]=255&x;++ye<ee&&(be*=256);)x<0&&0===Xe&&0!==this[B+ye-1]&&(Xe=1),this[B+ye]=(x/be>>0)-Xe&255;return B+ee},d.prototype.writeIntBE=function(x,B,ee,ce){if(x=+x,B>>>=0,!ce){const Dt=Math.pow(2,8*ee-1);xe(this,x,B,ee,Dt-1,-Dt)}let ye=ee-1,be=1,Xe=0;for(this[B+ye]=255&x;--ye>=0&&(be*=256);)x<0&&0===Xe&&0!==this[B+ye+1]&&(Xe=1),this[B+ye]=(x/be>>0)-Xe&255;return B+ee},d.prototype.writeInt8=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,1,127,-128),x<0&&(x=255+x+1),this[B]=255&x,B+1},d.prototype.writeInt16LE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,2,32767,-32768),this[B]=255&x,this[B+1]=x>>>8,B+2},d.prototype.writeInt16BE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,2,32767,-32768),this[B]=x>>>8,this[B+1]=255&x,B+2},d.prototype.writeInt32LE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,4,2147483647,-2147483648),this[B]=255&x,this[B+1]=x>>>8,this[B+2]=x>>>16,this[B+3]=x>>>24,B+4},d.prototype.writeInt32BE=function(x,B,ee){return x=+x,B>>>=0,ee||xe(this,x,B,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[B]=x>>>24,this[B+1]=x>>>16,this[B+2]=x>>>8,this[B+3]=255&x,B+4},d.prototype.writeBigInt64LE=xn(function(x,B=0){return q(this,x,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=xn(function(x,B=0){return J(this,x,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function(x,B,ee){return ue(this,x,B,!0,ee)},d.prototype.writeFloatBE=function(x,B,ee){return ue(this,x,B,!1,ee)},d.prototype.writeDoubleLE=function(x,B,ee){return se(this,x,B,!0,ee)},d.prototype.writeDoubleBE=function(x,B,ee){return se(this,x,B,!1,ee)},d.prototype.copy=function(x,B,ee,ce){if(!d.isBuffer(x))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!ce&&0!==ce&&(ce=this.length),B>=x.length&&(B=x.length),B||(B=0),ce>0&&ce<ee&&(ce=ee),ce===ee||0===x.length||0===this.length)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),x.length-B<ce-ee&&(ce=x.length-B+ee);const ye=ce-ee;return this===x&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(B,ee,ce):Uint8Array.prototype.set.call(x,this.subarray(ee,ce),B),ye},d.prototype.fill=function(x,B,ee,ce){if("string"==typeof x){if("string"==typeof B?(ce=B,B=0,ee=this.length):"string"==typeof ee&&(ce=ee,ee=this.length),void 0!==ce&&"string"!=typeof ce)throw new TypeError("encoding must be a string");if("string"==typeof ce&&!d.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(1===x.length){const be=x.charCodeAt(0);("utf8"===ce&&be<128||"latin1"===ce)&&(x=be)}}else"number"==typeof x?x&=255:"boolean"==typeof x&&(x=Number(x));if(B<0||this.length<B||this.length<ee)throw new RangeError("Out of range index");if(ee<=B)return this;let ye;if(B>>>=0,ee=void 0===ee?this.length:ee>>>0,x||(x=0),"number"==typeof x)for(ye=B;ye<ee;++ye)this[ye]=x;else{const be=d.isBuffer(x)?x:d.from(x,ce),Xe=be.length;if(0===Xe)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(ye=0;ye<ee-B;++ye)this[ye+B]=be[ye%Xe]}return this};const Pe={};function Ve(Q,x,B){Pe[Q]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,delete this.name}get code(){return Q}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}function ht(Q){let x="",B=Q.length;const ee="-"===Q[0]?1:0;for(;B>=ee+4;B-=3)x=`_${Q.slice(B-3,B)}${x}`;return`${Q.slice(0,B)}${x}`}function Tt(Q,x,B,ee,ce,ye){if(Q>B||Q<x){const be="bigint"==typeof x?"n":"";let Xe;throw Xe=ye>3?0===x||x===BigInt(0)?`>= 0${be} and < 2${be} ** ${8*(ye+1)}${be}`:`>= -(2${be} ** ${8*(ye+1)-1}${be}) and < 2 ** ${8*(ye+1)-1}${be}`:`>= ${x}${be} and <= ${B}${be}`,new Pe.ERR_OUT_OF_RANGE("value",Xe,Q)}!function(Q,x,B){ke(x,"offset"),(void 0===Q[x]||void 0===Q[x+B])&&St(x,Q.length-(B+1))}(ee,ce,ye)}function ke(Q,x){if("number"!=typeof Q)throw new Pe.ERR_INVALID_ARG_TYPE(x,"number",Q)}function St(Q,x,B){throw Math.floor(Q)!==Q?(ke(Q,B),new Pe.ERR_OUT_OF_RANGE(B||"offset","an integer",Q)):x<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE(B||"offset",`>= ${B?1:0} and <= ${x}`,Q)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(Q,x){return`The "${Q}" argument must be of type number. Received type ${typeof x}`},TypeError),Ve("ERR_OUT_OF_RANGE",function(Q,x,B){let ee=`The value of "${Q}" is out of range.`,ce=B;return Number.isInteger(B)&&Math.abs(B)>2**32?ce=ht(String(B)):"bigint"==typeof B&&(ce=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(ce=ht(ce)),ce+="n"),ee+=` It must be ${x}. Received ${ce}`,ee},RangeError);const At=/[^+/0-9A-Za-z-_]/g;function Jn(Q,x){let B;x=x||1/0;const ee=Q.length;let ce=null;const ye=[];for(let be=0;be<ee;++be){if(B=Q.charCodeAt(be),B>55295&&B<57344){if(!ce){if(B>56319){(x-=3)>-1&&ye.push(239,191,189);continue}if(be+1===ee){(x-=3)>-1&&ye.push(239,191,189);continue}ce=B;continue}if(B<56320){(x-=3)>-1&&ye.push(239,191,189),ce=B;continue}B=65536+(ce-55296<<10|B-56320)}else ce&&(x-=3)>-1&&ye.push(239,191,189);if(ce=null,B<128){if((x-=1)<0)break;ye.push(B)}else if(B<2048){if((x-=2)<0)break;ye.push(B>>6|192,63&B|128)}else if(B<65536){if((x-=3)<0)break;ye.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((x-=4)<0)break;ye.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return ye}function Rn(Q){return te.toByteArray(function(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(At,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function cr(Q,x,B,ee){let ce;for(ce=0;ce<ee&&!(ce+B>=x.length||ce>=Q.length);++ce)x[ce+B]=Q[ce];return ce}function Cn(Q,x){return Q instanceof x||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===x.name}function br(Q){return Q!=Q}const Wo=function(){const Q="0123456789abcdef",x=new Array(256);for(let B=0;B<16;++B){const ee=16*B;for(let ce=0;ce<16;++ce)x[ee+ce]=Q[B]+Q[ce]}return x}();function xn(Q){return"undefined"==typeof BigInt?si:Q}function si(){throw new Error("BigInt not supported")}},543:(qe,Ce)=>{"use strict";function te(ne,p,I){var _=ne.length,y=0,d=1,m=0;function M(ue){if(null===I)y+=ue;else for(;ue>0;)10===ne.charCodeAt(y)?(y++,d++,m=0):(y++,m++),ue--}function A(ue){null===I?y=ue:M(ue-y)}function h(){for(;y<_;){var ue=ne.charCodeAt(y);if(32!==ue&&9!==ue&&13!==ue&&10!==ue)break;M(1)}}function g(ue){return ne.substr(y,ue.length)===ue&&(M(ue.length),!0)}function E(ue){var se=ne.indexOf(ue,y);A(-1!==se?se+ue.length:_)}function C(ue){var se=ne.indexOf(ue,y);if(-1!==se){var Pe=ne.substring(y,se);return A(se+ue.length),Pe}return Pe=ne.substr(y),A(_),Pe}_>0&&65279===ne.charCodeAt(0)&&(y=1);var l=0,u=null,c=[],D=[],S=null;function w(ue,se){c.push(l),D.push(u),l=ue,u=se}function T(){l=c.pop(),u=D.pop()}function k(ue){throw new Error("Near offset "+y+": "+ue+" ~~~"+ne.substr(y,50)+"~~~")}var ue,se,V_enterDict=function(){null===S&&k("missing <key>");var ue={};null!==I&&(ue[I]={filename:p,line:d,char:m}),u[S]=ue,S=null,w(1,ue)},V_enterArray=function(){null===S&&k("missing <key>");var ue=[];u[S]=ue,S=null,w(2,ue)},L_enterDict=function(){var ue={};null!==I&&(ue[I]={filename:p,line:d,char:m}),u.push(ue),w(1,ue)},L_enterArray=function(){var ue=[];u.push(ue),w(2,ue)};function Z(){1===l?T():k("unexpected </dict>")}function z(){1===l?k("unexpected </array>"):2===l?T():k("unexpected </array>")}function N(ue){1===l?(null!==S&&k("too many <key>"),S=ue):k("unexpected <key>")}function O(ue){1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function U(ue){isNaN(ue)&&k("cannot parse float"),1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function Y(ue){isNaN(ue)&&k("cannot parse integer"),1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function ie(ue){1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function pe(ue){1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function _e(ue){1===l?(null===S&&k("missing <key>"),u[S]=ue,S=null):2===l?u.push(ue):u=ue}function xe(ue){if(ue.isClosed)return"";var se=C("</");return E(">"),function(ue){return ue.replace(/&#([0-9]+);/g,function(se,Pe){return String.fromCodePoint(parseInt(Pe,10))}).replace(/&#x([0-9a-f]+);/g,function(se,Pe){return String.fromCodePoint(parseInt(Pe,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(se){switch(se){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return se})}(se)}for(;y<_&&(h(),!(y>=_));){var q=ne.charCodeAt(y);M(1),60!==q&&k("expected <"),y>=_&&k("unexpected end of input");var J=ne.charCodeAt(y);if(63!==J)if(33!==J){if(47===J){if(M(1),h(),g("plist")){E(">");continue}if(g("dict")){E(">"),Z();continue}if(g("array")){E(">"),z();continue}k("unexpected closed tag")}var re=(ue=void 0,se=void 0,se=!1,47===(ue=C(">")).charCodeAt(ue.length-1)&&(se=!0,ue=ue.substring(0,ue.length-1)),{name:ue.trim(),isClosed:se});switch(re.name){case"dict":1===l?V_enterDict():2===l?L_enterDict():(u={},null!==I&&(u[I]={filename:p,line:d,char:m}),w(1,u)),re.isClosed&&Z();continue;case"array":1===l?V_enterArray():2===l?L_enterArray():w(2,u=[]),re.isClosed&&z();continue;case"key":N(xe(re));continue;case"string":O(xe(re));continue;case"real":U(parseFloat(xe(re)));continue;case"integer":Y(parseInt(xe(re),10));continue;case"date":ie(new Date(xe(re)));continue;case"data":pe(xe(re));continue;case"true":xe(re),_e(!0);continue;case"false":xe(re),_e(!1);continue}/^plist/.test(re.name)||k("unexpected opened tag "+re.name)}else{if(M(1),g("--")){E("--\x3e");continue}E(">")}else M(1),E("?>")}return u}Ce.parseWithLocation=function(ne,p,I){return te(ne,p,I)},Ce.parse=function(ne){return te(ne,null,null)}},461:(qe,Ce)=>{Ce.read=function(Ae,ge,te,ne,p){var I,_,y=8*p-ne-1,d=(1<<y)-1,m=d>>1,M=-7,A=te?p-1:0,h=te?-1:1,g=Ae[ge+A];for(A+=h,I=g&(1<<-M)-1,g>>=-M,M+=y;M>0;I=256*I+Ae[ge+A],A+=h,M-=8);for(_=I&(1<<-M)-1,I>>=-M,M+=ne;M>0;_=256*_+Ae[ge+A],A+=h,M-=8);if(0===I)I=1-m;else{if(I===d)return _?NaN:1/0*(g?-1:1);_+=Math.pow(2,ne),I-=m}return(g?-1:1)*_*Math.pow(2,I-ne)},Ce.write=function(Ae,ge,te,ne,p,I){var _,y,d,m=8*I-p-1,M=(1<<m)-1,A=M>>1,h=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,g=ne?0:I-1,E=ne?1:-1,C=ge<0||0===ge&&1/ge<0?1:0;for(ge=Math.abs(ge),isNaN(ge)||ge===1/0?(y=isNaN(ge)?1:0,_=M):(_=Math.floor(Math.log(ge)/Math.LN2),ge*(d=Math.pow(2,-_))<1&&(_--,d*=2),(ge+=_+A>=1?h/d:h*Math.pow(2,1-A))*d>=2&&(_++,d/=2),_+A>=M?(y=0,_=M):_+A>=1?(y=(ge*d-1)*Math.pow(2,p),_+=A):(y=ge*Math.pow(2,A-1)*Math.pow(2,p),_=0));p>=8;Ae[te+g]=255&y,g+=E,y/=256,p-=8);for(_=_<<p|y,m+=p;m>0;Ae[te+g]=255&_,g+=E,_/=256,m-=8);Ae[te+g-E]|=128*C}},577:(qe,Ce,Ae)=>{"use strict";var te=Ae(926).default;const ne=Ae(52),p=Ae(635);class I{constructor(d){this._ruleStack=d}get ruleStack(){return this._ruleStack}clone(){return new I(this._ruleStack)}equals(d){return!!(d&&d instanceof I&&d===this&&d._ruleStack===this._ruleStack)}}Ce.p=function(y,d,m,M){return Promise.all(Array.from(m.keys()).map(function(){var A=te(function*(h){const g=yield d.loadGrammar(m.get(h));y.languages.setTokensProvider(h,{getInitialState:()=>new I(ne.INITIAL),tokenize:(E,C)=>{const l=g.tokenizeLine(E,C.ruleStack);return{endState:new I(l.ruleStack),tokens:l.tokens.map(u=>WS(US({},u),{scopes:M?p.TMToMonacoToken(M,u.scopes):u.scopes[u.scopes.length-1]}))}}})});return function(h){return A.apply(this,arguments)}}()))}},635:(qe,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.TMToMonacoToken=(Ae,ge)=>{let te="";for(let ne=ge[0].length-1;ne>=0;ne-=1){const p=ge[0][ne];if("."===p)break;te=p+te}for(let ne=ge.length-1;ne>=0;ne-=1){const p=ge[ne];for(let I=p.length-1;I>=0;I-=1)if("."===p[I]){const y=p.slice(0,I);if(Ae._themeService.getColorTheme()._tokenTheme._match(y+"."+te)._foreground>1)return y+"."+te;if(Ae._themeService.getColorTheme()._tokenTheme._match(y)._foreground>1)return y}}return""}},170:(qe,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.CAPTURE_METADATA="undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG,Ce.IN_DEBUG_MODE="undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG},910:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var ge=Ae(743),te=Ae(288),ne=Ae(357),p=Ae(170);function _(z,N){for(var O=0,U=N.length;O<U;O++){Array.isArray(N[O].patterns)&&_(z,N[O].patterns);var Y=N[O].include;if(Y&&"$base"!==Y&&"$self"!==Y&&"#"!==Y.charAt(0)){var ie=Y.indexOf("#");ie>=0?z[Y.substring(0,ie)]=!0:z[Y]=!0}}}function y(z,N){for(var O in N){var U=N[O];U.patterns&&Array.isArray(U.patterns)&&_(z,U.patterns),U.repository&&y(z,U.repository)}}function m(z,N){if(!z)return!1;if(z===N)return!0;var O=N.length;return z.length>O&&z.substr(0,O)===N&&"."===z[O]}function M(z,N){if(N.length<z.length)return!1;var O=0;return z.every(function(U){for(var Y=O;Y<N.length;Y++)if(m(N[Y],U))return O=Y+1,!0;return!1})}function A(z,N,O,U,Y){for(var ie=ne.createMatchers(N,M),pe=te.RuleFactory.getCompiledRuleId(O,U,Y.repository),_e=0,Ee=ie;_e<Ee.length;_e++){var Re=Ee[_e];z.push({matcher:Re.matcher,ruleId:pe,grammar:Y,priority:Re.priority})}}Ce.createGrammar=function(z,N,O,U,Y){return new E(z,N,O,U,Y)},Ce.collectIncludedScopes=function(z,N){N.patterns&&Array.isArray(N.patterns)&&_(z,N.patterns),N.repository&&y(z,N.repository),delete z[N.scopeName]};var h=function(N,O,U,Y){this.scopeName=N,this.languageId=O,this.tokenType=U,this.themeData=Y};Ce.ScopeMetadata=h;var g=function(){function z(N,O,U){if(this._initialLanguage=N,this._themeProvider=O,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),U)for(var Y=Object.keys(U),ie=0,pe=Y.length;ie<pe;ie++){var _e=Y[ie],Ee=U[_e];"number"==typeof Ee&&0!==Ee?this._embeddedLanguages[_e]=Ee:console.warn("Invalid embedded language found at scope "+_e+": <<"+Ee+">>")}var Re=Object.keys(this._embeddedLanguages).map(function(xe){return z._escapeRegExpCharacters(xe)});0===Re.length?this._embeddedLanguagesRegex=null:(Re.sort(),Re.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Re.join(")|(")+"))($|\\.)",""))}return z.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new h("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},z.prototype.getDefaultMetadata=function(){return this._defaultMetaData},z._escapeRegExpCharacters=function(N){return N.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},z.prototype.getMetadataForScope=function(N){if(null===N)return z._NULL_SCOPE_METADATA;var O=this._cache[N];return O||(O=this._doGetMetadataForScope(N),this._cache[N]=O,O)},z.prototype._doGetMetadataForScope=function(N){var O=this._scopeToLanguage(N),U=this._toStandardTokenType(N),Y=this._themeProvider.themeMatch(N);return new h(N,O,U,Y)},z.prototype._scopeToLanguage=function(N){if(!N||!this._embeddedLanguagesRegex)return 0;var O=N.match(this._embeddedLanguagesRegex);return O&&(this._embeddedLanguages[O[1]]||0)||0},z.prototype._toStandardTokenType=function(N){var O=N.match(z.STANDARD_TOKEN_TYPE_REGEXP);if(!O)return 0;switch(O[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},z._NULL_SCOPE_METADATA=new h("",0,0,null),z.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,z}(),E=function(){function z(N,O,U,Y,ie){if(this._scopeMetadataProvider=new g(O,ie,U),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=ie,this._grammar=C(N,null),this._tokenTypeMatchers=[],Y)for(var pe=0,_e=Object.keys(Y);pe<_e.length;pe++)for(var Ee=_e[pe],xe=0,q=ne.createMatchers(Ee,M);xe<q.length;xe++)this._tokenTypeMatchers.push({matcher:q[xe].matcher,type:Y[Ee]})}return z.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},z.prototype.getMetadataForScope=function(N){return this._scopeMetadataProvider.getMetadataForScope(N)},z.prototype.getInjections=function(){var N=this;if(!this._injections){this._injections=[];var O=this._grammar.injections;if(O)for(var U in O)A(this._injections,U,O[U],this,this._grammar);if(this._grammarRepository){var Y=this._grammarRepository.injections(this._grammar.scopeName);Y&&Y.forEach(function(ie){var pe=N.getExternalGrammar(ie);if(pe){var _e=pe.injectionSelector;_e&&A(N._injections,_e,pe,N,pe)}})}this._injections.sort(function(ie,pe){return ie.priority-pe.priority})}return this._injections},z.prototype.registerRule=function(N){var O=++this._lastRuleId,U=N(O);return this._ruleId2desc[O]=U,U},z.prototype.getRule=function(N){return this._ruleId2desc[N]},z.prototype.getExternalGrammar=function(N,O){if(this._includedGrammars[N])return this._includedGrammars[N];if(this._grammarRepository){var U=this._grammarRepository.lookup(N);if(U)return this._includedGrammars[N]=C(U,O&&O.$base),this._includedGrammars[N]}},z.prototype.tokenizeLine=function(N,O){var U=this._tokenize(N,O,!1);return{tokens:U.lineTokens.getResult(U.ruleStack,U.lineLength),ruleStack:U.ruleStack}},z.prototype.tokenizeLine2=function(N,O){var U=this._tokenize(N,O,!0);return{tokens:U.lineTokens.getBinaryResult(U.ruleStack,U.lineLength),ruleStack:U.ruleStack}},z.prototype._tokenize=function(N,O,U){var Y;if(-1===this._rootId&&(this._rootId=te.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),O&&O!==L.NULL)Y=!1,O.reset();else{Y=!0;var ie=this._scopeMetadataProvider.getDefaultMetadata(),pe=ie.themeData[0],_e=k.set(0,ie.languageId,ie.tokenType,pe.fontStyle,pe.foreground,pe.background),Ee=this.getRule(this._rootId).getName(null,null),Re=this._scopeMetadataProvider.getMetadataForScope(Ee),xe=V.mergeMetadata(_e,null,Re),q=new V(null,Ee,xe);O=new L(null,this._rootId,-1,null,q,q)}var J=te.createOnigString(N+="\n"),re=te.getString(J).length,ue=new Z(U,N,this._tokenTypeMatchers);return{lineLength:re,lineTokens:ue,ruleStack:T(this,J,Y,0,O,ue)}},z}();function C(z,N){return(z=ge.clone(z)).repository=z.repository||{},z.repository.$self={$vscodeTextmateLocation:z.$vscodeTextmateLocation,patterns:z.patterns,name:z.scopeName},z.repository.$base=N||z.repository.$self,z}function l(z,N,O,U,Y,ie,pe){if(0!==ie.length){for(var _e=Math.min(ie.length,pe.length),Ee=[],Re=pe[0].end,xe=0;xe<_e;xe++){var q=ie[xe];if(null!==q){var J=pe[xe];if(0!==J.length){if(J.start>Re)break;for(;Ee.length>0&&Ee[Ee.length-1].endPos<=J.start;)Y.produceFromScopes(Ee[Ee.length-1].scopes,Ee[Ee.length-1].endPos),Ee.pop();if(Ee.length>0?Y.produceFromScopes(Ee[Ee.length-1].scopes,J.start):Y.produce(U,J.start),q.retokenizeCapturedWithRuleId){var re=q.getName(te.getString(N),pe),ue=U.contentNameScopesList.push(z,re),se=q.getContentName(te.getString(N),pe),Pe=ue.push(z,se),Ve=U.push(q.retokenizeCapturedWithRuleId,J.start,null,ue,Pe);T(z,te.createOnigString(te.getString(N).substring(0,J.end)),O&&0===J.start,J.start,Ve,Y);continue}var ht=q.getName(te.getString(N),pe);if(null!==ht){var Tt=(Ee.length>0?Ee[Ee.length-1].scopes:U.contentNameScopesList).push(z,ht);Ee.push(new H(Tt,J.end))}}}}for(;Ee.length>0;)Y.produceFromScopes(Ee[Ee.length-1].scopes,Ee[Ee.length-1].endPos),Ee.pop()}}function u(z){for(var N=[],O=0,U=z.rules.length;O<U;O++)N.push("   - "+z.rules[O]+": "+z.debugRegExps[O]);return N.join("\n")}function T(z,N,O,U,Y,ie){var pe=te.getString(N).length,_e=!1,Ee=function(z,N,O,U,Y,ie){for(var pe=-1,_e=[],Ee=Y;Ee;Ee=Ee.pop()){var Re=Ee.getRule(z);Re instanceof te.BeginWhileRule&&_e.push({rule:Re,stack:Ee})}for(var xe=_e.pop();xe;xe=_e.pop()){var q=xe.rule.compileWhile(z,xe.stack.endRule,O,pe===U),J=q.scanner.findNextMatchSync(N,U);if(p.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(u(q))),!J){Y=xe.stack.pop();break}if(-2!==q.rules[J.index]){Y=xe.stack.pop();break}J.captureIndices&&J.captureIndices.length&&(ie.produce(xe.stack,J.captureIndices[0].start),l(z,N,O,xe.stack,ie,xe.rule.whileCaptures,J.captureIndices),ie.produce(xe.stack,J.captureIndices[0].end),pe=J.captureIndices[0].end,J.captureIndices[0].end>U&&(U=J.captureIndices[0].end,O=!1))}return{stack:Y,linePos:U,anchorPosition:pe,isFirstLine:O}}(z,N,O,U,Y,ie);Y=Ee.stack,U=Ee.linePos,O=Ee.isFirstLine;for(var Re=Ee.anchorPosition;!_e;)xe();function xe(){p.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+te.getString(N).replace(/\n$/,"\\n").substr(U)+"|"));var q=function(z,N,O,U,Y,ie){var pe=function(z,N,O,U,Y,ie){var _e=Y.getRule(z).compile(z,Y.endRule,O,U===ie),Ee=_e.scanner.findNextMatchSync(N,U);return p.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(u(_e))),Ee?{captureIndices:Ee.captureIndices,matchedRuleId:_e.rules[Ee.index]}:null}(z,N,O,U,Y,ie),_e=z.getInjections();if(0===_e.length)return pe;var Ee=function(z,N,O,U,Y,ie,pe){for(var Re,_e=Number.MAX_VALUE,Ee=null,xe=0,q=ie.contentNameScopesList.generateScopes(),J=0,re=z.length;J<re;J++){var ue=z[J];if(ue.matcher(q)){var se=N.getRule(ue.ruleId).compile(N,null,U,Y===pe),Pe=se.scanner.findNextMatchSync(O,Y);if(p.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(u(se))),Pe){var Ve=Pe.captureIndices[0].start;if(!(Ve>=_e)&&(Ee=Pe.captureIndices,Re=se.rules[Pe.index],xe=ue.priority,(_e=Ve)===Y))break}}}return Ee?{priorityMatch:-1===xe,captureIndices:Ee,matchedRuleId:Re}:null}(_e,z,N,O,U,Y,ie);if(!Ee)return pe;if(!pe)return Ee;var Re=pe.captureIndices[0].start,xe=Ee.captureIndices[0].start;return xe<Re||Ee.priorityMatch&&xe===Re?Ee:pe}(z,N,O,U,Y,Re);if(!q)return p.IN_DEBUG_MODE&&console.log("  no more matches."),ie.produce(Y,pe),void(_e=!0);var J=q.captureIndices,re=q.matchedRuleId,ue=!!(J&&J.length>0)&&J[0].end>U;if(-1===re){var se=Y.getRule(z);p.IN_DEBUG_MODE&&console.log("  popping "+se.debugName+" - "+se.debugEndRegExp),ie.produce(Y,J[0].start),Y=Y.setContentNameScopesList(Y.nameScopesList),l(z,N,O,Y,ie,se.endCaptures,J),ie.produce(Y,J[0].end);var Pe=Y;if(Y=Y.pop(),!ue&&Pe.getEnterPos()===U)return console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ie.produce(Y=Pe,pe),void(_e=!0)}else{var Ve=z.getRule(re);ie.produce(Y,J[0].start);var ht=Y,Mt=Ve.getName(te.getString(N),J),Tt=Y.contentNameScopesList.push(z,Mt);if(Y=Y.push(re,U,null,Tt,Tt),Ve instanceof te.BeginEndRule){var ke=Ve;p.IN_DEBUG_MODE&&console.log("  pushing "+ke.debugName+" - "+ke.debugBeginRegExp),l(z,N,O,Y,ie,ke.beginCaptures,J),ie.produce(Y,J[0].end),Re=J[0].end;var St=ke.getContentName(te.getString(N),J),At=Tt.push(z,St);if(Y=Y.setContentNameScopesList(At),ke.endHasBackReferences&&(Y=Y.setEndRule(ke.getEndWithResolvedBackReferences(te.getString(N),J))),!ue&&ht.hasSameRuleAs(Y))return console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Y=Y.pop(),ie.produce(Y,pe),void(_e=!0)}else if(Ve instanceof te.BeginWhileRule){if(ke=Ve,p.IN_DEBUG_MODE&&console.log("  pushing "+ke.debugName),l(z,N,O,Y,ie,ke.beginCaptures,J),ie.produce(Y,J[0].end),Re=J[0].end,St=ke.getContentName(te.getString(N),J),At=Tt.push(z,St),Y=Y.setContentNameScopesList(At),ke.whileHasBackReferences&&(Y=Y.setEndRule(ke.getWhileWithResolvedBackReferences(te.getString(N),J))),!ue&&ht.hasSameRuleAs(Y))return console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Y=Y.pop(),ie.produce(Y,pe),void(_e=!0)}else{var Nt=Ve;if(p.IN_DEBUG_MODE&&console.log("  matched "+Nt.debugName+" - "+Nt.debugMatchRegExp),l(z,N,O,Y,ie,Nt.captures,J),ie.produce(Y,J[0].end),Y=Y.pop(),!ue)return console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),Y=Y.safePop(),ie.produce(Y,pe),void(_e=!0)}}J[0].end>U&&(U=J[0].end,O=!1)}return Y}Ce.Grammar=E;var k=function(){function z(){}return z.toBinaryStr=function(N){for(var O=N.toString(2);O.length<32;)O="0"+O;return O},z.printMetadata=function(N){var O=z.getLanguageId(N),U=z.getTokenType(N),Y=z.getFontStyle(N),ie=z.getForeground(N),pe=z.getBackground(N);console.log({languageId:O,tokenType:U,fontStyle:Y,foreground:ie,background:pe})},z.getLanguageId=function(N){return(255&N)>>>0},z.getTokenType=function(N){return(1792&N)>>>8},z.getFontStyle=function(N){return(14336&N)>>>11},z.getForeground=function(N){return(8372224&N)>>>14},z.getBackground=function(N){return(4286578688&N)>>>23},z.set=function(N,O,U,Y,ie,pe){var _e=z.getLanguageId(N),Ee=z.getTokenType(N),Re=z.getFontStyle(N),xe=z.getForeground(N),q=z.getBackground(N);return 0!==O&&(_e=O),0!==U&&(Ee=8===U?0:U),-1!==Y&&(Re=Y),0!==ie&&(xe=ie),0!==pe&&(q=pe),(_e<<0|Ee<<8|Re<<11|xe<<14|q<<23)>>>0},z}();Ce.StackElementMetadata=k;var V=function(){function z(N,O,U){this.parent=N,this.scope=O,this.metadata=U}return z._equals=function(N,O){for(;;){if(N===O)return!0;if(N.scope!==O.scope||N.metadata!==O.metadata)return!1;if(O=O.parent,!(N=N.parent)&&!O)return!0;if(!N||!O)return!1}},z.prototype.equals=function(N){return z._equals(this,N)},z._matchesScope=function(N,O,U){return O===N||N.substring(0,U.length)===U},z._matches=function(N,O){if(null===O)return!0;for(var U=O.length,Y=0,ie=O[Y],pe=ie+".";N;){if(this._matchesScope(N.scope,ie,pe)){if(++Y===U)return!0;pe=(ie=O[Y])+"."}N=N.parent}return!1},z.mergeMetadata=function(N,O,U){if(null===U)return N;var Y=-1,ie=0,pe=0;if(null!==U.themeData)for(var _e=0,Ee=U.themeData.length;_e<Ee;_e++){var Re=U.themeData[_e];if(this._matches(O,Re.parentScopes)){Y=Re.fontStyle,ie=Re.foreground,pe=Re.background;break}}return k.set(N,U.languageId,U.tokenType,Y,ie,pe)},z._push=function(N,O,U){for(var Y=0,ie=U.length;Y<ie;Y++){var pe=U[Y],_e=O.getMetadataForScope(pe),Ee=z.mergeMetadata(N.metadata,N,_e);N=new z(N,pe,Ee)}return N},z.prototype.push=function(N,O){return null===O?this:O.indexOf(" ")>=0?z._push(this,N,O.split(/ /g)):z._push(this,N,[O])},z._generateScopes=function(N){for(var O=[],U=0;N;)O[U++]=N.scope,N=N.parent;return O.reverse(),O},z.prototype.generateScopes=function(){return z._generateScopes(this)},z}();Ce.ScopeListElement=V;var L=function(){function z(N,O,U,Y,ie,pe){this.parent=N,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=O,this._enterPos=U,this.endRule=Y,this.nameScopesList=ie,this.contentNameScopesList=pe}return z._structuralEquals=function(N,O){for(;;){if(N===O)return!0;if(N.depth!==O.depth||N.ruleId!==O.ruleId||N.endRule!==O.endRule)return!1;if(O=O.parent,!(N=N.parent)&&!O)return!0;if(!N||!O)return!1}},z._equals=function(N,O){return N===O||!!this._structuralEquals(N,O)&&N.contentNameScopesList.equals(O.contentNameScopesList)},z.prototype.clone=function(){return this},z.prototype.equals=function(N){return null!==N&&z._equals(this,N)},z._reset=function(N){for(;N;)N._enterPos=-1,N=N.parent},z.prototype.reset=function(){z._reset(this)},z.prototype.pop=function(){return this.parent},z.prototype.safePop=function(){return this.parent?this.parent:this},z.prototype.push=function(N,O,U,Y,ie){return new z(this,N,O,U,Y,ie)},z.prototype.getEnterPos=function(){return this._enterPos},z.prototype.getRule=function(N){return N.getRule(this.ruleId)},z.prototype._writeString=function(N,O){return this.parent&&(O=this.parent._writeString(N,O)),N[O++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",O},z.prototype.toString=function(){var N=[];return this._writeString(N,0),"["+N.join(",")+"]"},z.prototype.setContentNameScopesList=function(N){return this.contentNameScopesList===N?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,N)},z.prototype.setEndRule=function(N){return this.endRule===N?this:new z(this.parent,this.ruleId,this._enterPos,N,this.nameScopesList,this.contentNameScopesList)},z.prototype.hasSameRuleAs=function(N){return this.ruleId===N.ruleId},z.NULL=new z(null,0,0,null,null,null),z}();Ce.StackElement=L;var H=function(N,O){this.scopes=N,this.endPos=O};Ce.LocalStackElement=H;var Z=function(){function z(N,O,U){this._emitBinaryTokens=N,this._tokenTypeOverrides=U,p.IN_DEBUG_MODE&&(this._lineText=O),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return z.prototype.produce=function(N,O){this.produceFromScopes(N.contentNameScopesList,O)},z.prototype.produceFromScopes=function(N,O){if(!(this._lastTokenEndIndex>=O)){if(this._emitBinaryTokens){for(var U=N.metadata,Y=0,ie=this._tokenTypeOverrides;Y<ie.length;Y++){var pe=ie[Y];pe.matcher(N.generateScopes())&&(U=k.set(U,0,$(pe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===U||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(U)),void(this._lastTokenEndIndex=O)}var _e=N.generateScopes();if(p.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,O).replace(/\n$/,"\\n")+"|");for(var Ee=0;Ee<_e.length;Ee++)console.log("      * "+_e[Ee])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:O,scopes:_e}),this._lastTokenEndIndex=O}},z.prototype.getResult=function(N,O){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===O-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(N,O),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},z.prototype.getBinaryResult=function(N,O){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===O-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(N,O),this._binaryTokens[this._binaryTokens.length-2]=0);for(var U=new Uint32Array(this._binaryTokens.length),Y=0,ie=this._binaryTokens.length;Y<ie;Y++)U[Y]=this._binaryTokens[Y];return U},z}();function $(z){switch(z){case 4:return 4;case 2:return 2;case 1:return 1;default:return 8}}},75:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var ge=Ae(543),te=Ae(170),ne=Ae(638);Ce.parseJSONGrammar=function(_,y){return te.CAPTURE_METADATA?ne.parse(_,y,!0):JSON.parse(_)},Ce.parsePLISTGrammar=function(_,y){return te.CAPTURE_METADATA?ge.parseWithLocation(_,y,"$vscodeTextmateLocation"):ge.parse(_)}},638:(qe,Ce)=>{"use strict";function Ae(I,_){throw new Error("Near offset "+I.pos+": "+_+" ~~~"+I.source.substr(I.pos,50)+"~~~")}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.parse=function(I,_,y){var d=new te(I),m=new ne,M=0,A=null,h=[],g=[];function E(){h.push(M),g.push(A)}function C(){M=h.pop(),A=g.pop()}function l(S){Ae(d,S)}for(;p(d,m);){if(0===M){if(null!==A&&l("too many constructs in root"),3===m.type){A={},y&&(A.$vscodeTextmateLocation=m.toLocation(_)),E(),M=1;continue}if(2===m.type){A=[],E(),M=4;continue}l("unexpected token in root")}if(2===M){if(5===m.type){C();continue}if(7===m.type){M=3;continue}l("expected , or }")}if(1===M||3===M){if(1===M&&5===m.type){C();continue}if(1===m.type){var u=m.value;if((!p(d,m)||6!==m.type)&&l("expected colon"),p(d,m)||l("expected value"),M=2,1===m.type){A[u]=m.value;continue}if(8===m.type){A[u]=null;continue}if(9===m.type){A[u]=!0;continue}if(10===m.type){A[u]=!1;continue}if(11===m.type){A[u]=parseFloat(m.value);continue}if(2===m.type){A[u]=c=[],E(),M=4,A=c;continue}if(3===m.type){var D={};y&&(D.$vscodeTextmateLocation=m.toLocation(_)),A[u]=D,E(),M=1,A=D;continue}}l("unexpected token in dict")}if(5===M){if(4===m.type){C();continue}if(7===m.type){M=6;continue}l("expected , or ]")}if(4===M||6===M){if(4===M&&4===m.type){C();continue}if(M=5,1===m.type){A.push(m.value);continue}if(8===m.type){A.push(null);continue}if(9===m.type){A.push(!0);continue}if(10===m.type){A.push(!1);continue}if(11===m.type){A.push(parseFloat(m.value));continue}if(2===m.type){var c;A.push(c=[]),E(),M=4,A=c;continue}if(3===m.type){D={},y&&(D.$vscodeTextmateLocation=m.toLocation(_)),A.push(D),E(),M=1,A=D;continue}l("unexpected token in array")}l("unknown state")}return 0!==g.length&&l("unclosed constructs"),A};var te=function(_){this.source=_,this.pos=0,this.len=_.length,this.line=1,this.char=0},ne=function(){function I(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return I.prototype.toLocation=function(_){return{filename:_,line:this.line,char:this.char}},I}();function p(I,_){_.value=null,_.type=0,_.offset=-1,_.len=-1,_.line=-1,_.char=-1;for(var h,y=I.source,d=I.pos,m=I.len,M=I.line,A=I.char;;){if(d>=m)return!1;if(32!==(h=y.charCodeAt(d))&&9!==h&&13!==h){if(10!==h)break;d++,M++,A=0}else d++,A++}if(_.offset=d,_.line=M,_.char=A,34===h){for(_.type=1,d++,A++;;){if(d>=m)return!1;if(h=y.charCodeAt(d),d++,A++,92!==h){if(34===h)break}else d++,A++}_.value=y.substring(_.offset+1,d-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(g,E){return String.fromCodePoint(parseInt(E,16))}).replace(/\\(.)/g,function(g,E){switch(E){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:Ae(I,"invalid escape sequence")}})}else if(91===h)_.type=2,d++,A++;else if(123===h)_.type=3,d++,A++;else if(93===h)_.type=4,d++,A++;else if(125===h)_.type=5,d++,A++;else if(58===h)_.type=6,d++,A++;else if(44===h)_.type=7,d++,A++;else if(110===h){if(_.type=8,d++,A++,117!==(h=y.charCodeAt(d))||(d++,A++,108!==(h=y.charCodeAt(d)))||(d++,A++,108!==(h=y.charCodeAt(d))))return!1;d++,A++}else if(116===h){if(_.type=9,d++,A++,114!==(h=y.charCodeAt(d))||(d++,A++,117!==(h=y.charCodeAt(d)))||(d++,A++,101!==(h=y.charCodeAt(d))))return!1;d++,A++}else if(102===h){if(_.type=10,d++,A++,97!==(h=y.charCodeAt(d))||(d++,A++,108!==(h=y.charCodeAt(d)))||(d++,A++,115!==(h=y.charCodeAt(d)))||(d++,A++,101!==(h=y.charCodeAt(d))))return!1;d++,A++}else for(_.type=11;;){if(d>=m)return!1;if(!(46===(h=y.charCodeAt(d))||h>=48&&h<=57||101===h||69===h||45===h||43===h))break;d++,A++}return _.len=d-_.offset,null===_.value&&(_.value=y.substr(_.offset,_.len)),I.pos=d,I.line=M,I.char=A,!0}},52:function(qe,Ce,Ae){"use strict";var ge=this&&this.__awaiter||function(m,M,A,h){return new(A||(A=Promise))(function(g,E){function C(c){try{u(h.next(c))}catch(D){E(D)}}function l(c){try{u(h.throw(c))}catch(D){E(D)}}function u(c){c.done?g(c.value):new A(function(D){D(c.value)}).then(C,l)}u((h=h.apply(m,M||[])).next())})},te=this&&this.__generator||function(m,M){var h,g,E,C,A={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return C={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function l(c){return function(D){return function(c){if(h)throw new TypeError("Generator is already executing.");for(;A;)try{if(h=1,g&&(E=2&c[0]?g.return:c[0]?g.throw||((E=g.return)&&E.call(g),0):g.next)&&!(E=E.call(g,c[1])).done)return E;switch(g=0,E&&(c=[2&c[0],E.value]),c[0]){case 0:case 1:E=c;break;case 4:return A.label++,{value:c[1],done:!1};case 5:A.label++,g=c[1],c=[0];continue;case 7:c=A.ops.pop(),A.trys.pop();continue;default:if(!(E=(E=A.trys).length>0&&E[E.length-1])&&(6===c[0]||2===c[0])){A=0;continue}if(3===c[0]&&(!E||c[1]>E[0]&&c[1]<E[3])){A.label=c[1];break}if(6===c[0]&&A.label<E[1]){A.label=E[1],E=c;break}if(E&&A.label<E[2]){A.label=E[2],A.ops.push(c);break}E[2]&&A.ops.pop(),A.trys.pop();continue}c=M.call(m,A)}catch(D){c=[6,D],g=0}finally{h=E=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,D])}}};Object.defineProperty(Ce,"__esModule",{value:!0});var ne=Ae(512),p=Ae(75),I=Ae(167),_=Ae(910),y={getGrammarDefinition:function(m){return null},getInjections:function(m){return null}},d=function(){function m(M){void 0===M&&(M=y),this._locator=M,this._syncRegistry=new ne.SyncRegistry(I.Theme.createFromRawTheme(M.theme)),this.installationQueue=new Map}return m.prototype.setTheme=function(M){this._syncRegistry.setTheme(I.Theme.createFromRawTheme(M))},m.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},m.prototype.loadGrammarWithEmbeddedLanguages=function(M,A,h){return this.loadGrammarWithConfiguration(M,A,{embeddedLanguages:h})},m.prototype.loadGrammarWithConfiguration=function(M,A,h){return ge(this,void 0,void 0,function(){return te(this,function(g){switch(g.label){case 0:return[4,this._loadGrammar(M)];case 1:return g.sent(),[2,this.grammarForScopeName(M,A,h.embeddedLanguages,h.tokenTypes)]}})})},m.prototype.loadGrammar=function(M){return ge(this,void 0,void 0,function(){return te(this,function(A){return[2,this._loadGrammar(M)]})})},m.prototype._loadGrammar=function(M,A){return void 0===A&&(A=null),ge(this,void 0,void 0,function(){var h,g=this;return te(this,function(E){switch(E.label){case 0:return this._syncRegistry.lookup(M)?[2,this.grammarForScopeName(M)]:this.installationQueue.has(M)?[2,this.installationQueue.get(M)]:(h=new Promise(function(C,l){return ge(g,void 0,void 0,function(){var u,c,D,S,w=this;return te(this,function(T){switch(T.label){case 0:return[4,this._locator.getGrammarDefinition(M,A)];case 1:if(!(u=T.sent()))throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if("json"!==u.format&&"plist"!==u.format||"json"===u.format&&"object"!=typeof u.content&&"string"!=typeof u.content||"plist"===u.format&&"string"!=typeof u.content)throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return c="json"===u.format?"string"==typeof u.content?p.parseJSONGrammar(u.content,"c://fakepath/grammar.json"):u.content:p.parsePLISTGrammar(u.content,"c://fakepath/grammar.plist"),D="function"==typeof this._locator.getInjections&&this._locator.getInjections(M),c.scopeName=M,S=this._syncRegistry.addGrammar(c,D),[4,Promise.all(S.map(function(k){return ge(w,void 0,void 0,function(){return te(this,function(V){try{return[2,this._loadGrammar(k,M)]}catch(L){throw new Error("While trying to load tmGrammar with scopeId: '"+M+"', it's dependency (scopeId: "+k+") loading errored: "+L.message)}return[2]})})}))];case 2:return T.sent(),C(this.grammarForScopeName(M)),[2]}})})}),this.installationQueue.set(M,h),[4,h]);case 1:return E.sent(),this.installationQueue.delete(M),[2,h]}})})},m.prototype.grammarForScopeName=function(M,A,h,g){return void 0===A&&(A=0),void 0===h&&(h=null),void 0===g&&(g=null),this._syncRegistry.grammarForScopeName(M,A,h,g)},m}();Ce.Registry=d,Ce.INITIAL=_.StackElement.NULL},357:(qe,Ce)=>{"use strict";function ge(ne){return ne&&ne.match(/[\w\.:]+/)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.createMatchers=function(ne,p){for(var I=[],_=function(ne){var p=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,I=p.exec(ne);return{next:function(){if(!I)return null;var _=I[0];return I=p.exec(ne),_}}}(ne),y=_.next();null!==y;){var d=0;if(2===y.length&&":"===y.charAt(1)){switch(y.charAt(0)){case"R":d=1;break;case"L":d=-1;break;default:console.log("Unknown priority "+y+" in scope selector")}y=_.next()}var m=A();if(m&&I.push({matcher:m,priority:d}),","!==y)break;y=_.next()}return I;function M(){if("-"===y){y=_.next();var g=M();return function(l){return g&&!g(l)}}if("("===y){y=_.next();var E=function(){for(var g=[],E=A();E&&(g.push(E),"|"===y||","===y);){do{y=_.next()}while("|"===y||","===y);E=A()}return function(C){return g.some(function(l){return l(C)})}}();return")"===y&&(y=_.next()),E}if(ge(y)){var C=[];do{C.push(y),y=_.next()}while(ge(y));return function(l){return p(C,l)}}return null}function A(){for(var g=[],E=M();E;)g.push(E),E=M();return function(C){return g.every(function(l){return l(C)})}}}},512:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var ge=Ae(910),te=function(){function ne(p){this._theme=p,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return ne.prototype.setTheme=function(p){var I=this;this._theme=p,Object.keys(this._grammars).forEach(function(_){I._grammars[_].onDidChangeTheme()})},ne.prototype.getColorMap=function(){return this._theme.getColorMap()},ne.prototype.addGrammar=function(p,I){this._rawGrammars[p.scopeName]=p;var _={};return ge.collectIncludedScopes(_,p),I&&(this._injectionGrammars[p.scopeName]=I,I.forEach(function(y){_[y]=!0})),Object.keys(_)},ne.prototype.lookup=function(p){return this._rawGrammars[p]},ne.prototype.injections=function(p){return this._injectionGrammars[p]},ne.prototype.getDefaults=function(){return this._theme.getDefaults()},ne.prototype.themeMatch=function(p){return this._theme.match(p)},ne.prototype.grammarForScopeName=function(p,I,_,y){if(!this._grammars[p]){var d=this._rawGrammars[p];if(!d)return null;this._grammars[p]=ge.createGrammar(d,I,_,y,this)}return this._grammars[p]},ne}();Ce.SyncRegistry=te},288:function(qe,Ce,Ae){"use strict";var S,ge=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var k in T)T.hasOwnProperty(k)&&(w[k]=T[k])},function(w,T){function k(){this.constructor=w}S(w,T),w.prototype=null===T?Object.create(T):(k.prototype=T.prototype,new k)});Object.defineProperty(Ce,"__esModule",{value:!0});var te=Ae(928),ne=Ae(743),p=Ae(656),I=/\\(\d+)/,_=/\\(\d+)/g,y=function(){function S(w,T,k,V){this.$location=w,this.id=T,this._name=k||null,this._nameIsCapturing=ne.RegexSource.hasCaptures(this._name),this._contentName=V||null,this._contentNameIsCapturing=ne.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(S.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+te.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),S.prototype.getName=function(w,T){return this._nameIsCapturing?ne.RegexSource.replaceCaptures(this._name,w,T):this._name},S.prototype.getContentName=function(w,T){return this._contentNameIsCapturing?ne.RegexSource.replaceCaptures(this._contentName,w,T):this._contentName},S.prototype.collectPatternsRecursive=function(w,T,k){throw new Error("Implement me!")},S.prototype.compile=function(w,T,k,V){throw new Error("Implement me!")},S}();Ce.Rule=y;var d=function(S){function w(T,k,V,L,H){var Z=S.call(this,T,k,V,L)||this;return Z.retokenizeCapturedWithRuleId=H,Z}return ge(w,S),w}(y);Ce.CaptureRule=d;var m=function(){function S(w,T,k){void 0===k&&(k=!0),k?this._handleAnchors(w):(this.source=w,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=T,this.hasBackReferences=I.test(this.source)}return S.prototype.clone=function(){return new S(this.source,this.ruleId,!0)},S.prototype.setSource=function(w){this.source!==w&&(this.source=w,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},S.prototype._handleAnchors=function(w){if(w){var k,T=void 0,L=void 0,H=0,Z=[],$=!1;for(T=0,k=w.length;T<k;T++)"\\"===w.charAt(T)&&T+1<k&&("z"===(L=w.charAt(T+1))?(Z.push(w.substring(H,T)),Z.push("$(?!\\n)(?<!\\n)"),H=T+2):("A"===L||"G"===L)&&($=!0),T++);this.hasAnchor=$,0===H?this.source=w:(Z.push(w.substring(H,k)),this.source=Z.join(""))}else this.hasAnchor=!1,this.source=w},S.prototype.resolveBackReferences=function(w,T){var k=T.map(function(V){return w.substring(V.start,V.end)});return _.lastIndex=0,this.source.replace(_,function(V,L){return function(S){return S.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}(k[parseInt(L,10)]||"")})},S.prototype._buildAnchorCache=function(){var L,H,Z,$,w=[],T=[],k=[],V=[];for(L=0,H=this.source.length;L<H;L++)Z=this.source.charAt(L),w[L]=Z,T[L]=Z,k[L]=Z,V[L]=Z,"\\"===Z&&L+1<H&&("A"===($=this.source.charAt(L+1))?(w[L+1]="\uffff",T[L+1]="\uffff",k[L+1]="A",V[L+1]="A"):"G"===$?(w[L+1]="\uffff",T[L+1]="G",k[L+1]="\uffff",V[L+1]="G"):(w[L+1]=$,T[L+1]=$,k[L+1]=$,V[L+1]=$),L++);return{A0_G0:w.join(""),A0_G1:T.join(""),A1_G0:k.join(""),A1_G1:V.join("")}},S.prototype.resolveAnchors=function(w,T){return this.hasAnchor?w?T?this._anchorCache.A1_G1:this._anchorCache.A1_G0:T?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},S}();function M(S){return new p.OnigScanner(S)}Ce.RegExpSource=m,Ce.createOnigString=function(S){var w=new p.OnigString(S);return w.$str=S,w},Ce.getString=function(S){return S.$str};var g=function(){function S(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return S.prototype.push=function(w){this._items.push(w),this._hasAnchors=this._hasAnchors||w.hasAnchor},S.prototype.unshift=function(w){this._items.unshift(w),this._hasAnchors=this._hasAnchors||w.hasAnchor},S.prototype.length=function(){return this._items.length},S.prototype.setSource=function(w,T){this._items[w].source!==T&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[w].setSource(T))},S.prototype.compile=function(w,T,k){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(!1===T&&!1===k?this._resolveAnchors(T,k):null),A0_G1:this._anchorCache.A0_G1||(!1===T&&!0===k?this._resolveAnchors(T,k):null),A1_G0:this._anchorCache.A1_G0||(!0===T&&!1===k?this._resolveAnchors(T,k):null),A1_G1:this._anchorCache.A1_G1||(!0===T&&!0===k?this._resolveAnchors(T,k):null)},T?k?this._anchorCache.A1_G1:this._anchorCache.A1_G0:k?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var V=this._items.map(function(L){return L.source});this._cached={scanner:M(V),rules:this._items.map(function(L){return L.ruleId}),debugRegExps:V}}return this._cached},S.prototype._resolveAnchors=function(w,T){var k=this._items.map(function(V){return V.resolveAnchors(w,T)});return{scanner:M(k),rules:this._items.map(function(V){return V.ruleId}),debugRegExps:k}},S}();Ce.RegExpSourceList=g;var E=function(S){function w(T,k,V,L,H){var Z=S.call(this,T,k,V,null)||this;return Z._match=new m(L,Z.id),Z.captures=H,Z._cachedCompiledPatterns=null,Z}return ge(w,S),Object.defineProperty(w.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),w.prototype.collectPatternsRecursive=function(T,k,V){k.push(this._match)},w.prototype.compile=function(T,k,V,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatternsRecursive(T,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(T,V,L)},w}(y);Ce.MatchRule=E;var C=function(S){function w(T,k,V,L,H){var Z=S.call(this,T,k,V,L)||this;return Z.patterns=H.patterns,Z.hasMissingPatterns=H.hasMissingPatterns,Z._cachedCompiledPatterns=null,Z}return ge(w,S),w.prototype.collectPatternsRecursive=function(T,k,V){var L,H;for(L=0,H=this.patterns.length;L<H;L++)T.getRule(this.patterns[L]).collectPatternsRecursive(T,k,!1)},w.prototype.compile=function(T,k,V,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatternsRecursive(T,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(T,V,L)},w}(y);Ce.IncludeOnlyRule=C;var u=function(S){function w(T,k,V,L,H,Z,$,z,N,O){var U=S.call(this,T,k,V,L)||this;return U._begin=new m(H,U.id),U.beginCaptures=Z,U._end=new m($,-1),U.endHasBackReferences=U._end.hasBackReferences,U.endCaptures=z,U.applyEndPatternLast=N||!1,U.patterns=O.patterns,U.hasMissingPatterns=O.hasMissingPatterns,U._cachedCompiledPatterns=null,U}return ge(w,S),Object.defineProperty(w.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),w.prototype.getEndWithResolvedBackReferences=function(T,k){return this._end.resolveBackReferences(T,k)},w.prototype.collectPatternsRecursive=function(T,k,V){if(V){var H,L=void 0;for(L=0,H=this.patterns.length;L<H;L++)T.getRule(this.patterns[L]).collectPatternsRecursive(T,k,!1)}else k.push(this._begin)},w.prototype.compile=function(T,k,V,L){var H=this._precompile(T);return this._end.hasBackReferences&&H.setSource(this.applyEndPatternLast?H.length()-1:0,k),this._cachedCompiledPatterns.compile(T,V,L)},w.prototype._precompile=function(T){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatternsRecursive(T,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},w}(y);Ce.BeginEndRule=u;var c=function(S){function w(T,k,V,L,H,Z,$,z,N){var O=S.call(this,T,k,V,L)||this;return O._begin=new m(H,O.id),O.beginCaptures=Z,O.whileCaptures=z,O._while=new m($,-2),O.whileHasBackReferences=O._while.hasBackReferences,O.patterns=N.patterns,O.hasMissingPatterns=N.hasMissingPatterns,O._cachedCompiledPatterns=null,O._cachedCompiledWhilePatterns=null,O}return ge(w,S),w.prototype.getWhileWithResolvedBackReferences=function(T,k){return this._while.resolveBackReferences(T,k)},w.prototype.collectPatternsRecursive=function(T,k,V){if(V){var H,L=void 0;for(L=0,H=this.patterns.length;L<H;L++)T.getRule(this.patterns[L]).collectPatternsRecursive(T,k,!1)}else k.push(this._begin)},w.prototype.compile=function(T,k,V,L){return this._precompile(T),this._cachedCompiledPatterns.compile(T,V,L)},w.prototype._precompile=function(T){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatternsRecursive(T,this._cachedCompiledPatterns,!0))},w.prototype.compileWhile=function(T,k,V,L){return this._precompileWhile(T),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,k),this._cachedCompiledWhilePatterns.compile(T,V,L)},w.prototype._precompileWhile=function(T){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new g,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},w}(y);Ce.BeginWhileRule=c;var D=function(){function S(){}return S.createCaptureRule=function(w,T,k,V,L){return w.registerRule(function(H){return new d(T,H,k,V,L)})},S.getCompiledRuleId=function(w,T,k){return w.id||T.registerRule(function(V){return w.id=V,w.match?new E(w.$vscodeTextmateLocation,w.id,w.name,w.match,S._compileCaptures(w.captures,T,k)):w.begin?w.while?new c(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,w.begin,S._compileCaptures(w.beginCaptures||w.captures,T,k),w.while,S._compileCaptures(w.whileCaptures||w.captures,T,k),S._compilePatterns(w.patterns,T,k)):new u(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,w.begin,S._compileCaptures(w.beginCaptures||w.captures,T,k),w.end,S._compileCaptures(w.endCaptures||w.captures,T,k),w.applyEndPatternLast,S._compilePatterns(w.patterns,T,k)):(w.repository&&(k=ne.mergeObjects({},k,w.repository)),new C(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,S._compilePatterns(w.patterns,T,k)))}),w.id},S._compileCaptures=function(w,T,k){var L,H,Z,$,V=[];if(w){for($ in H=0,w)"$vscodeTextmateLocation"!==$&&(L=parseInt($,10))>H&&(H=L);for(Z=0;Z<=H;Z++)V[Z]=null;for($ in w)if("$vscodeTextmateLocation"!==$){L=parseInt($,10);var z=0;w[$].patterns&&(z=S.getCompiledRuleId(w[$],T,k)),V[L]=S.createCaptureRule(T,w[$].$vscodeTextmateLocation,w[$].name,w[$].contentName,z)}}return V},S._compilePatterns=function(w,T,k){var L,H,Z,$,z,N,O,V=[];if(w)for(H=0,Z=w.length;H<Z;H++){if($=-1,(L=w[H]).include)if("#"===L.include.charAt(0)){var U=k[L.include.substr(1)];U&&($=S.getCompiledRuleId(U,T,k))}else if("$base"===L.include||"$self"===L.include)$=S.getCompiledRuleId(k[L.include],T,k);else{var Y=null,ie=null,pe=L.include.indexOf("#");if(pe>=0?(Y=L.include.substring(0,pe),ie=L.include.substring(pe+1)):Y=L.include,z=T.getExternalGrammar(Y,k))if(ie){var _e=z.repository[ie];_e&&($=S.getCompiledRuleId(_e,T,z.repository))}else $=S.getCompiledRuleId(z.repository.$self,T,z.repository)}else $=S.getCompiledRuleId(L,T,k);if(-1!==$){if(O=!1,((N=T.getRule($))instanceof C||N instanceof u||N instanceof c)&&N.hasMissingPatterns&&0===N.patterns.length&&(O=!0),O)continue;V.push($)}}return{patterns:V,hasMissingPatterns:(w?w.length:0)!==V.length}},S}();Ce.RuleFactory=D},167:(qe,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var Ae=function(A,h,g,E,C,l){this.scope=A,this.parentScopes=h,this.index=g,this.fontStyle=E,this.foreground=C,this.background=l};function ge(M){return!!(/^#[0-9a-f]{6}$/i.test(M)||/^#[0-9a-f]{8}$/i.test(M)||/^#[0-9a-f]{3}$/i.test(M)||/^#[0-9a-f]{4}$/i.test(M))}function te(M){if(!M)return[];if(!M.settings||!Array.isArray(M.settings))return[];for(var A=M.settings,h=[],g=0,E=0,C=A.length;E<C;E++){var l=A[E];if(l.settings){var u=void 0;u="string"==typeof l.scope?l.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):Array.isArray(l.scope)?l.scope:[""];var D=-1;if("string"==typeof l.settings.fontStyle){D=0;for(var w=0,T=(S=l.settings.fontStyle.split(" ")).length;w<T;w++)switch(S[w]){case"italic":D|=1;break;case"bold":D|=2;break;case"underline":D|=4}}var V=null;"string"==typeof l.settings.foreground&&ge(l.settings.foreground)&&(V=l.settings.foreground);var L=null;for("string"==typeof l.settings.background&&ge(l.settings.background)&&(L=l.settings.background),w=0,T=u.length;w<T;w++){var S,H=(S=u[w].trim().split(" "))[S.length-1],Z=null;S.length>1&&(Z=S.slice(0,S.length-1)).reverse(),h[g++]=new Ae(H,Z,E,D,V,L)}}}return h}Ce.ParsedThemeRule=Ae,Ce.parseTheme=te;var p=function(){function M(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return M.prototype.getId=function(A){if(null===A)return 0;A=A.toUpperCase();var h=this._color2id[A];return h||(h=++this._lastColorId,this._color2id[A]=h,this._id2color[h]=A,h)},M.prototype.getColorMap=function(){return this._id2color.slice(0)},M}();Ce.ColorMap=p;var I=function(){function M(A,h,g){this._colorMap=A,this._root=g,this._defaults=h,this._cache={}}return M.createFromRawTheme=function(A){return this.createFromParsedTheme(te(A))},M.createFromParsedTheme=function(A){return function(M){M.sort(function(w,T){var k=_(w.scope,T.scope);return 0!==k||0!==(k=y(w.parentScopes,T.parentScopes))?k:w.index-T.index});for(var A=0,h="#000000",g="#ffffff";M.length>=1&&""===M[0].scope;){var E=M.shift();-1!==E.fontStyle&&(A=E.fontStyle),null!==E.foreground&&(h=E.foreground),null!==E.background&&(g=E.background)}for(var C=new p,l=new d(0,null,A,C.getId(h),C.getId(g)),u=new m(new d(0,null,-1,0,0),[]),c=0,D=M.length;c<D;c++){var S=M[c];u.insert(0,S.scope,S.parentScopes,S.fontStyle,C.getId(S.foreground),C.getId(S.background))}return new I(C,l,u)}(A)},M.prototype.getColorMap=function(){return this._colorMap.getColorMap()},M.prototype.getDefaults=function(){return this._defaults},M.prototype.match=function(A){return this._cache.hasOwnProperty(A)||(this._cache[A]=this._root.match(A)),this._cache[A]},M}();function _(M,A){return M<A?-1:M>A?1:0}function y(M,A){if(null===M&&null===A)return 0;if(!M)return-1;if(!A)return 1;var h=M.length,g=A.length;if(h===g){for(var E=0;E<h;E++){var C=_(M[E],A[E]);if(0!==C)return C}return 0}return h-g}Ce.Theme=I,Ce.strcmp=_,Ce.strArrCmp=y;var d=function(){function M(A,h,g,E,C){this.scopeDepth=A,this.parentScopes=h,this.fontStyle=g,this.foreground=E,this.background=C}return M.prototype.clone=function(){return new M(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},M.cloneArr=function(A){for(var h=[],g=0,E=A.length;g<E;g++)h[g]=A[g].clone();return h},M.prototype.acceptOverwrite=function(A,h,g,E){this.scopeDepth>A?console.log("how did this happen?"):this.scopeDepth=A,-1!==h&&(this.fontStyle=h),0!==g&&(this.foreground=g),0!==E&&(this.background=E)},M}();Ce.ThemeTrieElementRule=d;var m=function(){function M(A,h,g){void 0===h&&(h=[]),void 0===g&&(g={}),this._mainRule=A,this._rulesWithParentScopes=h,this._children=g}return M._sortBySpecificity=function(A){return 1===A.length||A.sort(this._cmpBySpecificity),A},M._cmpBySpecificity=function(A,h){if(A.scopeDepth===h.scopeDepth){var g=A.parentScopes,E=h.parentScopes,C=null===g?0:g.length,l=null===E?0:E.length;if(C===l)for(var u=0;u<C;u++){var c=g[u].length,D=E[u].length;if(c!==D)return D-c}return l-C}return h.scopeDepth-A.scopeDepth},M.prototype.match=function(A){if(""===A)return M._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var g,E,h=A.indexOf(".");return-1===h?(g=A,E=""):(g=A.substring(0,h),E=A.substring(h+1)),this._children.hasOwnProperty(g)?this._children[g].match(E):M._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},M.prototype.insert=function(A,h,g,E,C,l){if(""!==h){var c,D,S,u=h.indexOf(".");-1===u?(c=h,D=""):(c=h.substring(0,u),D=h.substring(u+1)),this._children.hasOwnProperty(c)?S=this._children[c]:(S=new M(this._mainRule.clone(),d.cloneArr(this._rulesWithParentScopes)),this._children[c]=S),S.insert(A+1,D,g,E,C,l)}else this._doInsertHere(A,g,E,C,l)},M.prototype._doInsertHere=function(A,h,g,E,C){if(null!==h){for(var l=0,u=this._rulesWithParentScopes.length;l<u;l++){var c=this._rulesWithParentScopes[l];if(0===y(c.parentScopes,h))return void c.acceptOverwrite(A,g,E,C)}-1===g&&(g=this._mainRule.fontStyle),0===E&&(E=this._mainRule.foreground),0===C&&(C=this._mainRule.background),this._rulesWithParentScopes.push(new d(A,h,g,E,C))}else this._mainRule.acceptOverwrite(A,g,E,C)},M}();Ce.ThemeTrieElement=m},743:(qe,Ce)=>{"use strict";function ge(y){return Array.isArray(y)?function(y){for(var d=[],m=0,M=y.length;m<M;m++)d[m]=ge(y[m]);return d}(y):"object"==typeof y?function(y){var d={};for(var m in y)d[m]=ge(y[m]);return d}(y):y}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.clone=function(y){return ge(y)},Ce.mergeObjects=function(y){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];return d.forEach(function(M){for(var A in M)y[A]=M[A]}),y};var I=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,_=function(){function y(){}return y.hasCaptures=function(d){return I.test(d)},y.replaceCaptures=function(d,m,M){return d.replace(I,function(A,h,g,E){var C=M[parseInt(h||g,10)];if(!C)return A;for(var l=m.substring(C.start,C.end);"."===l[0];)l=l.substring(1);switch(E){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}})},y}();Ce.RegexSource=_},250:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});const ge=Ae(810);Ce.default=class{constructor(p){this.source=p;try{this.scanner=new ge.default([this.source])}catch(I){}}searchSync(p,I){let _;return null==I&&(I=0),_=this.scanner.findNextMatchSync(p,I),this.captureIndicesForMatch(p,_)}search(p,I,_){null==I&&(I=0),"function"==typeof I&&(_=I,I=0);try{_(null,this.searchSync(p,I))}catch(y){_(y)}}testSync(p){return"boolean"==typeof this.source||"boolean"==typeof p?this.source===p:null!=this.searchSync(p)}test(p,I){"function"!=typeof I&&(I=()=>{});try{I(null,this.testSync(p))}catch(_){I(_)}}captureIndicesForMatch(p,I){if(null!=I){const{captureIndices:_}=I;let y;p=this.scanner.convertToString(p);for(let d=0;d<_.length;d++)y=_[d],y.match=p.slice(y.start,y.end);return _}return null}}},810:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});const ge=Ae(230),te=Ae(573),ne=Ae(804);function p(d){const m=te.onigasmH._malloc(d.utf8Bytes.length);return te.onigasmH.HEAPU8.set(d.utf8Bytes,m),m}function I(d){const m=[];let M=0;for(;0!==te.onigasmH.HEAPU8[d];)m[M++]=te.onigasmH.HEAPU8[d++];return m.join()}const _=new ge({dispose:(d,m)=>{const M=te.onigasmH._malloc(m.regexTPtrs.length);if(te.onigasmH.HEAPU8.set(m.regexTPtrs,M),0!==te.onigasmH._disposeCompiledPatterns(M,d.patterns.length)){const h=I(te.onigasmH._getLastError());throw new Error(h)}te.onigasmH._free(M)},max:1e3});class y{constructor(m){if(null===te.onigasmH)throw new Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let M=0;M<m.length;M++)if("string"!=typeof m[M])throw new TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings");this.sources=m.slice()}get patterns(){return this.sources.slice()}findNextMatch(m,M,A){null==M&&(M=0),"function"==typeof M&&(A=M,M=0);try{A(null,this.findNextMatchSync(m,M))}catch(h){A(h)}}findNextMatchSync(m,M){null==M&&(M=0),M=this.convertToNumber(M);let A=_.get(this),h=0;if(!A){const S=te.onigasmH._malloc(4),w=[];for(let T=0;T<this.sources.length;T++){const V=p(new ne.default(this.sources[T]));if(h=te.onigasmH._compilePattern(V,S),0!==h){const H=I(te.onigasmH._getLastError());throw new Error(H)}w.push(te.onigasmH.HEAP32[S/4]),te.onigasmH._free(V)}A={regexTPtrs:new Uint8Array(Uint32Array.from(w).buffer)},te.onigasmH._free(S),_.set(this,A)}const g=m instanceof ne.default?m:new ne.default(this.convertToString(m)),E=p(g),C=te.onigasmH._malloc(8),l=te.onigasmH._malloc(A.regexTPtrs.length);if(te.onigasmH.HEAPU8.set(A.regexTPtrs,l),h=te.onigasmH._findBestMatch(l,this.sources.length,E,g.utf8Bytes.length-1,g.convertUtf16OffsetToUtf8(M),C),0!==h){const S=I(te.onigasmH._getLastError());throw new Error(S)}const[u,c,D]=new Uint32Array(te.onigasmH.HEAPU32.buffer,C,3);if(te.onigasmH._free(E),te.onigasmH._free(C),te.onigasmH._free(l),D>0){const S=new Uint32Array(te.onigasmH.HEAPU32.buffer,c,D),w=[];let T=0,k=0;for(;T<D;){const V=k++;let L=S[T++],H=S[T++];g.hasMultiByteCharacters&&(L=g.convertUtf8OffsetToUtf16(L),H=g.convertUtf8OffsetToUtf16(H)),w.push({end:H,index:V,length:H-L,start:L})}return te.onigasmH._free(c),{captureIndices:w,index:u,scanner:this}}return null}convertToString(m){return void 0===m?"undefined":null===m?"null":m instanceof ne.default?m.content:m.toString()}convertToNumber(m){return m=parseInt(m,10),isFinite(m)||(m=0),Math.max(m,0)}}Ce.OnigScanner=y,Ce.default=y},804:(qe,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=class{constructor(ne){if(this.substring=(p,I)=>this.source.substring(p,I),this.toString=(p,I)=>this.source,"string"!=typeof ne)throw new TypeError("Argument must be a string");this.source=ne,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return null!==this.utf8Indexes}convertUtf8OffsetToUtf16(ne){if(ne<0)return 0;if(ne>=this._utf8Bytes.length-1)return this.source.length;const I=this.utf8Indexes;return I&&ne>=this._mappingTableStartOffset?function(te,ne){let p=0,I=te.length;if(0===I)return 0;for(;p<I;){const _=Math.floor((p+I)/2);te[_]>=ne?I=_:p=_+1}for(;p>0&&(p>=te.length||te[p]>ne);)p--;return p>0&&te[p]===te[p-1]&&p--,p}(I,ne-this._mappingTableStartOffset)+this._mappingTableStartOffset:ne}convertUtf16OffsetToUtf8(ne){if(ne<0)return 0;if(ne>=this.source.length)return this._utf8Bytes.length-1;const I=this.utf8Indexes;return I&&ne>=this._mappingTableStartOffset?I[ne-this._mappingTableStartOffset]+this._mappingTableStartOffset:ne}encode(){const ne=this.source,p=ne.length;let I,_=0,y=0;function d(g){const E=3*(p-g);I=E<=255?new Uint8Array(p-g):E<=65535?new Uint16Array(p-g):new Uint32Array(p-g),y=g,I[_++]=0}const m=new Uint8Array(3*p+1);let M=0,A=0;for(;A<ne.length;){let g;const E=ne.charCodeAt(A);if(I&&(I[_++]=M-y),E<55296||E>57343)g=E;else if(E>=56320)g=65533;else if(A===p-1)g=65533;else{const u=ne.charCodeAt(A+1);56320<=u&&u<=57343?(I||d(A),g=65536+((1023&E)<<10)+(1023&u),A+=1,I[_++]=M-y):g=65533}let C,l;if(g<=127?(C=1,l=0):g<=2047?(C=2,l=192):g<=65535?(C=3,l=224):(C=4,l=240),1===C)m[M++]=g;else for(I||d(M),m[M++]=(g>>6*--C)+l;C>0;)m[M++]=128|63&g>>6*(C-1),C-=1;A+=1}const h=m.slice(0,M+1);h[M]=0,this._utf8Bytes=h,I&&(this._utf8Indexes=I,this._mappingTableStartOffset=y)}}},656:(qe,Ce,Ae)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});const ge=Ae(573);Ce.loadWASM=ge.loadWASM;const te=Ae(250);Ce.OnigRegExp=te.default;const ne=Ae(810);Ce.OnigScanner=ne.default;const p=Ae(804);Ce.OnigString=p.default},602:qe=>{var Ce=("undefined"!=typeof document&&document.currentScript&&document,function(ge){var p,te=void 0!==(ge=ge||{})?ge:{},ne={};for(p in te)te.hasOwnProperty(p)&&(ne[p]=te[p]);var C,I=[],d=!1,m=!1,A=!0,h="";function g(le){return te.locateFile?te.locateFile(le,h):h+le}A&&(C=function(me){var Ie;return"function"==typeof readbuffer?new Uint8Array(readbuffer(me)):(_e("object"==typeof(Ie=read(me,"binary"))),Ie)},"undefined"!=typeof scriptArgs?I=scriptArgs:void 0!==arguments&&(I=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var l=te.print||console.log.bind(console),u=te.printErr||console.warn.bind(console);for(p in ne)ne.hasOwnProperty(p)&&(te[p]=ne[p]);ne=null,te.arguments&&(I=te.arguments);var z,$=function(le){};te.wasmBinary&&(z=te.wasmBinary),"object"!=typeof WebAssembly&&u("no native wasm support detected");var U,Y=new WebAssembly.Table({initial:244,maximum:244,element:"anyfunc"}),ie=!1;function _e(le,me){le||Ln("Assertion failed: "+me)}function Ee(le){var me=te["_"+le];return _e(me,"Cannot call unknown function "+le+", make sure it is exported"),me}function Re(le,me,Ie,Oe,lt){var Ue={string:function(gt){var En=0;if(null!=gt&&0!==gt){var Ge=1+(gt.length<<2);se(gt,En=yo(Ge),Ge)}return En},array:function(gt){var En=yo(gt.length);return ht(gt,En),En}},Je=Ee(le),Pt=[],zt=0;if(Oe)for(var gn=0;gn<Oe.length;gn++){var an=Ue[Ie[gn]];an?(0===zt&&(zt=en()),Pt[gn]=an(Oe[gn])):Pt[gn]=Oe[gn]}var gt,tn=Je.apply(null,Pt);return gt=tn,tn="string"===me?re(gt):"boolean"===me?Boolean(gt):gt,0!==zt&&vs(zt),tn}var q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function J(le,me,Ie){for(var Oe=me+Ie,lt=me;le[lt]&&!(lt>=Oe);)++lt;if(lt-me>16&&le.subarray&&q)return q.decode(le.subarray(me,lt));for(var Ue="";me<lt;){var We=le[me++];if(128&We){var Je=63&le[me++];if(192!=(224&We)){var Pt=63&le[me++];if((We=224==(240&We)?(15&We)<<12|Je<<6|Pt:(7&We)<<18|Je<<12|Pt<<6|63&le[me++])<65536)Ue+=String.fromCharCode(We);else{var zt=We-65536;Ue+=String.fromCharCode(55296|zt>>10,56320|1023&zt)}}else Ue+=String.fromCharCode((31&We)<<6|Je)}else Ue+=String.fromCharCode(We)}return Ue}function re(le,me){return le?J(Nt,le,me):""}function ue(le,me,Ie,Oe){if(!(Oe>0))return 0;for(var lt=Ie,Ue=Ie+Oe-1,We=0;We<le.length;++We){var Je=le.charCodeAt(We);if(Je>=55296&&Je<=57343&&(Je=65536+((1023&Je)<<10)|1023&le.charCodeAt(++We)),Je<=127){if(Ie>=Ue)break;me[Ie++]=Je}else if(Je<=2047){if(Ie+1>=Ue)break;me[Ie++]=192|Je>>6,me[Ie++]=128|63&Je}else if(Je<=65535){if(Ie+2>=Ue)break;me[Ie++]=224|Je>>12,me[Ie++]=128|Je>>6&63,me[Ie++]=128|63&Je}else{if(Ie+3>=Ue)break;me[Ie++]=240|Je>>18,me[Ie++]=128|Je>>12&63,me[Ie++]=128|Je>>6&63,me[Ie++]=128|63&Je}}return me[Ie]=0,Ie-lt}function se(le,me,Ie){return ue(le,Nt,me,Ie)}function ht(le,me){At.set(le,me)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var St,At,Nt,dn,Tt=65536;function ke(le,me){return le%me>0&&(le+=me-le%me),le}function br(le){St=le,te.HEAP8=At=new Int8Array(le),te.HEAP16=new Int16Array(le),te.HEAP32=dn=new Int32Array(le),te.HEAPU8=Nt=new Uint8Array(le),te.HEAPU16=new Uint16Array(le),te.HEAPU32=new Uint32Array(le),te.HEAPF32=new Float32Array(le),te.HEAPF64=new Float64Array(le)}var xn=5507664,si=264624,Q=te.TOTAL_MEMORY||157286400;function x(le){for(;le.length>0;){var me=le.shift();if("function"!=typeof me){var Ie=me.func;"number"==typeof Ie?void 0===me.arg?te.dynCall_v(Ie):te.dynCall_vi(Ie,me.arg):Ie(void 0===me.arg?null:me.arg)}else me()}}(U=te.wasmMemory?te.wasmMemory:new WebAssembly.Memory({initial:Q/Tt}))&&(St=U.buffer),Q=St.byteLength,br(St),dn[si>>2]=xn;var B=[],ee=[],ce=[],ye=[];function Dt(){if(te.preRun)for("function"==typeof te.preRun&&(te.preRun=[te.preRun]);te.preRun.length;)Vn(te.preRun.shift());x(B)}function vt(){x(ee)}function Et(){x(ce)}function xi(){if(te.postRun)for("function"==typeof te.postRun&&(te.postRun=[te.postRun]);te.postRun.length;)to(te.postRun.shift());x(ye)}function Vn(le){B.unshift(le)}function to(le){ye.unshift(le)}Math,Math,Math,Math;var er=0,ai=null,pn=null;function oo(le){er++,te.monitorRunDependencies&&te.monitorRunDependencies(er)}function ui(le){if(er--,te.monitorRunDependencies&&te.monitorRunDependencies(er),0==er&&(null!==ai&&(clearInterval(ai),ai=null),pn)){var me=pn;pn=null,me()}}function Ln(le){throw te.onAbort&&te.onAbort(le),l(le+=""),u(le),ie=!0,le="abort("+le+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(le)}te.preloadedImages={},te.preloadedAudios={};var jr="data:application/octet-stream;base64,";function so(le){return String.prototype.startsWith?le.startsWith(jr):0===le.indexOf(jr)}var Un="onigasm.wasm";function Oi(){try{if(z)return new Uint8Array(z);if(C)return C(Un);throw"both async and sync fetching of the wasm failed"}catch(le){Ln(le)}}function li(){return z||!d&&!m||"function"!=typeof fetch?new Promise(function(le,me){le(Oi())}):fetch(Un,{credentials:"same-origin"}).then(function(le){if(!le.ok)throw"failed to load wasm binary file at '"+Un+"'";return le.arrayBuffer()}).catch(function(){return Oi()})}function ao(){var le={env:rt,wasi_unstable:rt};function me(We,Je){te.asm=We.exports,ui()}function Ie(We){me(We.instance)}function Oe(We){return li().then(function(Je){return WebAssembly.instantiate(Je,le)}).then(We,function(Je){u("failed to asynchronously prepare wasm: "+Je),Ln(Je)})}if(oo(),te.instantiateWasm)try{return te.instantiateWasm(le,me)}catch(We){return u("Module.instantiateWasm callback failed with error: "+We),!1}return function(){if(z||"function"!=typeof WebAssembly.instantiateStreaming||so(Un)||"function"!=typeof fetch)return Oe(Ie);fetch(Un,{credentials:"same-origin"}).then(function(We){return WebAssembly.instantiateStreaming(We,le).then(Ie,function(Pt){u("wasm streaming compile failed: "+Pt),u("falling back to ArrayBuffer instantiation"),Oe(Ie)})})}(),{}}function lo(){Ln()}function ki(){return At.length}function co(){return 264624}function Fi(le,me,Ie){Nt.set(Nt.subarray(me,me+Ie),le)}function fo(le){try{return U.grow(le-St.byteLength+65535>>16),br(U.buffer),1}catch(me){}}function ho(le){var me=ki(),Oe=2147418112;if(le>Oe)return!1;for(var Ue=Math.max(me,16777216);Ue<le;)Ue=Ue<=536870912?ke(2*Ue,65536):Math.min(ke((3*Ue+2147483648)/4,65536),Oe);return!!fo(Ue)}so(Un)||(Un=g(Un)),ee.push({func:function(){_o()}});var Wn={buffers:[null,[],[]],printChar:function(le,me){var Ie=Wn.buffers[le];0===me||10===me?((1===le?l:u)(J(Ie,0)),Ie.length=0):Ie.push(me)},varargs:0,get:function(le){return Wn.varargs+=4,dn[Wn.varargs-4>>2]},getStr:function(){return re(Wn.get())},get64:function(){var le=Wn.get();return Wn.get(),le},getZero:function(){Wn.get()}};function po(le){try{return 0}catch(me){return("undefined"==typeof FS||!(me instanceof FS.ErrnoError))&&Ln(me),me.errno}}function go(le,me,Ie,Oe,lt){try{return 0}catch(Ue){return("undefined"==typeof FS||!(Ue instanceof FS.ErrnoError))&&Ln(Ue),Ue.errno}}function fi(le,me,Ie,Oe){try{for(var lt=0,Ue=0;Ue<Ie;Ue++){for(var We=dn[me+8*Ue>>2],Je=dn[me+(8*Ue+4)>>2],Pt=0;Pt<Je;Pt++)Wn.printChar(le,Nt[We+Pt]);lt+=Je}return dn[Oe>>2]=lt,0}catch(zt){return("undefined"==typeof FS||!(zt instanceof FS.ErrnoError))&&Ln(zt),zt.errno}}function Ct(le){$(0|le)}var rt={abort:lo,emscripten_get_sbrk_ptr:co,emscripten_memcpy_big:Fi,emscripten_resize_heap:ho,fd_close:po,fd_seek:go,fd_write:fi,memory:U,setTempRet0:Ct,table:Y},Vr=ao();te.asm=Vr;var ve,_o=te.___wasm_call_ctors=function(){return te.asm.__wasm_call_ctors.apply(null,arguments)},en=(te._malloc=function(){return te.asm.malloc.apply(null,arguments)},te._free=function(){return te.asm.free.apply(null,arguments)},te._getLastError=function(){return te.asm.getLastError.apply(null,arguments)},te._compilePattern=function(){return te.asm.compilePattern.apply(null,arguments)},te._disposeCompiledPatterns=function(){return te.asm.disposeCompiledPatterns.apply(null,arguments)},te._findBestMatch=function(){return te.asm.findBestMatch.apply(null,arguments)},te.___cxa_demangle=function(){return te.asm.__cxa_demangle.apply(null,arguments)},te._setThrew=function(){return te.asm.setThrew.apply(null,arguments)},te.stackSave=function(){return te.asm.stackSave.apply(null,arguments)}),yo=te.stackAlloc=function(){return te.asm.stackAlloc.apply(null,arguments)},vs=te.stackRestore=function(){return te.asm.stackRestore.apply(null,arguments)};function mt(le){function me(){ve||(ve=!0,!ie&&(vt(),Et(),te.onRuntimeInitialized&&te.onRuntimeInitialized(),xi()))}le=le||I,er>0||(Dt(),er>0)||(te.setStatus?(te.setStatus("Running..."),setTimeout(function(){setTimeout(function(){te.setStatus("")},1),me()},1)):me())}if(te.__growWasmMemory=function(){return te.asm.__growWasmMemory.apply(null,arguments)},te.dynCall_vi=function(){return te.asm.dynCall_vi.apply(null,arguments)},te.dynCall_iiii=function(){return te.asm.dynCall_iiii.apply(null,arguments)},te.dynCall_iiiii=function(){return te.asm.dynCall_iiiii.apply(null,arguments)},te.dynCall_iii=function(){return te.asm.dynCall_iii.apply(null,arguments)},te.dynCall_iidiiii=function(){return te.asm.dynCall_iidiiii.apply(null,arguments)},te.dynCall_vii=function(){return te.asm.dynCall_vii.apply(null,arguments)},te.dynCall_ii=function(){return te.asm.dynCall_ii.apply(null,arguments)},te.dynCall_i=function(){return te.asm.dynCall_i.apply(null,arguments)},te.dynCall_v=function(){return te.asm.dynCall_v.apply(null,arguments)},te.dynCall_viiiiii=function(){return te.asm.dynCall_viiiiii.apply(null,arguments)},te.dynCall_viiiii=function(){return te.asm.dynCall_viiiii.apply(null,arguments)},te.dynCall_viiii=function(){return te.asm.dynCall_viiii.apply(null,arguments)},te.dynCall_jiji=function(){return te.asm.dynCall_jiji.apply(null,arguments)},te.asm=Vr,te.ccall=Re,te.then=function(le){if(ve)le(te);else{var me=te.onRuntimeInitialized;te.onRuntimeInitialized=function(){me&&me(),le(te)}}return te},pn=function le(){ve||mt(),ve||(pn=le)},te.run=mt,te.preInit)for("function"==typeof te.preInit&&(te.preInit=[te.preInit]);te.preInit.length>0;)te.preInit.pop()();return mt(),ge});qe.exports=Ce},573:(qe,Ce,Ae)=>{"use strict";var ge=Ae(926).default;Object.defineProperty(Ce,"__esModule",{value:!0});const te=Ae(602);function ne(d){return p.apply(this,arguments)}function p(){return(p=ge(function*(d){return new Promise((m,M)=>{const{log:A,warn:h,error:g}=console;te({instantiateWasm:(E,C)=>(WebAssembly.instantiate(d,E).then(l=>{C(l.instance)}).catch(l=>{throw l}),{})}).then(E=>{Ce.onigasmH=E,m()}),"undefined"!=typeof print&&(console.log=A,console.error=g,console.warn=h)})})).apply(this,arguments)}let I=!1;function y(){return(y=ge(function*(d){if(I)throw new Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if("string"==typeof d){const m=yield(yield fetch(d)).arrayBuffer();yield ne(m)}else{if(!(d instanceof ArrayBuffer))throw new TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");yield ne(d)}I=!0})).apply(this,arguments)}Ce.loadWASM=function(d){return y.apply(this,arguments)}},230:(qe,Ce,Ae)=>{"use strict";const ge=Ae(556),te=Symbol("max"),ne=Symbol("length"),p=Symbol("lengthCalculator"),I=Symbol("allowStale"),_=Symbol("maxAge"),y=Symbol("dispose"),d=Symbol("noDisposeOnSet"),m=Symbol("lruList"),M=Symbol("cache"),A=Symbol("updateAgeOnGet"),h=()=>1,E=(S,w,T)=>{const k=S[M].get(w);if(k){const V=k.value;if(C(S,V)){if(u(S,k),!S[I])return}else T&&(S[A]&&(k.value.now=Date.now()),S[m].unshiftNode(k));return V.value}},C=(S,w)=>{if(!w||!w.maxAge&&!S[_])return!1;const T=Date.now()-w.now;return w.maxAge?T>w.maxAge:S[_]&&T>S[_]},l=S=>{if(S[ne]>S[te])for(let w=S[m].tail;S[ne]>S[te]&&null!==w;){const T=w.prev;u(S,w),w=T}},u=(S,w)=>{if(w){const T=w.value;S[y]&&S[y](T.key,T.value),S[ne]-=T.length,S[M].delete(T.key),S[m].removeNode(w)}};class c{constructor(w,T,k,V,L){this.key=w,this.value=T,this.length=k,this.now=V,this.maxAge=L||0}}const D=(S,w,T,k)=>{let V=T.value;C(S,V)&&(u(S,T),S[I]||(V=void 0)),V&&w.call(k,V.value,V.key,S)};qe.exports=class{constructor(w){if("number"==typeof w&&(w={max:w}),w||(w={}),w.max&&("number"!=typeof w.max||w.max<0))throw new TypeError("max must be a non-negative number");this[te]=w.max||1/0;const k=w.length||h;if(this[p]="function"!=typeof k?h:k,this[I]=w.stale||!1,w.maxAge&&"number"!=typeof w.maxAge)throw new TypeError("maxAge must be a number");this[_]=w.maxAge||0,this[y]=w.dispose,this[d]=w.noDisposeOnSet||!1,this[A]=w.updateAgeOnGet||!1,this.reset()}set max(w){if("number"!=typeof w||w<0)throw new TypeError("max must be a non-negative number");this[te]=w||1/0,l(this)}get max(){return this[te]}set allowStale(w){this[I]=!!w}get allowStale(){return this[I]}set maxAge(w){if("number"!=typeof w)throw new TypeError("maxAge must be a non-negative number");this[_]=w,l(this)}get maxAge(){return this[_]}set lengthCalculator(w){"function"!=typeof w&&(w=h),w!==this[p]&&(this[p]=w,this[ne]=0,this[m].forEach(T=>{T.length=this[p](T.value,T.key),this[ne]+=T.length})),l(this)}get lengthCalculator(){return this[p]}get length(){return this[ne]}get itemCount(){return this[m].length}rforEach(w,T){T=T||this;for(let k=this[m].tail;null!==k;){const V=k.prev;D(this,w,k,T),k=V}}forEach(w,T){T=T||this;for(let k=this[m].head;null!==k;){const V=k.next;D(this,w,k,T),k=V}}keys(){return this[m].toArray().map(w=>w.key)}values(){return this[m].toArray().map(w=>w.value)}reset(){this[y]&&this[m]&&this[m].length&&this[m].forEach(w=>this[y](w.key,w.value)),this[M]=new Map,this[m]=new ge,this[ne]=0}dump(){return this[m].map(w=>!C(this,w)&&{k:w.key,v:w.value,e:w.now+(w.maxAge||0)}).toArray().filter(w=>w)}dumpLru(){return this[m]}set(w,T,k){if((k=k||this[_])&&"number"!=typeof k)throw new TypeError("maxAge must be a number");const V=k?Date.now():0,L=this[p](T,w);if(this[M].has(w)){if(L>this[te])return u(this,this[M].get(w)),!1;const $=this[M].get(w).value;return this[y]&&(this[d]||this[y](w,$.value)),$.now=V,$.maxAge=k,$.value=T,this[ne]+=L-$.length,$.length=L,this.get(w),l(this),!0}const H=new c(w,T,L,V,k);return H.length>this[te]?(this[y]&&this[y](w,T),!1):(this[ne]+=H.length,this[m].unshift(H),this[M].set(w,this[m].head),l(this),!0)}has(w){if(!this[M].has(w))return!1;const T=this[M].get(w).value;return!C(this,T)}get(w){return E(this,w,!0)}peek(w){return E(this,w,!1)}pop(){const w=this[m].tail;return w?(u(this,w),w.value):null}del(w){u(this,this[M].get(w))}load(w){this.reset();const T=Date.now();for(let k=w.length-1;k>=0;k--){const V=w[k],L=V.e||0;if(0===L)this.set(V.k,V.v);else{const H=L-T;H>0&&this.set(V.k,V.v,H)}}}prune(){this[M].forEach((w,T)=>E(this,T,!1))}}},206:qe=>{"use strict";qe.exports=function(Ce){Ce.prototype[Symbol.iterator]=function*(){for(let Ae=this.head;Ae;Ae=Ae.next)yield Ae.value}}},556:(qe,Ce,Ae)=>{"use strict";function ge(_){var y=this;if(y instanceof ge||(y=new ge),y.tail=null,y.head=null,y.length=0,_&&"function"==typeof _.forEach)_.forEach(function(M){y.push(M)});else if(arguments.length>0)for(var d=0,m=arguments.length;d<m;d++)y.push(arguments[d]);return y}function te(_,y,d){var m=y===_.head?new I(d,null,y,_):new I(d,y,y.next,_);return null===m.next&&(_.tail=m),null===m.prev&&(_.head=m),_.length++,m}function ne(_,y){_.tail=new I(y,_.tail,null,_),_.head||(_.head=_.tail),_.length++}function p(_,y){_.head=new I(y,null,_.head,_),_.tail||(_.tail=_.head),_.length++}function I(_,y,d,m){if(!(this instanceof I))return new I(_,y,d,m);this.list=m,this.value=_,y?(y.next=this,this.prev=y):this.prev=null,d?(d.prev=this,this.next=d):this.next=null}qe.exports=ge,ge.Node=I,ge.create=ge,ge.prototype.removeNode=function(_){if(_.list!==this)throw new Error("removing node which does not belong to this list");var y=_.next,d=_.prev;return y&&(y.prev=d),d&&(d.next=y),_===this.head&&(this.head=y),_===this.tail&&(this.tail=d),_.list.length--,_.next=null,_.prev=null,_.list=null,y},ge.prototype.unshiftNode=function(_){if(_!==this.head){_.list&&_.list.removeNode(_);var y=this.head;_.list=this,_.next=y,y&&(y.prev=_),this.head=_,this.tail||(this.tail=_),this.length++}},ge.prototype.pushNode=function(_){if(_!==this.tail){_.list&&_.list.removeNode(_);var y=this.tail;_.list=this,_.prev=y,y&&(y.next=_),this.tail=_,this.head||(this.head=_),this.length++}},ge.prototype.push=function(){for(var _=0,y=arguments.length;_<y;_++)ne(this,arguments[_]);return this.length},ge.prototype.unshift=function(){for(var _=0,y=arguments.length;_<y;_++)p(this,arguments[_]);return this.length},ge.prototype.pop=function(){if(this.tail){var _=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,_}},ge.prototype.shift=function(){if(this.head){var _=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,_}},ge.prototype.forEach=function(_,y){y=y||this;for(var d=this.head,m=0;null!==d;m++)_.call(y,d.value,m,this),d=d.next},ge.prototype.forEachReverse=function(_,y){y=y||this;for(var d=this.tail,m=this.length-1;null!==d;m--)_.call(y,d.value,m,this),d=d.prev},ge.prototype.get=function(_){for(var y=0,d=this.head;null!==d&&y<_;y++)d=d.next;if(y===_&&null!==d)return d.value},ge.prototype.getReverse=function(_){for(var y=0,d=this.tail;null!==d&&y<_;y++)d=d.prev;if(y===_&&null!==d)return d.value},ge.prototype.map=function(_,y){y=y||this;for(var d=new ge,m=this.head;null!==m;)d.push(_.call(y,m.value,this)),m=m.next;return d},ge.prototype.mapReverse=function(_,y){y=y||this;for(var d=new ge,m=this.tail;null!==m;)d.push(_.call(y,m.value,this)),m=m.prev;return d},ge.prototype.reduce=function(_,y){var d,m=this.head;if(arguments.length>1)d=y;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");m=this.head.next,d=this.head.value}for(var M=0;null!==m;M++)d=_(d,m.value,M),m=m.next;return d},ge.prototype.reduceReverse=function(_,y){var d,m=this.tail;if(arguments.length>1)d=y;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");m=this.tail.prev,d=this.tail.value}for(var M=this.length-1;null!==m;M--)d=_(d,m.value,M),m=m.prev;return d},ge.prototype.toArray=function(){for(var _=new Array(this.length),y=0,d=this.head;null!==d;y++)_[y]=d.value,d=d.next;return _},ge.prototype.toArrayReverse=function(){for(var _=new Array(this.length),y=0,d=this.tail;null!==d;y++)_[y]=d.value,d=d.prev;return _},ge.prototype.slice=function(_,y){(y=y||this.length)<0&&(y+=this.length),(_=_||0)<0&&(_+=this.length);var d=new ge;if(y<_||y<0)return d;_<0&&(_=0),y>this.length&&(y=this.length);for(var m=0,M=this.head;null!==M&&m<_;m++)M=M.next;for(;null!==M&&m<y;m++,M=M.next)d.push(M.value);return d},ge.prototype.sliceReverse=function(_,y){(y=y||this.length)<0&&(y+=this.length),(_=_||0)<0&&(_+=this.length);var d=new ge;if(y<_||y<0)return d;_<0&&(_=0),y>this.length&&(y=this.length);for(var m=this.length,M=this.tail;null!==M&&m>y;m--)M=M.prev;for(;null!==M&&m>_;m--,M=M.prev)d.push(M.value);return d},ge.prototype.splice=function(_,y){_>this.length&&(_=this.length-1),_<0&&(_=this.length+_);for(var d=0,m=this.head;null!==m&&d<_;d++)m=m.next;var M=[];for(d=0;m&&d<y;d++)M.push(m.value),m=this.removeNode(m);for(null===m&&(m=this.tail),m!==this.head&&m!==this.tail&&(m=m.prev),d=2;d<arguments.length;d++)m=te(this,m,arguments[d]);return M},ge.prototype.reverse=function(){for(var _=this.head,y=this.tail,d=_;null!==d;d=d.prev){var m=d.prev;d.prev=d.next,d.next=m}return this.head=y,this.tail=_,this};try{Ae(206)(ge)}catch(_){}},928:qe=>{"use strict";function Ce(ne){if("string"!=typeof ne)throw new TypeError("Path must be a string. Received "+JSON.stringify(ne))}function Ae(ne,p){for(var m,I="",_=0,y=-1,d=0,M=0;M<=ne.length;++M){if(M<ne.length)m=ne.charCodeAt(M);else{if(47===m)break;m=47}if(47===m){if(y!==M-1&&1!==d)if(y!==M-1&&2===d){if(I.length<2||2!==_||46!==I.charCodeAt(I.length-1)||46!==I.charCodeAt(I.length-2))if(I.length>2){var A=I.lastIndexOf("/");if(A!==I.length-1){-1===A?(I="",_=0):_=(I=I.slice(0,A)).length-1-I.lastIndexOf("/"),y=M,d=0;continue}}else if(2===I.length||1===I.length){I="",_=0,y=M,d=0;continue}p&&(I.length>0?I+="/..":I="..",_=2)}else I.length>0?I+="/"+ne.slice(y+1,M):I=ne.slice(y+1,M),_=M-y-1;y=M,d=0}else 46===m&&-1!==d?++d:d=-1}return I}var te={resolve:function(){for(var _,p="",I=!1,y=arguments.length-1;y>=-1&&!I;y--){var d;y>=0?d=arguments[y]:(void 0===_&&(_=process.cwd()),d=_),Ce(d),0!==d.length&&(p=d+"/"+p,I=47===d.charCodeAt(0))}return p=Ae(p,!I),I?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(p){if(Ce(p),0===p.length)return".";var I=47===p.charCodeAt(0),_=47===p.charCodeAt(p.length-1);return 0===(p=Ae(p,!I)).length&&!I&&(p="."),p.length>0&&_&&(p+="/"),I?"/"+p:p},isAbsolute:function(p){return Ce(p),p.length>0&&47===p.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var p,I=0;I<arguments.length;++I){var _=arguments[I];Ce(_),_.length>0&&(void 0===p?p=_:p+="/"+_)}return void 0===p?".":te.normalize(p)},relative:function(p,I){if(Ce(p),Ce(I),p===I||(p=te.resolve(p))===(I=te.resolve(I)))return"";for(var _=1;_<p.length&&47===p.charCodeAt(_);++_);for(var y=p.length,d=y-_,m=1;m<I.length&&47===I.charCodeAt(m);++m);for(var A=I.length-m,h=d<A?d:A,g=-1,E=0;E<=h;++E){if(E===h){if(A>h){if(47===I.charCodeAt(m+E))return I.slice(m+E+1);if(0===E)return I.slice(m+E)}else d>h&&(47===p.charCodeAt(_+E)?g=E:0===E&&(g=0));break}var C=p.charCodeAt(_+E);if(C!==I.charCodeAt(m+E))break;47===C&&(g=E)}var u="";for(E=_+g+1;E<=y;++E)(E===y||47===p.charCodeAt(E))&&(u+=0===u.length?"..":"/..");return u.length>0?u+I.slice(m+g):(47===I.charCodeAt(m+=g)&&++m,I.slice(m))},_makeLong:function(p){return p},dirname:function(p){if(Ce(p),0===p.length)return".";for(var I=p.charCodeAt(0),_=47===I,y=-1,d=!0,m=p.length-1;m>=1;--m)if(47===(I=p.charCodeAt(m))){if(!d){y=m;break}}else d=!1;return-1===y?_?"/":".":_&&1===y?"//":p.slice(0,y)},basename:function(p,I){if(void 0!==I&&"string"!=typeof I)throw new TypeError('"ext" argument must be a string');Ce(p);var m,_=0,y=-1,d=!0;if(void 0!==I&&I.length>0&&I.length<=p.length){if(I.length===p.length&&I===p)return"";var M=I.length-1,A=-1;for(m=p.length-1;m>=0;--m){var h=p.charCodeAt(m);if(47===h){if(!d){_=m+1;break}}else-1===A&&(d=!1,A=m+1),M>=0&&(h===I.charCodeAt(M)?-1==--M&&(y=m):(M=-1,y=A))}return _===y?y=A:-1===y&&(y=p.length),p.slice(_,y)}for(m=p.length-1;m>=0;--m)if(47===p.charCodeAt(m)){if(!d){_=m+1;break}}else-1===y&&(d=!1,y=m+1);return-1===y?"":p.slice(_,y)},extname:function(p){Ce(p);for(var I=-1,_=0,y=-1,d=!0,m=0,M=p.length-1;M>=0;--M){var A=p.charCodeAt(M);if(47!==A)-1===y&&(d=!1,y=M+1),46===A?-1===I?I=M:1!==m&&(m=1):-1!==I&&(m=-1);else if(!d){_=M+1;break}}return-1===I||-1===y||0===m||1===m&&I===y-1&&I===_+1?"":p.slice(I,y)},format:function(p){if(null===p||"object"!=typeof p)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof p);return function(ne,p){var I=p.dir||p.root,_=p.base||(p.name||"")+(p.ext||"");return I?I===p.root?I+_:I+"/"+_:_}(0,p)},parse:function(p){Ce(p);var I={root:"",dir:"",base:"",ext:"",name:""};if(0===p.length)return I;var d,_=p.charCodeAt(0),y=47===_;y?(I.root="/",d=1):d=0;for(var m=-1,M=0,A=-1,h=!0,g=p.length-1,E=0;g>=d;--g)if(47!==(_=p.charCodeAt(g)))-1===A&&(h=!1,A=g+1),46===_?-1===m?m=g:1!==E&&(E=1):-1!==m&&(E=-1);else if(!h){M=g+1;break}return-1===m||-1===A||0===E||1===E&&m===A-1&&m===M+1?-1!==A&&(I.base=I.name=p.slice(0===M&&y?1:M,A)):(0===M&&y?(I.name=p.slice(1,m),I.base=p.slice(1,A)):(I.name=p.slice(M,m),I.base=p.slice(M,A)),I.ext=p.slice(m,A)),M>0?I.dir=p.slice(0,M-1):y&&(I.dir="/"),I},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,qe.exports=te},162:qe=>{self,qe.exports=(()=>{"use strict";var Ce={775:(ge,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.FitAddon=void 0;var ne=function(){function p(){}return p.prototype.activate=function(I){this._terminal=I},p.prototype.dispose=function(){},p.prototype.fit=function(){var I=this.proposeDimensions();I&&this._terminal&&(this._terminal.rows===I.rows&&this._terminal.cols===I.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(I.cols,I.rows)))},p.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var I=this._terminal._core;if(0!==I._renderService.dimensions.actualCellWidth&&0!==I._renderService.dimensions.actualCellHeight){var _=window.getComputedStyle(this._terminal.element.parentElement),y=parseInt(_.getPropertyValue("height")),d=Math.max(0,parseInt(_.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),M=y-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),A=d-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-I.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(A/I._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(M/I._renderService.dimensions.actualCellHeight))}}}},p}();te.FitAddon=ne}},Ae={};return function ge(te){if(Ae[te])return Ae[te].exports;var ne=Ae[te]={exports:{}};return Ce[te](ne,ne.exports,ge),ne.exports}(775)})()},793:qe=>{self,qe.exports=(()=>{"use strict";var Ce={4567:function(ne,p,I){var _,y=this&&this.__extends||(_=function(l,u){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,D){c.__proto__=D}||function(c,D){for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(c[S]=D[S])})(l,u)},function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=l}_(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(p,"__esModule",{value:!0}),p.AccessibilityManager=void 0;var d=I(9042),m=I(6114),M=I(9924),A=I(3656),h=I(844),g=I(5596),E=I(9631),C=function(l){function u(c,D){var S=l.call(this)||this;S._terminal=c,S._renderService=D,S._liveRegionLineCount=0,S._charsToConsume=[],S._charsToAnnounce="",S._accessibilityTreeRoot=document.createElement("div"),S._accessibilityTreeRoot.setAttribute("role","document"),S._accessibilityTreeRoot.classList.add("xterm-accessibility"),S._accessibilityTreeRoot.tabIndex=0,S._rowContainer=document.createElement("div"),S._rowContainer.setAttribute("role","list"),S._rowContainer.classList.add("xterm-accessibility-tree"),S._rowElements=[];for(var w=0;w<S._terminal.rows;w++)S._rowElements[w]=S._createAccessibilityTreeNode(),S._rowContainer.appendChild(S._rowElements[w]);if(S._topBoundaryFocusListener=function(T){return S._onBoundaryFocus(T,0)},S._bottomBoundaryFocusListener=function(T){return S._onBoundaryFocus(T,1)},S._rowElements[0].addEventListener("focus",S._topBoundaryFocusListener),S._rowElements[S._rowElements.length-1].addEventListener("focus",S._bottomBoundaryFocusListener),S._refreshRowsDimensions(),S._accessibilityTreeRoot.appendChild(S._rowContainer),S._renderRowsDebouncer=new M.TimeBasedDebouncer(S._renderRows.bind(S)),S._refreshRows(),S._liveRegion=document.createElement("div"),S._liveRegion.classList.add("live-region"),S._liveRegion.setAttribute("aria-live","assertive"),S._accessibilityTreeRoot.appendChild(S._liveRegion),!S._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return S._terminal.element.insertAdjacentElement("afterbegin",S._accessibilityTreeRoot),S.register(S._renderRowsDebouncer),S.register(S._terminal.onResize(function(T){return S._onResize(T.rows)})),S.register(S._terminal.onRender(function(T){return S._refreshRows(T.start,T.end)})),S.register(S._terminal.onScroll(function(){return S._refreshRows()})),S.register(S._terminal.onA11yChar(function(T){return S._onChar(T)})),S.register(S._terminal.onLineFeed(function(){return S._onChar("\n")})),S.register(S._terminal.onA11yTab(function(T){return S._onTab(T)})),S.register(S._terminal.onKey(function(T){return S._onKey(T.key)})),S.register(S._terminal.onBlur(function(){return S._clearLiveRegion()})),S.register(S._renderService.onDimensionsChange(function(){return S._refreshRowsDimensions()})),S._screenDprMonitor=new g.ScreenDprMonitor,S.register(S._screenDprMonitor),S._screenDprMonitor.setListener(function(){return S._refreshRowsDimensions()}),S.register((0,A.addDisposableDomListener)(window,"resize",function(){return S._refreshRowsDimensions()})),S}return y(u,l),u.prototype.dispose=function(){l.prototype.dispose.call(this),(0,E.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},u.prototype._onBoundaryFocus=function(c,D){var S=c.target,w=this._rowElements[0===D?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")!==(0===D?"1":""+this._terminal.buffer.lines.length)&&c.relatedTarget===w){var T,k;if(0===D?(T=S,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(T=this._rowElements.shift(),k=S,this._rowContainer.removeChild(T)),T.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),0===D){var V=this._createAccessibilityTreeNode();this._rowElements.unshift(V),this._rowContainer.insertAdjacentElement("afterbegin",V)}else V=this._createAccessibilityTreeNode(),this._rowElements.push(V),this._rowContainer.appendChild(V);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===D?-1:1),this._rowElements[0===D?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}},u.prototype._onResize=function(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var D=this._rowContainer.children.length;D<this._terminal.rows;D++)this._rowElements[D]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[D]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},u.prototype._createAccessibilityTreeNode=function(){var c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c},u.prototype._onTab=function(c){for(var D=0;D<c;D++)this._onChar(" ")},u.prototype._onChar=function(c){var D=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,"\n"===c&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=d.tooMuchOutput)),m.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){D._accessibilityTreeRoot.appendChild(D._liveRegion)},0))},u.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,m.isMac&&(0,E.removeElementFromParent)(this._liveRegion)},u.prototype._onKey=function(c){this._clearLiveRegion(),this._charsToConsume.push(c)},u.prototype._refreshRows=function(c,D){this._renderRowsDebouncer.refresh(c,D,this._terminal.rows)},u.prototype._renderRows=function(c,D){for(var S=this._terminal.buffer,w=S.lines.length.toString(),T=c;T<=D;T++){var k=S.translateBufferLineToString(S.ydisp+T,!0),V=(S.ydisp+T+1).toString(),L=this._rowElements[T];L&&(0===k.length?L.innerText="\xa0":L.textContent=k,L.setAttribute("aria-posinset",V),L.setAttribute("aria-setsize",w))}this._announceCharacters()},u.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}},u.prototype._refreshRowDimensions=function(c){c.style.height=this._renderService.dimensions.actualCellHeight+"px"},u.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},u}(h.Disposable);p.AccessibilityManager=C},3614:(ne,p)=>{function I(m){return m.replace(/\r?\n/g,"\r")}function _(m,M){return M?"\x1b[200~"+m+"\x1b[201~":m}function y(m,M,A){m=_(m=I(m),A.decPrivateModes.bracketedPasteMode),A.triggerDataEvent(m,!0),M.value=""}function d(m,M,A){var h=A.getBoundingClientRect(),g=m.clientX-h.left-10,E=m.clientY-h.top-10;M.style.width="20px",M.style.height="20px",M.style.left=g+"px",M.style.top=E+"px",M.style.zIndex="1000",M.focus()}Object.defineProperty(p,"__esModule",{value:!0}),p.rightClickHandler=p.moveTextAreaUnderMouseCursor=p.paste=p.handlePasteEvent=p.copyHandler=p.bracketTextForPaste=p.prepareTextForTerminal=void 0,p.prepareTextForTerminal=I,p.bracketTextForPaste=_,p.copyHandler=function(m,M){m.clipboardData&&m.clipboardData.setData("text/plain",M.selectionText),m.preventDefault()},p.handlePasteEvent=function(m,M,A){m.stopPropagation(),m.clipboardData&&y(m.clipboardData.getData("text/plain"),M,A)},p.paste=y,p.moveTextAreaUnderMouseCursor=d,p.rightClickHandler=function(m,M,A,h,g){d(m,M,A),g&&h.rightClickSelect(m),M.value=h.selectionText,M.select()}},4774:(ne,p)=>{var I,_,y,d,A;function m(A){var h=A.toString(16);return h.length<2?"0"+h:h}function M(A,h){return A<h?(h+.05)/(A+.05):(A+.05)/(h+.05)}Object.defineProperty(p,"__esModule",{value:!0}),p.contrastRatio=p.toPaddedHex=p.rgba=p.rgb=p.css=p.color=p.channels=void 0,(A=I=p.channels||(p.channels={})).toCss=function(h,g,E,C){return void 0!==C?"#"+m(h)+m(g)+m(E)+m(C):"#"+m(h)+m(g)+m(E)},A.toRgba=function(h,g,E,C){return void 0===C&&(C=255),(h<<24|g<<16|E<<8|C)>>>0},(_=p.color||(p.color={})).blend=function(A,h){var g=(255&h.rgba)/255;if(1===g)return{css:h.css,rgba:h.rgba};var C=h.rgba>>16&255,l=h.rgba>>8&255,u=A.rgba>>24&255,c=A.rgba>>16&255,D=A.rgba>>8&255,S=u+Math.round(((h.rgba>>24&255)-u)*g),w=c+Math.round((C-c)*g),T=D+Math.round((l-D)*g);return{css:I.toCss(S,w,T),rgba:I.toRgba(S,w,T)}},_.isOpaque=function(A){return 255==(255&A.rgba)},_.ensureContrastRatio=function(A,h,g){var E=d.ensureContrastRatio(A.rgba,h.rgba,g);if(E)return d.toColor(E>>24&255,E>>16&255,E>>8&255)},_.opaque=function(A){var h=(255|A.rgba)>>>0,g=d.toChannels(h);return{css:I.toCss(g[0],g[1],g[2]),rgba:h}},_.opacity=function(A,h){var g=Math.round(255*h),E=d.toChannels(A.rgba),C=E[0],l=E[1],u=E[2];return{css:I.toCss(C,l,u,g),rgba:I.toRgba(C,l,u,g)}},_.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]},(p.css||(p.css={})).toColor=function(A){switch(A.length){case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(A){function h(g,E,C){var l=g/255,u=E/255,c=C/255;return.2126*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.7152*(u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4))+.0722*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))}A.relativeLuminance=function(g){return h(g>>16&255,g>>8&255,255&g)},A.relativeLuminance2=h}(y=p.rgb||(p.rgb={})),function(A){function h(E,C,l){for(var u=E>>24&255,c=E>>16&255,D=E>>8&255,S=C>>24&255,w=C>>16&255,T=C>>8&255,k=M(y.relativeLuminance2(S,T,w),y.relativeLuminance2(u,c,D));k<l&&(S>0||w>0||T>0);)S-=Math.max(0,Math.ceil(.1*S)),w-=Math.max(0,Math.ceil(.1*w)),T-=Math.max(0,Math.ceil(.1*T)),k=M(y.relativeLuminance2(S,T,w),y.relativeLuminance2(u,c,D));return(S<<24|w<<16|T<<8|255)>>>0}function g(E,C,l){for(var u=E>>24&255,c=E>>16&255,D=E>>8&255,S=C>>24&255,w=C>>16&255,T=C>>8&255,k=M(y.relativeLuminance2(S,T,w),y.relativeLuminance2(u,c,D));k<l&&(S<255||w<255||T<255);)S=Math.min(255,S+Math.ceil(.1*(255-S))),w=Math.min(255,w+Math.ceil(.1*(255-w))),T=Math.min(255,T+Math.ceil(.1*(255-T))),k=M(y.relativeLuminance2(S,T,w),y.relativeLuminance2(u,c,D));return(S<<24|w<<16|T<<8|255)>>>0}A.ensureContrastRatio=function(E,C,l){var u=y.relativeLuminance(E>>8),c=y.relativeLuminance(C>>8);if(M(u,c)<l)return c<u?h(E,C,l):g(E,C,l)},A.reduceLuminance=h,A.increaseLuminance=g,A.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},A.toColor=function(E,C,l){return{css:I.toCss(E,C,l),rgba:I.toRgba(E,C,l)}}}(d=p.rgba||(p.rgba={})),p.toPaddedHex=m,p.contrastRatio=M},7239:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorContrastCache=void 0;var I=function(){function _(){this._color={},this._rgba={}}return _.prototype.clear=function(){this._color={},this._rgba={}},_.prototype.setCss=function(y,d,m){this._rgba[y]||(this._rgba[y]={}),this._rgba[y][d]=m},_.prototype.getCss=function(y,d){return this._rgba[y]?this._rgba[y][d]:void 0},_.prototype.setColor=function(y,d,m){this._color[y]||(this._color[y]={}),this._color[y][d]=m},_.prototype.getColor=function(y,d){return this._color[y]?this._color[y][d]:void 0},_}();p.ColorContrastCache=I},5680:function(ne,p,I){var _=this&&this.__spreadArray||function(C,l,u){if(u||2===arguments.length)for(var c,D=0,S=l.length;D<S;D++)!c&&D in l||(c||(c=Array.prototype.slice.call(l,0,D)),c[D]=l[D]);return C.concat(c||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.ColorManager=p.DEFAULT_ANSI_COLORS=void 0;var y=I(4774),d=I(7239),m=y.css.toColor("#ffffff"),M=y.css.toColor("#000000"),A=y.css.toColor("#ffffff"),h=y.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};p.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var C=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],l=[0,95,135,175,215,255],u=0;u<216;u++){var c=l[u/36%6|0],D=l[u/6%6|0],S=l[u%6];C.push({css:y.channels.toCss(c,D,S),rgba:y.channels.toRgba(c,D,S)})}for(u=0;u<24;u++){var w=8+10*u;C.push({css:y.channels.toCss(w,w,w),rgba:y.channels.toRgba(w,w,w)})}return C}());var E=function(){function C(l,u){this.allowTransparency=u;var c=l.createElement("canvas");c.width=1,c.height=1;var D=c.getContext("2d");if(!D)throw new Error("Could not get rendering context");this._ctx=D,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new d.ColorContrastCache,this.colors={foreground:m,background:M,cursor:A,cursorAccent:h,selectionTransparent:g,selectionOpaque:y.color.blend(M,g),ansi:p.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return C.prototype.onOptionsChange=function(l){"minimumContrastRatio"===l&&this._contrastCache.clear()},C.prototype.setTheme=function(l){void 0===l&&(l={}),this.colors.foreground=this._parseColor(l.foreground,m),this.colors.background=this._parseColor(l.background,M),this.colors.cursor=this._parseColor(l.cursor,A,!0),this.colors.cursorAccent=this._parseColor(l.cursorAccent,h,!0),this.colors.selectionTransparent=this._parseColor(l.selection,g,!0),this.colors.selectionOpaque=y.color.blend(this.colors.background,this.colors.selectionTransparent),y.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=y.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(l.black,p.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(l.red,p.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(l.green,p.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(l.yellow,p.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(l.blue,p.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(l.magenta,p.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(l.cyan,p.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(l.white,p.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(l.brightBlack,p.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(l.brightRed,p.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(l.brightGreen,p.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(l.brightYellow,p.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(l.brightBlue,p.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(l.brightMagenta,p.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(l.brightCyan,p.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(l.brightWhite,p.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},C.prototype.restoreColor=function(l){if(void 0!==l)switch(l){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[l]=this._restoreColors.ansi[l]}else for(var u=0;u<this._restoreColors.ansi.length;++u)this.colors.ansi[u]=this._restoreColors.ansi[u]},C.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:_([],this.colors.ansi,!0)}},C.prototype._parseColor=function(l,u,c){if(void 0===c&&(c=this.allowTransparency),void 0===l)return u;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=l,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+l+" is invalid using fallback "+u.css),u;this._ctx.fillRect(0,0,1,1);var D=this._ctx.getImageData(0,0,1,1).data;if(255!==D[3]){if(!c)return console.warn("Color: "+l+" is using transparency, but allowTransparency is false. Using fallback "+u.css+"."),u;var S=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(H){return Number(H)}),w=S[0],T=S[1],k=S[2],L=Math.round(255*S[3]);return{rgba:y.channels.toRgba(w,T,k,L),css:l}}return{css:this._ctx.fillStyle,rgba:y.channels.toRgba(D[0],D[1],D[2],D[3])}},C}();p.ColorManager=E},9631:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.removeElementFromParent=void 0,p.removeElementFromParent=function(){for(var I,_=[],y=0;y<arguments.length;y++)_[y]=arguments[y];for(var d=0,m=_;d<m.length;d++){var M=m[d];null===(I=null==M?void 0:M.parentElement)||void 0===I||I.removeChild(M)}}},3656:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.addDisposableDomListener=void 0,p.addDisposableDomListener=function(I,_,y,d){I.addEventListener(_,y,d);var m=!1;return{dispose:function(){m||(m=!0,I.removeEventListener(_,y,d))}}}},3551:function(ne,p,I){var _=this&&this.__decorate||function(h,g,E,C){var l,u=arguments.length,c=u<3?g:null===C?C=Object.getOwnPropertyDescriptor(g,E):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,g,E,C);else for(var D=h.length-1;D>=0;D--)(l=h[D])&&(c=(u<3?l(c):u>3?l(g,E,c):l(g,E))||c);return u>3&&c&&Object.defineProperty(g,E,c),c},y=this&&this.__param||function(h,g){return function(E,C){g(E,C,h)}};Object.defineProperty(p,"__esModule",{value:!0}),p.MouseZone=p.Linkifier=void 0;var d=I(8460),m=I(2585),M=function(){function h(g,E,C){this._bufferService=g,this._logService=E,this._unicodeService=C,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new d.EventEmitter,this._onHideLinkUnderline=new d.EventEmitter,this._onLinkTooltip=new d.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(h.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),h.prototype.attachToDom=function(g,E){this._element=g,this._mouseZoneManager=E},h.prototype.linkifyRows=function(g,E){var C=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=g,this._rowsToLinkify.end=E):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,g),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,E)),this._mouseZoneManager.clearAll(g,E),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return C._linkifyRows()},h._timeBeforeLatency))},h.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var g=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var E=g.ydisp+this._rowsToLinkify.start;if(!(E>=g.lines.length)){for(var C=g.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,l=Math.ceil(2e3/this._bufferService.cols),u=this._bufferService.buffer.iterator(!1,E,C,l,l);u.hasNext();)for(var c=u.next(),D=0;D<this._linkMatchers.length;D++)this._doLinkifyRow(c.range.first,c.content,this._linkMatchers[D]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},h.prototype.registerLinkMatcher=function(g,E,C){if(void 0===C&&(C={}),!E)throw new Error("handler must be defined");var l={id:this._nextLinkMatcherId++,regex:g,handler:E,matchIndex:C.matchIndex,validationCallback:C.validationCallback,hoverTooltipCallback:C.tooltipCallback,hoverLeaveCallback:C.leaveCallback,willLinkActivate:C.willLinkActivate,priority:C.priority||0};return this._addLinkMatcherToList(l),l.id},h.prototype._addLinkMatcherToList=function(g){if(0!==this._linkMatchers.length){for(var E=this._linkMatchers.length-1;E>=0;E--)if(g.priority<=this._linkMatchers[E].priority)return void this._linkMatchers.splice(E+1,0,g);this._linkMatchers.splice(0,0,g)}else this._linkMatchers.push(g)},h.prototype.deregisterLinkMatcher=function(g){for(var E=0;E<this._linkMatchers.length;E++)if(this._linkMatchers[E].id===g)return this._linkMatchers.splice(E,1),!0;return!1},h.prototype._doLinkifyRow=function(g,E,C){for(var l,u=this,c=new RegExp(C.regex.source,(C.regex.flags||"")+"g"),D=-1,S=function(){var T=l["number"!=typeof C.matchIndex?0:C.matchIndex];if(!T)return w._logService.debug("match found without corresponding matchIndex",l,C),"break";if(D=E.indexOf(T,D+1),c.lastIndex=D+T.length,D<0)return"break";var k=w._bufferService.buffer.stringIndexToBufferIndex(g,D);if(k[0]<0)return"break";var V=w._bufferService.buffer.lines.get(k[0]);if(!V)return"break";var L=V.getFg(k[1]),H=L?L>>9&511:void 0;C.validationCallback?C.validationCallback(T,function(Z){u._rowsTimeoutId||Z&&u._addLink(k[1],k[0]-u._bufferService.buffer.ydisp,T,C,H)}):w._addLink(k[1],k[0]-w._bufferService.buffer.ydisp,T,C,H)},w=this;null!==(l=c.exec(E))&&"break"!==S(););},h.prototype._addLink=function(g,E,C,l,u){var c=this;if(this._mouseZoneManager&&this._element){var D=this._unicodeService.getStringCellWidth(C),S=g%this._bufferService.cols,w=E+Math.floor(g/this._bufferService.cols),T=(S+D)%this._bufferService.cols,k=w+Math.floor((S+D)/this._bufferService.cols);0===T&&(T=this._bufferService.cols,k--),this._mouseZoneManager.add(new A(S+1,w+1,T+1,k+1,function(V){if(l.handler)return l.handler(V,C);var L=window.open();L?(L.opener=null,L.location.href=C):console.warn("Opening link blocked as opener could not be cleared")},function(){c._onShowLinkUnderline.fire(c._createLinkHoverEvent(S,w,T,k,u)),c._element.classList.add("xterm-cursor-pointer")},function(V){c._onLinkTooltip.fire(c._createLinkHoverEvent(S,w,T,k,u)),l.hoverTooltipCallback&&l.hoverTooltipCallback(V,C,{start:{x:S,y:w},end:{x:T,y:k}})},function(){c._onHideLinkUnderline.fire(c._createLinkHoverEvent(S,w,T,k,u)),c._element.classList.remove("xterm-cursor-pointer"),l.hoverLeaveCallback&&l.hoverLeaveCallback()},function(V){return!l.willLinkActivate||l.willLinkActivate(V,C)}))}},h.prototype._createLinkHoverEvent=function(g,E,C,l,u){return{x1:g,y1:E,x2:C,y2:l,cols:this._bufferService.cols,fg:u}},h._timeBeforeLatency=200,h=_([y(0,m.IBufferService),y(1,m.ILogService),y(2,m.IUnicodeService)],h)}();p.Linkifier=M;var A=function(h,g,E,C,l,u,c,D,S){this.x1=h,this.y1=g,this.x2=E,this.y2=C,this.clickCallback=l,this.hoverCallback=u,this.tooltipCallback=c,this.leaveCallback=D,this.willLinkActivate=S};p.MouseZone=A},6465:function(ne,p,I){var _,y=this&&this.__extends||(_=function(C,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var D in c)Object.prototype.hasOwnProperty.call(c,D)&&(u[D]=c[D])})(C,l)},function(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=C}_(C,l),C.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}),d=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},m=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Linkifier2=void 0;var M=I(2585),A=I(8460),h=I(844),g=I(3656),E=function(C){function l(u){var c=C.call(this)||this;return c._bufferService=u,c._linkProviders=[],c._linkCacheDisposables=[],c._isMouseOut=!0,c._activeLine=-1,c._onShowLinkUnderline=c.register(new A.EventEmitter),c._onHideLinkUnderline=c.register(new A.EventEmitter),c.register((0,h.getDisposeArrayDisposable)(c._linkCacheDisposables)),c}return y(l,C),Object.defineProperty(l.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),l.prototype.registerLinkProvider=function(u){var c=this;return this._linkProviders.push(u),{dispose:function(){var D=c._linkProviders.indexOf(u);-1!==D&&c._linkProviders.splice(D,1)}}},l.prototype.attachToDom=function(u,c,D){var S=this;this._element=u,this._mouseService=c,this._renderService=D,this.register((0,g.addDisposableDomListener)(this._element,"mouseleave",function(){S._isMouseOut=!0,S._clearCurrentLink()})),this.register((0,g.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,g.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},l.prototype._onMouseMove=function(u){if(this._lastMouseEvent=u,this._element&&this._mouseService){var c=this._positionFromMouseEvent(u,this._element,this._mouseService);if(c){this._isMouseOut=!1;for(var D=u.composedPath(),S=0;S<D.length;S++){var w=D[S];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._onHover(c),this._lastBufferCell=c)}}},l.prototype._onHover=function(u){if(this._activeLine!==u.y)return this._clearCurrentLink(),void this._askForLink(u,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,u)||(this._clearCurrentLink(),this._askForLink(u,!0))},l.prototype._askForLink=function(u,c){var D,S=this;this._activeProviderReplies&&c||(null===(D=this._activeProviderReplies)||void 0===D||D.forEach(function(T){null==T||T.forEach(function(k){k.link.dispose&&k.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=u.y);var w=!1;this._linkProviders.forEach(function(T,k){var V;c?(null===(V=S._activeProviderReplies)||void 0===V?void 0:V.get(k))&&(w=S._checkLinkProviderResult(k,u,w)):T.provideLinks(u.y,function(L){var H,Z;if(!S._isMouseOut){var $=null==L?void 0:L.map(function(z){return{link:z}});null===(H=S._activeProviderReplies)||void 0===H||H.set(k,$),w=S._checkLinkProviderResult(k,u,w),(null===(Z=S._activeProviderReplies)||void 0===Z?void 0:Z.size)===S._linkProviders.length&&S._removeIntersectingLinks(u.y,S._activeProviderReplies)}})})},l.prototype._removeIntersectingLinks=function(u,c){for(var D=new Set,S=0;S<c.size;S++){var w=c.get(S);if(w)for(var T=0;T<w.length;T++)for(var k=w[T],L=k.link.range.end.y>u?this._bufferService.cols:k.link.range.end.x,H=k.link.range.start.y<u?0:k.link.range.start.x;H<=L;H++){if(D.has(H)){w.splice(T--,1);break}D.add(H)}}},l.prototype._checkLinkProviderResult=function(u,c,D){var S,w=this;if(!this._activeProviderReplies)return D;for(var T=this._activeProviderReplies.get(u),k=!1,V=0;V<u;V++)this._activeProviderReplies.has(V)&&!this._activeProviderReplies.get(V)||(k=!0);if(!k&&T){var L=T.find(function(Z){return w._linkAtPosition(Z.link,c)});L&&(D=!0,this._handleNewLink(L))}if(this._activeProviderReplies.size===this._linkProviders.length&&!D)for(V=0;V<this._activeProviderReplies.size;V++){var H=null===(S=this._activeProviderReplies.get(V))||void 0===S?void 0:S.find(function(Z){return w._linkAtPosition(Z.link,c)});if(H){D=!0,this._handleNewLink(H);break}}return D},l.prototype._onClick=function(u){if(this._element&&this._mouseService&&this._currentLink){var c=this._positionFromMouseEvent(u,this._element,this._mouseService);c&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(u,this._currentLink.link.text)}},l.prototype._clearCurrentLink=function(u,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!u||!c||this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,h.disposeArray)(this._linkCacheDisposables))},l.prototype._handleNewLink=function(u){var c=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var D=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);D&&this._linkAtPosition(u.link,D)&&(this._currentLink=u,this._currentLink.state={decorations:{underline:void 0===u.link.decorations||u.link.decorations.underline,pointerCursor:void 0===u.link.decorations||u.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,u.link,this._lastMouseEvent),u.link.decorations={},Object.defineProperties(u.link.decorations,{pointerCursor:{get:function(){var S,w;return null===(w=null===(S=c._currentLink)||void 0===S?void 0:S.state)||void 0===w?void 0:w.decorations.pointerCursor},set:function(S){var w,T;(null===(w=c._currentLink)||void 0===w?void 0:w.state)&&c._currentLink.state.decorations.pointerCursor!==S&&(c._currentLink.state.decorations.pointerCursor=S,c._currentLink.state.isHovered&&(null===(T=c._element)||void 0===T||T.classList.toggle("xterm-cursor-pointer",S)))}},underline:{get:function(){var S,w;return null===(w=null===(S=c._currentLink)||void 0===S?void 0:S.state)||void 0===w?void 0:w.decorations.underline},set:function(S){var w,T,k;(null===(w=c._currentLink)||void 0===w?void 0:w.state)&&(null===(k=null===(T=c._currentLink)||void 0===T?void 0:T.state)||void 0===k?void 0:k.decorations.underline)!==S&&(c._currentLink.state.decorations.underline=S,c._currentLink.state.isHovered&&c._fireUnderlineEvent(u.link,S))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(S){c._clearCurrentLink(0===S.start?0:S.start+1+c._bufferService.buffer.ydisp,S.end+1+c._bufferService.buffer.ydisp)})))}},l.prototype._linkHover=function(u,c,D){var S;(null===(S=this._currentLink)||void 0===S?void 0:S.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&u.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(D,c.text)},l.prototype._fireUnderlineEvent=function(u,c){var D=u.range,S=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(D.start.x-1,D.start.y-S-1,D.end.x,D.end.y-S-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)},l.prototype._linkLeave=function(u,c,D){var S;(null===(S=this._currentLink)||void 0===S?void 0:S.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&u.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(D,c.text)},l.prototype._linkAtPosition=function(u,c){var S=u.range.start.y<c.y,w=u.range.end.y>c.y;return(u.range.start.y===u.range.end.y&&u.range.start.x<=c.x&&u.range.end.x>=c.x||S&&u.range.end.x>=c.x||w&&u.range.start.x<=c.x||S&&w)&&u.range.start.y<=c.y&&u.range.end.y>=c.y},l.prototype._positionFromMouseEvent=function(u,c,D){var S=D.getCoords(u,c,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}},l.prototype._createLinkUnderlineEvent=function(u,c,D,S,w){return{x1:u,y1:c,x2:D,y2:S,cols:this._bufferService.cols,fg:w}},d([m(0,M.IBufferService)],l)}(h.Disposable);p.Linkifier2=E},9042:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.tooMuchOutput=p.promptLabel=void 0,p.promptLabel="Terminal input",p.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(ne,p,I){var _,y=this&&this.__extends||(_=function(C,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var D in c)Object.prototype.hasOwnProperty.call(c,D)&&(u[D]=c[D])})(C,l)},function(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=C}_(C,l),C.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}),d=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},m=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.MouseZoneManager=void 0;var M=I(844),A=I(3656),h=I(4725),g=I(2585),E=function(C){function l(u,c,D,S,w,T){var k=C.call(this)||this;return k._element=u,k._screenElement=c,k._bufferService=D,k._mouseService=S,k._selectionService=w,k._optionsService=T,k._zones=[],k._areZonesActive=!1,k._lastHoverCoords=[void 0,void 0],k._initialSelectionLength=0,k.register((0,A.addDisposableDomListener)(k._element,"mousedown",function(V){return k._onMouseDown(V)})),k._mouseMoveListener=function(V){return k._onMouseMove(V)},k._mouseLeaveListener=function(V){return k._onMouseLeave(V)},k._clickListener=function(V){return k._onClick(V)},k}return y(l,C),l.prototype.dispose=function(){C.prototype.dispose.call(this),this._deactivate()},l.prototype.add=function(u){this._zones.push(u),1===this._zones.length&&this._activate()},l.prototype.clearAll=function(u,c){if(0!==this._zones.length){u&&c||(u=0,c=this._bufferService.rows-1);for(var D=0;D<this._zones.length;D++){var S=this._zones[D];(S.y1>u&&S.y1<=c+1||S.y2>u&&S.y2<=c+1||S.y1<u&&S.y2>c+1)&&(this._currentZone&&this._currentZone===S&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(D--,1))}0===this._zones.length&&this._deactivate()}},l.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},l.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},l.prototype._onMouseMove=function(u){this._lastHoverCoords[0]===u.pageX&&this._lastHoverCoords[1]===u.pageY||(this._onHover(u),this._lastHoverCoords=[u.pageX,u.pageY])},l.prototype._onHover=function(u){var c=this,D=this._findZoneEventAt(u);D!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),D&&(this._currentZone=D,D.hoverCallback&&D.hoverCallback(u),this._tooltipTimeout=window.setTimeout(function(){return c._onTooltip(u)},this._optionsService.options.linkTooltipHoverDuration)))},l.prototype._onTooltip=function(u){this._tooltipTimeout=void 0;var c=this._findZoneEventAt(u);null==c||c.tooltipCallback(u)},l.prototype._onMouseDown=function(u){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var c=this._findZoneEventAt(u);(null==c?void 0:c.willLinkActivate(u))&&(u.preventDefault(),u.stopImmediatePropagation())}},l.prototype._onMouseLeave=function(u){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},l.prototype._onClick=function(u){var c=this._findZoneEventAt(u),D=this._getSelectionLength();c&&D===this._initialSelectionLength&&(c.clickCallback(u),u.preventDefault(),u.stopImmediatePropagation())},l.prototype._getSelectionLength=function(){var u=this._selectionService.selectionText;return u?u.length:0},l.prototype._findZoneEventAt=function(u){var c=this._mouseService.getCoords(u,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(c)for(var D=c[0],S=c[1],w=0;w<this._zones.length;w++){var T=this._zones[w];if(T.y1===T.y2){if(S===T.y1&&D>=T.x1&&D<T.x2)return T}else if(S===T.y1&&D>=T.x1||S===T.y2&&D<T.x2||S>T.y1&&S<T.y2)return T}},d([m(2,g.IBufferService),m(3,h.IMouseService),m(4,h.ISelectionService),m(5,g.IOptionsService)],l)}(M.Disposable);p.MouseZoneManager=E},6193:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.RenderDebouncer=void 0;var I=function(){function _(y){this._renderCallback=y}return _.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},_.prototype.refresh=function(y,d,m){var M=this;this._rowCount=m,y=void 0!==y?y:0,d=void 0!==d?d:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,y):y,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return M._innerRefresh()}))},_.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var y=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(y,d)}},_}();p.RenderDebouncer=I},5596:function(ne,p,I){var _,y=this&&this.__extends||(_=function(m,M){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,h){A.__proto__=h}||function(A,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(A[g]=h[g])})(m,M)},function(m,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function A(){this.constructor=m}_(m,M),m.prototype=null===M?Object.create(M):(A.prototype=M.prototype,new A)});Object.defineProperty(p,"__esModule",{value:!0}),p.ScreenDprMonitor=void 0;var d=function(m){function M(){var A=null!==m&&m.apply(this,arguments)||this;return A._currentDevicePixelRatio=window.devicePixelRatio,A}return y(M,m),M.prototype.setListener=function(A){var h=this;this._listener&&this.clearListener(),this._listener=A,this._outerListener=function(){h._listener&&(h._listener(window.devicePixelRatio,h._currentDevicePixelRatio),h._updateDpr())},this._updateDpr()},M.prototype.dispose=function(){m.prototype.dispose.call(this),this.clearListener()},M.prototype._updateDpr=function(){var A;this._outerListener&&(null===(A=this._resolutionMediaMatchList)||void 0===A||A.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},M.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},M}(I(844).Disposable);p.ScreenDprMonitor=d},3236:function(ne,p,I){var _,y=this&&this.__extends||(_=function(xe,q){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,re){J.__proto__=re}||function(J,re){for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(J[ue]=re[ue])})(xe,q)},function(xe,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function J(){this.constructor=xe}_(xe,q),xe.prototype=null===q?Object.create(q):(J.prototype=q.prototype,new J)});Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;var d=I(2950),m=I(1680),M=I(3614),A=I(2584),h=I(5435),g=I(3525),E=I(3551),C=I(9312),l=I(6114),u=I(3656),c=I(9042),D=I(357),S=I(6954),w=I(4567),T=I(1296),k=I(7399),V=I(8460),L=I(8437),H=I(5680),Z=I(3230),$=I(4725),z=I(428),N=I(8934),O=I(6465),U=I(5114),Y=I(8969),ie=I(4774),pe=I(4269),_e=I(5941),Ee="undefined"!=typeof window?window.document:null,Re=function(xe){function q(J){void 0===J&&(J={});var re=xe.call(this,J)||this;return re.browser=l,re._keyDownHandled=!1,re._keyPressHandled=!1,re._unprocessedDeadKey=!1,re._onCursorMove=new V.EventEmitter,re._onKey=new V.EventEmitter,re._onRender=new V.EventEmitter,re._onSelectionChange=new V.EventEmitter,re._onTitleChange=new V.EventEmitter,re._onBell=new V.EventEmitter,re._onFocus=new V.EventEmitter,re._onBlur=new V.EventEmitter,re._onA11yCharEmitter=new V.EventEmitter,re._onA11yTabEmitter=new V.EventEmitter,re._setup(),re.linkifier=re._instantiationService.createInstance(E.Linkifier),re.linkifier2=re.register(re._instantiationService.createInstance(O.Linkifier2)),re.register(re._inputHandler.onRequestBell(function(){return re.bell()})),re.register(re._inputHandler.onRequestRefreshRows(function(ue,se){return re.refresh(ue,se)})),re.register(re._inputHandler.onRequestSendFocus(function(){return re._reportFocus()})),re.register(re._inputHandler.onRequestReset(function(){return re.reset()})),re.register(re._inputHandler.onRequestWindowsOptionsReport(function(ue){return re._reportWindowsOptions(ue)})),re.register(re._inputHandler.onColor(function(ue){return re._handleColorEvent(ue)})),re.register((0,V.forwardEvent)(re._inputHandler.onCursorMove,re._onCursorMove)),re.register((0,V.forwardEvent)(re._inputHandler.onTitleChange,re._onTitleChange)),re.register((0,V.forwardEvent)(re._inputHandler.onA11yChar,re._onA11yCharEmitter)),re.register((0,V.forwardEvent)(re._inputHandler.onA11yTab,re._onA11yTabEmitter)),re.register(re._bufferService.onResize(function(ue){return re._afterResize(ue.cols,ue.rows)})),re}return y(q,xe),Object.defineProperty(q.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),q.prototype._handleColorEvent=function(J){var re,ue;if(this._colorManager){for(var se=0,Pe=J;se<Pe.length;se++){var Ve=Pe[se],ht=void 0,Mt="";switch(Ve.index){case 256:ht="foreground",Mt="10";break;case 257:ht="background",Mt="11";break;case 258:ht="cursor",Mt="12";break;default:ht="ansi",Mt="4;"+Ve.index}if(ht)switch(Ve.type){case 0:var Tt=ie.color.toColorRGB("ansi"===ht?this._colorManager.colors.ansi[Ve.index]:this._colorManager.colors[ht]);this.coreService.triggerDataEvent(A.C0.ESC+"]"+Mt+";"+(0,_e.toRgbString)(Tt)+A.C0.BEL);break;case 1:"ansi"===ht?this._colorManager.colors.ansi[Ve.index]=ie.rgba.toColor.apply(ie.rgba,Ve.color):this._colorManager.colors[ht]=ie.rgba.toColor.apply(ie.rgba,Ve.color);break;case 2:this._colorManager.restoreColor(Ve.index)}}null===(re=this._renderService)||void 0===re||re.setColors(this._colorManager.colors),null===(ue=this.viewport)||void 0===ue||ue.onThemeChange(this._colorManager.colors)}},q.prototype.dispose=function(){var J,re,ue;this._isDisposed||(xe.prototype.dispose.call(this),null===(J=this._renderService)||void 0===J||J.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(ue=null===(re=this.element)||void 0===re?void 0:re.parentNode)||void 0===ue||ue.removeChild(this.element))},q.prototype._setup=function(){xe.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(q.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),q.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},q.prototype._updateOptions=function(J){var re,ue,se,Pe;switch(xe.prototype._updateOptions.call(this,J),J){case"fontFamily":case"fontSize":null===(re=this._renderService)||void 0===re||re.clear(),null===(ue=this._charSizeService)||void 0===ue||ue.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(se=this.viewport)||void 0===se||se.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new w.AccessibilityManager(this,this._renderService)):(null===(Pe=this._accessibilityManager)||void 0===Pe||Pe.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},q.prototype._onTextAreaFocus=function(J){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(A.C0.ESC+"[I"),this.updateCursorStyle(J),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},q.prototype.blur=function(){var J;return null===(J=this.textarea)||void 0===J?void 0:J.blur()},q.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(A.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},q.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var re=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(re){var ue=Math.min(this.buffer.x,this.cols-1),se=this._renderService.dimensions.actualCellHeight,Pe=re.getWidth(ue),Ve=this._renderService.dimensions.actualCellWidth*Pe,ht=this.buffer.y*this._renderService.dimensions.actualCellHeight;this.textarea.style.left=ue*this._renderService.dimensions.actualCellWidth+"px",this.textarea.style.top=ht+"px",this.textarea.style.width=Ve+"px",this.textarea.style.height=se+"px",this.textarea.style.lineHeight=se+"px",this.textarea.style.zIndex="-5"}}},q.prototype._initGlobal=function(){var J=this;this._bindKeys(),this.register((0,u.addDisposableDomListener)(this.element,"copy",function(ue){J.hasSelection()&&(0,M.copyHandler)(ue,J._selectionService)}));var re=function(ue){return(0,M.handlePasteEvent)(ue,J.textarea,J.coreService)};this.register((0,u.addDisposableDomListener)(this.textarea,"paste",re)),this.register((0,u.addDisposableDomListener)(this.element,"paste",re)),this.register(l.isFirefox?(0,u.addDisposableDomListener)(this.element,"mousedown",function(ue){2===ue.button&&(0,M.rightClickHandler)(ue,J.textarea,J.screenElement,J._selectionService,J.options.rightClickSelectsWord)}):(0,u.addDisposableDomListener)(this.element,"contextmenu",function(ue){(0,M.rightClickHandler)(ue,J.textarea,J.screenElement,J._selectionService,J.options.rightClickSelectsWord)})),l.isLinux&&this.register((0,u.addDisposableDomListener)(this.element,"auxclick",function(ue){1===ue.button&&(0,M.moveTextAreaUnderMouseCursor)(ue,J.textarea,J.screenElement)}))},q.prototype._bindKeys=function(){var J=this;this.register((0,u.addDisposableDomListener)(this.textarea,"keyup",function(re){return J._keyUp(re)},!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keydown",function(re){return J._keyDown(re)},!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keypress",function(re){return J._keyPress(re)},!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionstart",function(){return J._compositionHelper.compositionstart()})),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionupdate",function(re){return J._compositionHelper.compositionupdate(re)})),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionend",function(){return J._compositionHelper.compositionend()})),this.register((0,u.addDisposableDomListener)(this.textarea,"input",function(re){return J._inputEvent(re)},!0)),this.register(this.onRender(function(){return J._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(re){return J._queueLinkification(re.start,re.end)}))},q.prototype.open=function(J){var re=this;if(!J)throw new Error("Terminal requires a parent element.");J.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=J.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),J.appendChild(this.element);var ue=Ee.createDocumentFragment();this._viewportElement=Ee.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ue.appendChild(this._viewportElement),this._viewportScrollArea=Ee.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Ee.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Ee.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ue.appendChild(this.screenElement),this.textarea=Ee.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,u.addDisposableDomListener)(this.textarea,"focus",function(Ve){return re._onTextAreaFocus(Ve)})),this.register((0,u.addDisposableDomListener)(this.textarea,"blur",function(){return re._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var se=this._instantiationService.createInstance(U.CoreBrowserService,this.textarea);this._instantiationService.setService($.ICoreBrowserService,se),this._charSizeService=this._instantiationService.createInstance(z.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService($.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new H.ColorManager(Ee,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(Ve){return re._colorManager.onOptionsChange(Ve)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(pe.CharacterJoinerService),this._instantiationService.setService($.ICharacterJoinerService,this._characterJoinerService);var Pe=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(Z.RenderService,Pe,this.rows,this.screenElement)),this._instantiationService.setService($.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(Ve){return re._onRender.fire(Ve)})),this.onResize(function(Ve){return re._renderService.resize(Ve.cols,Ve.rows)}),this._compositionView=Ee.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ue),this._soundService=this._instantiationService.createInstance(D.SoundService),this._instantiationService.setService($.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(N.MouseService),this._instantiationService.setService($.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(m.Viewport,function(Ve){return re.scrollLines(Ve,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return re.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){re._renderService.onCursorMove(),re._syncTextArea()})),this.register(this.onResize(function(){return re._renderService.onResize(re.cols,re.rows)})),this.register(this.onBlur(function(){return re._renderService.onBlur()})),this.register(this.onFocus(function(){return re._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return re.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService($.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(Ve){return re.scrollLines(Ve.amount,Ve.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return re._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(Ve){return re._renderService.onSelectionChanged(Ve.start,Ve.end,Ve.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(Ve){re.textarea.value=Ve,re.textarea.focus(),re.textarea.select()})),this.register(this._onScroll.event(function(Ve){re.viewport.syncScrollArea(),re._selectionService.refresh()})),this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",function(){return re._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(S.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return re._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register((0,u.addDisposableDomListener)(this.element,"mousedown",function(Ve){return re._selectionService.onMouseDown(Ve)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new w.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},q.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(g.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(T.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},q.prototype._setTheme=function(J){var re,ue,se;this._theme=J,null===(re=this._colorManager)||void 0===re||re.setTheme(J),null===(ue=this._renderService)||void 0===ue||ue.setColors(this._colorManager.colors),null===(se=this.viewport)||void 0===se||se.onThemeChange(this._colorManager.colors)},q.prototype.bindMouse=function(){var J=this,re=this,ue=this.element;function se(ke){var St,At,Nt=re._mouseService.getRawByteCoords(ke,re.screenElement,re.cols,re.rows);if(!Nt)return!1;switch(ke.overrideType||ke.type){case"mousemove":At=32,void 0===ke.buttons?(St=3,void 0!==ke.button&&(St=ke.button<3?ke.button:3)):St=1&ke.buttons?0:4&ke.buttons?1:2&ke.buttons?2:3;break;case"mouseup":At=0,St=ke.button<3?ke.button:3;break;case"mousedown":At=1,St=ke.button<3?ke.button:3;break;case"wheel":0!==ke.deltaY&&(At=ke.deltaY<0?0:1),St=4;break;default:return!1}return!(void 0===At||void 0===St||St>4)&&re.coreMouseService.triggerMouseEvent({col:Nt.x-33,row:Nt.y-33,button:St,action:At,ctrl:ke.ctrlKey,alt:ke.altKey,shift:ke.shiftKey})}var Pe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Ve=function(ke){return se(ke),ke.buttons||(J._document.removeEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&J._document.removeEventListener("mousemove",Pe.mousedrag)),J.cancel(ke)},ht=function(ke){return se(ke),J.cancel(ke,!0)},Mt=function(ke){ke.buttons&&se(ke)},Tt=function(ke){ke.buttons||se(ke)};this.register(this.coreMouseService.onProtocolChange(function(ke){ke?("debug"===J.optionsService.options.logLevel&&J._logService.debug("Binding to mouse events:",J.coreMouseService.explainEvents(ke)),J.element.classList.add("enable-mouse-events"),J._selectionService.disable()):(J._logService.debug("Unbinding from mouse events."),J.element.classList.remove("enable-mouse-events"),J._selectionService.enable()),8&ke?Pe.mousemove||(ue.addEventListener("mousemove",Tt),Pe.mousemove=Tt):(ue.removeEventListener("mousemove",Pe.mousemove),Pe.mousemove=null),16&ke?Pe.wheel||(ue.addEventListener("wheel",ht,{passive:!1}),Pe.wheel=ht):(ue.removeEventListener("wheel",Pe.wheel),Pe.wheel=null),2&ke?Pe.mouseup||(Pe.mouseup=Ve):(J._document.removeEventListener("mouseup",Pe.mouseup),Pe.mouseup=null),4&ke?Pe.mousedrag||(Pe.mousedrag=Mt):(J._document.removeEventListener("mousemove",Pe.mousedrag),Pe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,u.addDisposableDomListener)(ue,"mousedown",function(ke){if(ke.preventDefault(),J.focus(),J.coreMouseService.areMouseEventsActive&&!J._selectionService.shouldForceSelection(ke))return se(ke),Pe.mouseup&&J._document.addEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&J._document.addEventListener("mousemove",Pe.mousedrag),J.cancel(ke)})),this.register((0,u.addDisposableDomListener)(ue,"wheel",function(ke){if(!Pe.wheel){if(!J.buffer.hasScrollback){var St=J.viewport.getLinesScrolled(ke);if(0===St)return;for(var At=A.C0.ESC+(J.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ke.deltaY<0?"A":"B"),Nt="",Jn=0;Jn<Math.abs(St);Jn++)Nt+=At;return J.coreService.triggerDataEvent(Nt,!0),J.cancel(ke,!0)}return J.viewport.onWheel(ke)?J.cancel(ke):void 0}},{passive:!1})),this.register((0,u.addDisposableDomListener)(ue,"touchstart",function(ke){if(!J.coreMouseService.areMouseEventsActive)return J.viewport.onTouchStart(ke),J.cancel(ke)},{passive:!0})),this.register((0,u.addDisposableDomListener)(ue,"touchmove",function(ke){if(!J.coreMouseService.areMouseEventsActive)return J.viewport.onTouchMove(ke)?void 0:J.cancel(ke)},{passive:!1}))},q.prototype.refresh=function(J,re){var ue;null===(ue=this._renderService)||void 0===ue||ue.refreshRows(J,re)},q.prototype._queueLinkification=function(J,re){var ue;null===(ue=this.linkifier)||void 0===ue||ue.linkifyRows(J,re)},q.prototype.updateCursorStyle=function(J){var re;(null===(re=this._selectionService)||void 0===re?void 0:re.shouldColumnSelect(J))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},q.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},q.prototype.scrollLines=function(J,re,ue){void 0===ue&&(ue=0),xe.prototype.scrollLines.call(this,J,re,ue),this.refresh(0,this.rows-1)},q.prototype.paste=function(J){(0,M.paste)(J,this.textarea,this.coreService)},q.prototype.attachCustomKeyEventHandler=function(J){this._customKeyEventHandler=J},q.prototype.registerLinkMatcher=function(J,re,ue){var se=this.linkifier.registerLinkMatcher(J,re,ue);return this.refresh(0,this.rows-1),se},q.prototype.deregisterLinkMatcher=function(J){this.linkifier.deregisterLinkMatcher(J)&&this.refresh(0,this.rows-1)},q.prototype.registerLinkProvider=function(J){return this.linkifier2.registerLinkProvider(J)},q.prototype.registerCharacterJoiner=function(J){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var re=this._characterJoinerService.register(J);return this.refresh(0,this.rows-1),re},q.prototype.deregisterCharacterJoiner=function(J){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(J)&&this.refresh(0,this.rows-1)},Object.defineProperty(q.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),q.prototype.addMarker=function(J){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+J)},q.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},q.prototype.select=function(J,re,ue){this._selectionService.setSelection(J,re,ue)},q.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},q.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},q.prototype.clearSelection=function(){var J;null===(J=this._selectionService)||void 0===J||J.clearSelection()},q.prototype.selectAll=function(){var J;null===(J=this._selectionService)||void 0===J||J.selectAll()},q.prototype.selectLines=function(J,re){var ue;null===(ue=this._selectionService)||void 0===ue||ue.selectLines(J,re)},q.prototype._keyDown=function(J){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(J))return!1;if(!this._compositionHelper.keydown(J))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;"Dead"!==J.key&&"AltGraph"!==J.key||(this._unprocessedDeadKey=!0);var re=(0,k.evaluateKeyboardEvent)(J,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(J),3===re.type||2===re.type){var ue=this.rows-1;return this.scrollLines(2===re.type?-ue:ue),this.cancel(J,!0)}return 1===re.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,J)||(re.cancel&&this.cancel(J,!0),!re.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(re.key!==A.C0.ETX&&re.key!==A.C0.CR||(this.textarea.value=""),this._onKey.fire({key:re.key,domEvent:J}),this._showCursor(),this.coreService.triggerDataEvent(re.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(J,!0))))},q.prototype._isThirdLevelShift=function(J,re){var ue=J.isMac&&!this.options.macOptionIsMeta&&re.altKey&&!re.ctrlKey&&!re.metaKey||J.isWindows&&re.altKey&&re.ctrlKey&&!re.metaKey||J.isWindows&&re.getModifierState("AltGraph");return"keypress"===re.type?ue:ue&&(!re.keyCode||re.keyCode>47)},q.prototype._keyUp=function(J){var re;this._customKeyEventHandler&&!1===this._customKeyEventHandler(J)||(16===(re=J).keyCode||17===re.keyCode||18===re.keyCode||this.focus(),this.updateCursorStyle(J),this._keyPressHandled=!1)},q.prototype._keyPress=function(J){var re;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(J))return!1;if(this.cancel(J),J.charCode)re=J.charCode;else if(null==J.which)re=J.keyCode;else{if(0===J.which||0===J.charCode)return!1;re=J.which}return!(!re||(J.altKey||J.ctrlKey||J.metaKey)&&!this._isThirdLevelShift(this.browser,J)||(re=String.fromCharCode(re),this._onKey.fire({key:re,domEvent:J}),this._showCursor(),this.coreService.triggerDataEvent(re,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},q.prototype._inputEvent=function(J){return!(!J.data||"insertText"!==J.inputType||J.composed||this.optionsService.options.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(J.data,!0),this.cancel(J),0))},q.prototype.bell=function(){var J;this._soundBell()&&(null===(J=this._soundService)||void 0===J||J.playBellSound()),this._onBell.fire()},q.prototype.resize=function(J,re){J!==this.cols||re!==this.rows?xe.prototype.resize.call(this,J,re):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},q.prototype._afterResize=function(J,re){var ue,se;null===(ue=this._charSizeService)||void 0===ue||ue.measure(),null===(se=this.viewport)||void 0===se||se.syncScrollArea(!0)},q.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var J=1;J<this.rows;J++)this.buffer.lines.push(this.buffer.getBlankLine(L.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},q.prototype.reset=function(){var J,re;this.options.rows=this.rows,this.options.cols=this.cols;var ue=this._customKeyEventHandler;this._setup(),xe.prototype.reset.call(this),null===(J=this._selectionService)||void 0===J||J.reset(),this._customKeyEventHandler=ue,this.refresh(0,this.rows-1),null===(re=this.viewport)||void 0===re||re.syncScrollArea()},q.prototype.clearTextureAtlas=function(){var J;null===(J=this._renderService)||void 0===J||J.clearTextureAtlas()},q.prototype._reportFocus=function(){var J;(null===(J=this.element)||void 0===J?void 0:J.classList.contains("focus"))?this.coreService.triggerDataEvent(A.C0.ESC+"[I"):this.coreService.triggerDataEvent(A.C0.ESC+"[O")},q.prototype._reportWindowsOptions=function(J){if(this._renderService)switch(J){case h.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var re=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),ue=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(A.C0.ESC+"[4;"+ue+";"+re+"t");break;case h.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var se=this._renderService.dimensions.scaledCellWidth.toFixed(0),Pe=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(A.C0.ESC+"[6;"+Pe+";"+se+"t")}},q.prototype.cancel=function(J,re){if(this.options.cancelEvents||re)return J.preventDefault(),J.stopPropagation(),!1},q.prototype._visualBell=function(){return!1},q.prototype._soundBell=function(){return"sound"===this.options.bellStyle},q}(Y.CoreTerminal);p.Terminal=Re},9924:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TimeBasedDebouncer=void 0;var I=function(){function _(y,d){void 0===d&&(d=1e3),this._renderCallback=y,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return _.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},_.prototype.refresh=function(y,d,m){var M=this;this._rowCount=m,y=void 0!==y?y:0,d=void 0!==d?d:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,y):y,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,d):d;var A=Date.now();if(A-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=A,this._innerRefresh();else if(!this._additionalRefreshRequested){var g=this._debounceThresholdMS-(A-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){M._lastRefreshMs=Date.now(),M._innerRefresh(),M._additionalRefreshRequested=!1,M._refreshTimeoutID=void 0},g)}},_.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var y=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(y,d)}},_}();p.TimeBasedDebouncer=I},1680:function(ne,p,I){var _,y=this&&this.__extends||(_=function(C,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var D in c)Object.prototype.hasOwnProperty.call(c,D)&&(u[D]=c[D])})(C,l)},function(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=C}_(C,l),C.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}),d=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},m=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Viewport=void 0;var M=I(844),A=I(3656),h=I(4725),g=I(2585),E=function(C){function l(u,c,D,S,w,T,k,V){var L=C.call(this)||this;return L._scrollLines=u,L._viewportElement=c,L._scrollArea=D,L._element=S,L._bufferService=w,L._optionsService=T,L._charSizeService=k,L._renderService=V,L.scrollBarWidth=0,L._currentRowHeight=0,L._currentScaledCellHeight=0,L._lastRecordedBufferLength=0,L._lastRecordedViewportHeight=0,L._lastRecordedBufferHeight=0,L._lastTouchY=0,L._lastScrollTop=0,L._lastHadScrollBar=!1,L._wheelPartialScroll=0,L._refreshAnimationFrame=null,L._ignoreNextScrollEvent=!1,L.scrollBarWidth=L._viewportElement.offsetWidth-L._scrollArea.offsetWidth||15,L._lastHadScrollBar=!0,L.register((0,A.addDisposableDomListener)(L._viewportElement,"scroll",L._onScroll.bind(L))),L._activeBuffer=L._bufferService.buffer,L.register(L._bufferService.buffers.onBufferActivate(function(H){return L._activeBuffer=H.activeBuffer})),L._renderDimensions=L._renderService.dimensions,L.register(L._renderService.onDimensionsChange(function(H){return L._renderDimensions=H})),setTimeout(function(){return L.syncScrollArea()},0),L}return y(l,C),l.prototype.onThemeChange=function(u){this._viewportElement.style.backgroundColor=u.background.css},l.prototype._refresh=function(u){var c=this;if(u)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return c._innerRefresh()}))},l.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this.scrollBarWidth=0===this._optionsService.options.scrollback?0:this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var D=window.getComputedStyle(this._element),S=parseInt(D.paddingLeft)+parseInt(D.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?S:0)).toString()+"px",this._refreshAnimationFrame=null},l.prototype.syncScrollArea=function(u){if(void 0===u&&(u=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(u);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.options.scrollback>0&&this._refresh(u):this._refresh(u)},l.prototype._onScroll=function(u){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}},l.prototype._bubbleScroll=function(u,c){return!(c<0&&0!==this._viewportElement.scrollTop||c>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(u.cancelable&&u.preventDefault(),!1)},l.prototype.onWheel=function(u){var c=this._getPixelsScrolled(u);return 0!==c&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(u,c))},l.prototype._getPixelsScrolled=function(u){if(0===u.deltaY||u.shiftKey)return 0;var c=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c},l.prototype.getLinesScrolled=function(u){if(0===u.deltaY||u.shiftKey)return 0;var c=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(this._wheelPartialScroll+=c/=this._currentRowHeight+0,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c},l.prototype._applyScrollModifier=function(u,c){var D=this._optionsService.options.fastScrollModifier;return"alt"===D&&c.altKey||"ctrl"===D&&c.ctrlKey||"shift"===D&&c.shiftKey?u*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:u*this._optionsService.options.scrollSensitivity},l.prototype.onTouchStart=function(u){this._lastTouchY=u.touches[0].pageY},l.prototype.onTouchMove=function(u){var c=this._lastTouchY-u.touches[0].pageY;return this._lastTouchY=u.touches[0].pageY,0!==c&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(u,c))},d([m(4,g.IBufferService),m(5,g.IOptionsService),m(6,h.ICharSizeService),m(7,h.IRenderService)],l)}(M.Disposable);p.Viewport=E},2950:function(ne,p,I){var _=this&&this.__decorate||function(A,h,g,E){var C,l=arguments.length,u=l<3?h:null===E?E=Object.getOwnPropertyDescriptor(h,g):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(A,h,g,E);else for(var c=A.length-1;c>=0;c--)(C=A[c])&&(u=(l<3?C(u):l>3?C(h,g,u):C(h,g))||u);return l>3&&u&&Object.defineProperty(h,g,u),u},y=this&&this.__param||function(A,h){return function(g,E){h(g,E,A)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CompositionHelper=void 0;var d=I(4725),m=I(2585),M=function(){function A(h,g,E,C,l,u){this._textarea=h,this._compositionView=g,this._bufferService=E,this._optionsService=C,this._coreService=l,this._renderService=u,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(A.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),A.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},A.prototype.compositionupdate=function(h){var g=this;this._compositionView.textContent=h.data,this.updateCompositionElements(),setTimeout(function(){g._compositionPosition.end=g._textarea.value.length},0)},A.prototype.compositionend=function(){this._finalizeComposition(!0)},A.prototype.keydown=function(h){if(this._isComposing||this._isSendingComposition){if(229===h.keyCode||16===h.keyCode||17===h.keyCode||18===h.keyCode)return!1;this._finalizeComposition(!1)}return 229!==h.keyCode||(this._handleAnyTextareaChanges(),!1)},A.prototype._finalizeComposition=function(h){var g=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,h){var E={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){var l;g._isSendingComposition&&(g._isSendingComposition=!1,E.start+=g._dataAlreadySent.length,(l=g._isComposing?g._textarea.value.substring(E.start,E.end):g._textarea.value.substring(E.start)).length>0&&g._coreService.triggerDataEvent(l,!0))},0)}else{this._isSendingComposition=!1;var C=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(C,!0)}},A.prototype._handleAnyTextareaChanges=function(){var h=this,g=this._textarea.value;setTimeout(function(){if(!h._isComposing){var E=h._textarea.value.replace(g,"");E.length>0&&(h._dataAlreadySent=E,h._coreService.triggerDataEvent(E,!0))}},0)},A.prototype.updateCompositionElements=function(h){var g=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var E=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),C=this._renderService.dimensions.actualCellHeight,l=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,u=E*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=u+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=C+"px",this._compositionView.style.lineHeight=C+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var c=this._compositionView.getBoundingClientRect();this._textarea.style.left=u+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(c.width,1)+"px",this._textarea.style.height=Math.max(c.height,1)+"px",this._textarea.style.lineHeight=c.height+"px"}h||setTimeout(function(){return g.updateCompositionElements(!0)},0)}},_([y(2,m.IBufferService),y(3,m.IOptionsService),y(4,m.ICoreService),y(5,d.IRenderService)],A)}();p.CompositionHelper=M},9806:(ne,p)=>{function I(_,y){var d=y.getBoundingClientRect();return[_.clientX-d.left,_.clientY-d.top]}Object.defineProperty(p,"__esModule",{value:!0}),p.getRawByteCoords=p.getCoords=p.getCoordsRelativeToElement=void 0,p.getCoordsRelativeToElement=I,p.getCoords=function(_,y,d,m,M,A,h,g){if(M){var E=I(_,y);if(E)return E[0]=Math.ceil((E[0]+(g?A/2:0))/A),E[1]=Math.ceil(E[1]/h),E[0]=Math.min(Math.max(E[0],1),d+(g?1:0)),E[1]=Math.min(Math.max(E[1],1),m),E}},p.getRawByteCoords=function(_){if(_)return{x:_[0]+32,y:_[1]+32}}},9504:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.moveToCellSequence=void 0;var _=I(2584);function y(g,E,C,l){var u=g-d(C,g),c=E-d(C,E);return h(Math.abs(u-c)-function(S,w,T){for(var k=0,V=S-d(T,S),L=w-d(T,w),H=0;H<Math.abs(V-L);H++){var Z="A"===m(S,w)?-1:1,$=T.buffer.lines.get(V+Z*H);(null==$?void 0:$.isWrapped)&&k++}return k}(g,E,C),A(m(g,E),l))}function d(g,E){for(var C=0,l=g.buffer.lines.get(E),u=null==l?void 0:l.isWrapped;u&&E>=0&&E<g.rows;)C++,u=null==(l=g.buffer.lines.get(--E))?void 0:l.isWrapped;return C}function m(g,E){return g>E?"A":"B"}function M(g,E,C,l,u,c){for(var D=g,S=E,w="";D!==C||S!==l;)D+=u?1:-1,u&&D>c.cols-1?(w+=c.buffer.translateBufferLineToString(S,!1,g,D),D=0,g=0,S++):!u&&D<0&&(w+=c.buffer.translateBufferLineToString(S,!1,0,g+1),g=D=c.cols-1,S--);return w+c.buffer.translateBufferLineToString(S,!1,g,D)}function A(g,E){return _.C0.ESC+(E?"O":"[")+g}function h(g,E){g=Math.floor(g);for(var C="",l=0;l<g;l++)C+=E;return C}p.moveToCellSequence=function(g,E,C,l){var u,w,T,L,H,c=C.buffer.x,D=C.buffer.y;if(!C.buffer.hasScrollback)return w=c,(0===y(T=D,E,L=C,H=l).length?"":h(M(w,T,w,T-d(L,T),!1,L).length,A("D",H)))+y(D,E,C,l)+function(w,T,k,V,L,H){var Z;Z=y(T,V,L,H).length>0?V-d(L,V):T;var N,O,U,Y,ie,_e,$=V,z=(N=w,O=T,_e=y(U=k,Y=V,ie=L,H).length>0?Y-d(ie,Y):O,N<U&&_e<=Y||N>=U&&_e<Y?"C":"D");return h(M(w,Z,k,$,"C"===z,L).length,A(z,H))}(c,D,g,E,C,l);if(D===E)return u=c>g?"D":"C",h(Math.abs(c-g),A(u,l));u=D>E?"D":"C";var S=Math.abs(D-E);return h(function(w,T){return T.cols-w}(D>E?g:c,C)+(S-1)*C.cols+1+((D>E?c:g)-1),A(u,l))}},1546:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BaseRenderLayer=void 0;var _=I(643),y=I(8803),d=I(1420),m=I(3734),M=I(1752),A=I(4774),h=I(9631),g=I(8978),E=function(){function C(l,u,c,D,S,w,T,k){this._container=l,this._alpha=D,this._colors=S,this._rendererId=w,this._bufferService=T,this._optionsService=k,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+u+"-layer"),this._canvas.style.zIndex=c.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return C.prototype.dispose=function(){var l;(0,h.removeElementFromParent)(this._canvas),null===(l=this._charAtlas)||void 0===l||l.dispose()},C.prototype._initCanvas=function(){this._ctx=(0,M.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},C.prototype.onOptionsChanged=function(){},C.prototype.onBlur=function(){},C.prototype.onFocus=function(){},C.prototype.onCursorMove=function(){},C.prototype.onGridChanged=function(l,u){},C.prototype.onSelectionChanged=function(l,u,c){void 0===c&&(c=!1)},C.prototype.setColors=function(l){this._refreshCharAtlas(l)},C.prototype._setTransparency=function(l){if(l!==this._alpha){var u=this._canvas;this._alpha=l,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,u),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},C.prototype._refreshCharAtlas=function(l){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,d.acquireCharAtlas)(this._optionsService.options,this._rendererId,l,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},C.prototype.resize=function(l){this._scaledCellWidth=l.scaledCellWidth,this._scaledCellHeight=l.scaledCellHeight,this._scaledCharWidth=l.scaledCharWidth,this._scaledCharHeight=l.scaledCharHeight,this._scaledCharLeft=l.scaledCharLeft,this._scaledCharTop=l.scaledCharTop,this._canvas.width=l.scaledCanvasWidth,this._canvas.height=l.scaledCanvasHeight,this._canvas.style.width=l.canvasWidth+"px",this._canvas.style.height=l.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},C.prototype.clearTextureAtlas=function(){var l;null===(l=this._charAtlas)||void 0===l||l.clear()},C.prototype._fillCells=function(l,u,c,D){this._ctx.fillRect(l*this._scaledCellWidth,u*this._scaledCellHeight,c*this._scaledCellWidth,D*this._scaledCellHeight)},C.prototype._fillMiddleLineAtCells=function(l,u,c){void 0===c&&(c=1);var D=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(l*this._scaledCellWidth,(u+1)*this._scaledCellHeight-D-window.devicePixelRatio,c*this._scaledCellWidth,window.devicePixelRatio)},C.prototype._fillBottomLineAtCells=function(l,u,c){void 0===c&&(c=1),this._ctx.fillRect(l*this._scaledCellWidth,(u+1)*this._scaledCellHeight-window.devicePixelRatio-1,c*this._scaledCellWidth,window.devicePixelRatio)},C.prototype._fillLeftLineAtCell=function(l,u,c){this._ctx.fillRect(l*this._scaledCellWidth,u*this._scaledCellHeight,window.devicePixelRatio*c,this._scaledCellHeight)},C.prototype._strokeRectAtCell=function(l,u,c,D){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(l*this._scaledCellWidth+window.devicePixelRatio/2,u*this._scaledCellHeight+window.devicePixelRatio/2,c*this._scaledCellWidth-window.devicePixelRatio,D*this._scaledCellHeight-window.devicePixelRatio)},C.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},C.prototype._clearCells=function(l,u,c,D){this._alpha?this._ctx.clearRect(l*this._scaledCellWidth,u*this._scaledCellHeight,c*this._scaledCellWidth,D*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(l*this._scaledCellWidth,u*this._scaledCellHeight,c*this._scaledCellWidth,D*this._scaledCellHeight))},C.prototype._fillCharTrueColor=function(l,u,c){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=y.TEXT_BASELINE,this._clipRow(c);var D=!1;!1!==this._optionsService.options.customGlyphs&&(D=(0,g.tryDrawCustomChar)(this._ctx,l.getChars(),u*this._scaledCellWidth,c*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),D||this._ctx.fillText(l.getChars(),u*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},C.prototype._drawChars=function(l,u,c){var D,S,w,T=this._getContrastColor(l);T||l.isFgRGB()||l.isBgRGB()?this._drawUncachedChars(l,u,c,T):(l.isInverse()?(S=l.isBgDefault()?y.INVERTED_DEFAULT_COLOR:l.getBgColor(),w=l.isFgDefault()?y.INVERTED_DEFAULT_COLOR:l.getFgColor()):(w=l.isBgDefault()?_.DEFAULT_COLOR:l.getBgColor(),S=l.isFgDefault()?_.DEFAULT_COLOR:l.getFgColor()),S+=this._optionsService.options.drawBoldTextInBrightColors&&l.isBold()&&S<8?8:0,this._currentGlyphIdentifier.chars=l.getChars()||_.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=l.getCode()||_.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=w,this._currentGlyphIdentifier.fg=S,this._currentGlyphIdentifier.bold=!!l.isBold(),this._currentGlyphIdentifier.dim=!!l.isDim(),this._currentGlyphIdentifier.italic=!!l.isItalic(),(null===(D=this._charAtlas)||void 0===D?void 0:D.draw(this._ctx,this._currentGlyphIdentifier,u*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(l,u,c))},C.prototype._drawUncachedChars=function(l,u,c,D){if(this._ctx.save(),this._ctx.font=this._getFont(!!l.isBold(),!!l.isItalic()),this._ctx.textBaseline=y.TEXT_BASELINE,l.isInverse())if(D)this._ctx.fillStyle=D.css;else if(l.isBgDefault())this._ctx.fillStyle=A.color.opaque(this._colors.background).css;else if(l.isBgRGB())this._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(l.getBgColor()).join(",")+")";else{var S=l.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&l.isBold()&&S<8&&(S+=8),this._ctx.fillStyle=this._colors.ansi[S].css}else if(D)this._ctx.fillStyle=D.css;else if(l.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(l.isFgRGB())this._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(l.getFgColor()).join(",")+")";else{var w=l.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&l.isBold()&&w<8&&(w+=8),this._ctx.fillStyle=this._colors.ansi[w].css}this._clipRow(c),l.isDim()&&(this._ctx.globalAlpha=y.DIM_OPACITY);var T=!1;!1!==this._optionsService.options.customGlyphs&&(T=(0,g.tryDrawCustomChar)(this._ctx,l.getChars(),u*this._scaledCellWidth,c*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),T||this._ctx.fillText(l.getChars(),u*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},C.prototype._clipRow=function(l){this._ctx.beginPath(),this._ctx.rect(0,l*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},C.prototype._getFont=function(l,u){return(u?"italic":"")+" "+(l?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},C.prototype._getContrastColor=function(l){if(1!==this._optionsService.options.minimumContrastRatio){var u=this._colors.contrastCache.getColor(l.bg,l.fg);if(void 0!==u)return u||void 0;var c=l.getFgColor(),D=l.getFgColorMode(),S=l.getBgColor(),w=l.getBgColorMode(),T=!!l.isInverse(),k=!!l.isInverse();if(T){var V=c;c=S,S=V;var L=D;D=w,w=L}var H=this._resolveBackgroundRgba(w,S,T),Z=this._resolveForegroundRgba(D,c,T,k),$=A.rgba.ensureContrastRatio(H,Z,this._optionsService.options.minimumContrastRatio);if($){var z={css:A.channels.toCss($>>24&255,$>>16&255,$>>8&255),rgba:$};return this._colors.contrastCache.setColor(l.bg,l.fg,z),z}this._colors.contrastCache.setColor(l.bg,l.fg,null)}},C.prototype._resolveBackgroundRgba=function(l,u,c){switch(l){case 16777216:case 33554432:return this._colors.ansi[u].rgba;case 50331648:return u<<8;default:return c?this._colors.foreground.rgba:this._colors.background.rgba}},C.prototype._resolveForegroundRgba=function(l,u,c,D){switch(l){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&D&&u<8&&(u+=8),this._colors.ansi[u].rgba;case 50331648:return u<<8;default:return c?this._colors.background.rgba:this._colors.foreground.rgba}},C}();p.BaseRenderLayer=E},2512:function(ne,p,I){var _,y=this&&this.__extends||(_=function(u,c){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,S){D.__proto__=S}||function(D,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(D[w]=S[w])})(u,c)},function(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function D(){this.constructor=u}_(u,c),u.prototype=null===c?Object.create(c):(D.prototype=c.prototype,new D)}),d=this&&this.__decorate||function(u,c,D,S){var w,T=arguments.length,k=T<3?c:null===S?S=Object.getOwnPropertyDescriptor(c,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(u,c,D,S);else for(var V=u.length-1;V>=0;V--)(w=u[V])&&(k=(T<3?w(k):T>3?w(c,D,k):w(c,D))||k);return T>3&&k&&Object.defineProperty(c,D,k),k},m=this&&this.__param||function(u,c){return function(D,S){c(D,S,u)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CursorRenderLayer=void 0;var M=I(1546),A=I(511),h=I(2585),g=I(4725),E=600,C=function(u){function c(D,S,w,T,k,V,L,H,Z){var $=u.call(this,D,"cursor",S,!0,w,T,V,L)||this;return $._onRequestRedraw=k,$._coreService=H,$._coreBrowserService=Z,$._cell=new A.CellData,$._state={x:0,y:0,isFocused:!1,style:"",width:0},$._cursorRenderers={bar:$._renderBarCursor.bind($),block:$._renderBlockCursor.bind($),underline:$._renderUnderlineCursor.bind($)},$}return y(c,u),c.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),u.prototype.dispose.call(this)},c.prototype.resize=function(D){u.prototype.resize.call(this,D),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},c.prototype.reset=function(){var D;this._clearCursor(),null===(D=this._cursorBlinkStateManager)||void 0===D||D.restartBlinkAnimation(),this.onOptionsChanged()},c.prototype.onBlur=function(){var D;null===(D=this._cursorBlinkStateManager)||void 0===D||D.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onFocus=function(){var D;null===(D=this._cursorBlinkStateManager)||void 0===D||D.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onOptionsChanged=function(){var D,S=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(this._coreBrowserService.isFocused,function(){S._render(!0)})):(null===(D=this._cursorBlinkStateManager)||void 0===D||D.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onCursorMove=function(){var D;null===(D=this._cursorBlinkStateManager)||void 0===D||D.restartBlinkAnimation()},c.prototype.onGridChanged=function(D,S){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},c.prototype._render=function(D){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var S=this._bufferService.buffer.ybase+this._bufferService.buffer.y,w=S-this._bufferService.buffer.ydisp;if(w<0||w>=this._bufferService.rows)this._clearCursor();else{var T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(S).loadCell(T,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var k=this._optionsService.options.cursorStyle;return k&&"block"!==k?this._cursorRenderers[k](T,w,this._cell):this._renderBlurCursor(T,w,this._cell),this._ctx.restore(),this._state.x=T,this._state.y=w,this._state.isFocused=!1,this._state.style=k,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===T&&this._state.y===w&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](T,w,this._cell),this._ctx.restore(),this._state.x=T,this._state.y=w,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},c.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},c.prototype._renderBarCursor=function(D,S,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(D,S,this._optionsService.options.cursorWidth),this._ctx.restore()},c.prototype._renderBlockCursor=function(D,S,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(D,S,w.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(w,D,S),this._ctx.restore()},c.prototype._renderUnderlineCursor=function(D,S,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(D,S),this._ctx.restore()},c.prototype._renderBlurCursor=function(D,S,w){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(D,S,w.getWidth(),1),this._ctx.restore()},d([m(5,h.IBufferService),m(6,h.IOptionsService),m(7,h.ICoreService),m(8,g.ICoreBrowserService)],c)}(M.BaseRenderLayer);p.CursorRenderLayer=C;var l=function(){function u(c,D){this._renderCallback=D,this.isCursorVisible=!0,c&&this._restartInterval()}return Object.defineProperty(u.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),u.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},u.prototype.restartBlinkAnimation=function(){var c=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){c._renderCallback(),c._animationFrame=void 0})))},u.prototype._restartInterval=function(c){var D=this;void 0===c&&(c=E),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(D._animationTimeRestarted){var S=E-(Date.now()-D._animationTimeRestarted);if(D._animationTimeRestarted=void 0,S>0)return void D._restartInterval(S)}D.isCursorVisible=!1,D._animationFrame=window.requestAnimationFrame(function(){D._renderCallback(),D._animationFrame=void 0}),D._blinkInterval=window.setInterval(function(){if(D._animationTimeRestarted){var w=E-(Date.now()-D._animationTimeRestarted);return D._animationTimeRestarted=void 0,void D._restartInterval(w)}D.isCursorVisible=!D.isCursorVisible,D._animationFrame=window.requestAnimationFrame(function(){D._renderCallback(),D._animationFrame=void 0})},E)},c)},u.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},u.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},u}()},8978:(ne,p,I)=>{var _,y,d,m,M,A,h,g,E,C,l,u,c,D,S,w,T,k,V,L,H,Z,$,z,N,O,U,Y,ie,pe,_e,Ee,Re,xe,q,J,re,ue,se,Pe,Ve,ht,Mt,Tt,ke,St,At,Nt,Jn,eo,dn,Rn,cr,Cn,br,Wo,xn,si,Q,x,B,ee,ce,ye,be,Xe,Dt,vt,Et,pt,xi,Vn,to,no,ro,io,Li,er,ai,pn,oo,ui,Ln,jr,so,Un,Oi,li,ao,fr,ci,Pi,uo,Go,lo,ki,co,Fi,fo,ho,tr,Wn,po,go,fi,Ct,Bi,rt,Vr,_o,_t,ze,qo,Pa,wn,ka,mo,Ke,en,yo,vs,Fa,Ni,Sn,Ba,Cs,Na,nr;Object.defineProperty(p,"__esModule",{value:!0}),p.tryDrawCustomChar=p.boxDrawingDefinitions=p.blockElementDefinitions=void 0;var Ju=I(1752);p.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1fb70}":[{x:1,y:0,w:1,h:8}],"\u{1fb71}":[{x:2,y:0,w:1,h:8}],"\u{1fb72}":[{x:3,y:0,w:1,h:8}],"\u{1fb73}":[{x:4,y:0,w:1,h:8}],"\u{1fb74}":[{x:5,y:0,w:1,h:8}],"\u{1fb75}":[{x:6,y:0,w:1,h:8}],"\u{1fb76}":[{x:0,y:1,w:8,h:1}],"\u{1fb77}":[{x:0,y:2,w:8,h:1}],"\u{1fb78}":[{x:0,y:3,w:8,h:1}],"\u{1fb79}":[{x:0,y:4,w:8,h:1}],"\u{1fb7a}":[{x:0,y:5,w:8,h:1}],"\u{1fb7b}":[{x:0,y:6,w:8,h:1}],"\u{1fb7c}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb7d}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7e}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7f}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb82}":[{x:0,y:0,w:8,h:2}],"\u{1fb83}":[{x:0,y:0,w:8,h:3}],"\u{1fb84}":[{x:0,y:0,w:8,h:5}],"\u{1fb85}":[{x:0,y:0,w:8,h:6}],"\u{1fb86}":[{x:0,y:0,w:8,h:7}],"\u{1fb87}":[{x:6,y:0,w:2,h:8}],"\u{1fb88}":[{x:5,y:0,w:3,h:8}],"\u{1fb89}":[{x:3,y:0,w:5,h:8}],"\u{1fb8a}":[{x:2,y:0,w:6,h:8}],"\u{1fb8b}":[{x:1,y:0,w:7,h:8}],"\u{1fb95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1fb96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1fb97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var of={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};p.boxDrawingDefinitions={"\u2500":(_={},_[1]="M0,.5 L1,.5",_),"\u2501":(y={},y[3]="M0,.5 L1,.5",y),"\u2502":(d={},d[1]="M.5,0 L.5,1",d),"\u2503":(m={},m[3]="M.5,0 L.5,1",m),"\u250c":(M={},M[1]="M0.5,1 L.5,.5 L1,.5",M),"\u250f":(A={},A[3]="M0.5,1 L.5,.5 L1,.5",A),"\u2510":(h={},h[1]="M0,.5 L.5,.5 L.5,1",h),"\u2513":(g={},g[3]="M0,.5 L.5,.5 L.5,1",g),"\u2514":(E={},E[1]="M.5,0 L.5,.5 L1,.5",E),"\u2517":(C={},C[3]="M.5,0 L.5,.5 L1,.5",C),"\u2518":(l={},l[1]="M.5,0 L.5,.5 L0,.5",l),"\u251b":(u={},u[3]="M.5,0 L.5,.5 L0,.5",u),"\u251c":(c={},c[1]="M.5,0 L.5,1 M.5,.5 L1,.5",c),"\u2523":(D={},D[3]="M.5,0 L.5,1 M.5,.5 L1,.5",D),"\u2524":(S={},S[1]="M.5,0 L.5,1 M.5,.5 L0,.5",S),"\u252b":(w={},w[3]="M.5,0 L.5,1 M.5,.5 L0,.5",w),"\u252c":(T={},T[1]="M0,.5 L1,.5 M.5,.5 L.5,1",T),"\u2533":(k={},k[3]="M0,.5 L1,.5 M.5,.5 L.5,1",k),"\u2534":(V={},V[1]="M0,.5 L1,.5 M.5,.5 L.5,0",V),"\u253b":(L={},L[3]="M0,.5 L1,.5 M.5,.5 L.5,0",L),"\u253c":(H={},H[1]="M0,.5 L1,.5 M.5,0 L.5,1",H),"\u254b":(Z={},Z[3]="M0,.5 L1,.5 M.5,0 L.5,1",Z),"\u2574":($={},$[1]="M.5,.5 L0,.5",$),"\u2578":(z={},z[3]="M.5,.5 L0,.5",z),"\u2575":(N={},N[1]="M.5,.5 L.5,0",N),"\u2579":(O={},O[3]="M.5,.5 L.5,0",O),"\u2576":(U={},U[1]="M.5,.5 L1,.5",U),"\u257a":(Y={},Y[3]="M.5,.5 L1,.5",Y),"\u2577":(ie={},ie[1]="M.5,.5 L.5,1",ie),"\u257b":(pe={},pe[3]="M.5,.5 L.5,1",pe),"\u2550":(_e={},_e[1]=function(we,ve){return"M0,"+(.5-ve)+" L1,"+(.5-ve)+" M0,"+(.5+ve)+" L1,"+(.5+ve)},_e),"\u2551":(Ee={},Ee[1]=function(we,ve){return"M"+(.5-we)+",0 L"+(.5-we)+",1 M"+(.5+we)+",0 L"+(.5+we)+",1"},Ee),"\u2552":(Re={},Re[1]=function(we,ve){return"M.5,1 L.5,"+(.5-ve)+" L1,"+(.5-ve)+" M.5,"+(.5+ve)+" L1,"+(.5+ve)},Re),"\u2553":(xe={},xe[1]=function(we,ve){return"M"+(.5-we)+",1 L"+(.5-we)+",.5 L1,.5 M"+(.5+we)+",.5 L"+(.5+we)+",1"},xe),"\u2554":(q={},q[1]=function(we,ve){return"M1,"+(.5-ve)+" L"+(.5-we)+","+(.5-ve)+" L"+(.5-we)+",1 M1,"+(.5+ve)+" L"+(.5+we)+","+(.5+ve)+" L"+(.5+we)+",1"},q),"\u2555":(J={},J[1]=function(we,ve){return"M0,"+(.5-ve)+" L.5,"+(.5-ve)+" L.5,1 M0,"+(.5+ve)+" L.5,"+(.5+ve)},J),"\u2556":(re={},re[1]=function(we,ve){return"M"+(.5+we)+",1 L"+(.5+we)+",.5 L0,.5 M"+(.5-we)+",.5 L"+(.5-we)+",1"},re),"\u2557":(ue={},ue[1]=function(we,ve){return"M0,"+(.5+ve)+" L"+(.5-we)+","+(.5+ve)+" L"+(.5-we)+",1 M0,"+(.5-ve)+" L"+(.5+we)+","+(.5-ve)+" L"+(.5+we)+",1"},ue),"\u2558":(se={},se[1]=function(we,ve){return"M.5,0 L.5,"+(.5+ve)+" L1,"+(.5+ve)+" M.5,"+(.5-ve)+" L1,"+(.5-ve)},se),"\u2559":(Pe={},Pe[1]=function(we,ve){return"M1,.5 L"+(.5-we)+",.5 L"+(.5-we)+",0 M"+(.5+we)+",.5 L"+(.5+we)+",0"},Pe),"\u255a":(Ve={},Ve[1]=function(we,ve){return"M1,"+(.5-ve)+" L"+(.5+we)+","+(.5-ve)+" L"+(.5+we)+",0 M1,"+(.5+ve)+" L"+(.5-we)+","+(.5+ve)+" L"+(.5-we)+",0"},Ve),"\u255b":(ht={},ht[1]=function(we,ve){return"M0,"+(.5+ve)+" L.5,"+(.5+ve)+" L.5,0 M0,"+(.5-ve)+" L.5,"+(.5-ve)},ht),"\u255c":(Mt={},Mt[1]=function(we,ve){return"M0,.5 L"+(.5+we)+",.5 L"+(.5+we)+",0 M"+(.5-we)+",.5 L"+(.5-we)+",0"},Mt),"\u255d":(Tt={},Tt[1]=function(we,ve){return"M0,"+(.5-ve)+" L"+(.5-we)+","+(.5-ve)+" L"+(.5-we)+",0 M0,"+(.5+ve)+" L"+(.5+we)+","+(.5+ve)+" L"+(.5+we)+",0"},Tt),"\u255e":(ke={},ke[1]=function(we,ve){return"M.5,0 L.5,1 M.5,"+(.5-ve)+" L1,"+(.5-ve)+" M.5,"+(.5+ve)+" L1,"+(.5+ve)},ke),"\u255f":(St={},St[1]=function(we,ve){return"M"+(.5-we)+",0 L"+(.5-we)+",1 M"+(.5+we)+",0 L"+(.5+we)+",1 M"+(.5+we)+",.5 L1,.5"},St),"\u2560":(At={},At[1]=function(we,ve){return"M"+(.5-we)+",0 L"+(.5-we)+",1 M1,"+(.5+ve)+" L"+(.5+we)+","+(.5+ve)+" L"+(.5+we)+",1 M1,"+(.5-ve)+" L"+(.5+we)+","+(.5-ve)+" L"+(.5+we)+",0"},At),"\u2561":(Nt={},Nt[1]=function(we,ve){return"M.5,0 L.5,1 M0,"+(.5-ve)+" L.5,"+(.5-ve)+" M0,"+(.5+ve)+" L.5,"+(.5+ve)},Nt),"\u2562":(Jn={},Jn[1]=function(we,ve){return"M0,.5 L"+(.5-we)+",.5 M"+(.5-we)+",0 L"+(.5-we)+",1 M"+(.5+we)+",0 L"+(.5+we)+",1"},Jn),"\u2563":(eo={},eo[1]=function(we,ve){return"M"+(.5+we)+",0 L"+(.5+we)+",1 M0,"+(.5+ve)+" L"+(.5-we)+","+(.5+ve)+" L"+(.5-we)+",1 M0,"+(.5-ve)+" L"+(.5-we)+","+(.5-ve)+" L"+(.5-we)+",0"},eo),"\u2564":(dn={},dn[1]=function(we,ve){return"M0,"+(.5-ve)+" L1,"+(.5-ve)+" M0,"+(.5+ve)+" L1,"+(.5+ve)+" M.5,"+(.5+ve)+" L.5,1"},dn),"\u2565":(Rn={},Rn[1]=function(we,ve){return"M0,.5 L1,.5 M"+(.5-we)+",.5 L"+(.5-we)+",1 M"+(.5+we)+",.5 L"+(.5+we)+",1"},Rn),"\u2566":(cr={},cr[1]=function(we,ve){return"M0,"+(.5-ve)+" L1,"+(.5-ve)+" M0,"+(.5+ve)+" L"+(.5-we)+","+(.5+ve)+" L"+(.5-we)+",1 M1,"+(.5+ve)+" L"+(.5+we)+","+(.5+ve)+" L"+(.5+we)+",1"},cr),"\u2567":(Cn={},Cn[1]=function(we,ve){return"M.5,0 L.5,"+(.5-ve)+" M0,"+(.5-ve)+" L1,"+(.5-ve)+" M0,"+(.5+ve)+" L1,"+(.5+ve)},Cn),"\u2568":(br={},br[1]=function(we,ve){return"M0,.5 L1,.5 M"+(.5-we)+",.5 L"+(.5-we)+",0 M"+(.5+we)+",.5 L"+(.5+we)+",0"},br),"\u2569":(Wo={},Wo[1]=function(we,ve){return"M0,"+(.5+ve)+" L1,"+(.5+ve)+" M0,"+(.5-ve)+" L"+(.5-we)+","+(.5-ve)+" L"+(.5-we)+",0 M1,"+(.5-ve)+" L"+(.5+we)+","+(.5-ve)+" L"+(.5+we)+",0"},Wo),"\u256a":(xn={},xn[1]=function(we,ve){return"M.5,0 L.5,1 M0,"+(.5-ve)+" L1,"+(.5-ve)+" M0,"+(.5+ve)+" L1,"+(.5+ve)},xn),"\u256b":(si={},si[1]=function(we,ve){return"M0,.5 L1,.5 M"+(.5-we)+",0 L"+(.5-we)+",1 M"+(.5+we)+",0 L"+(.5+we)+",1"},si),"\u256c":(Q={},Q[1]=function(we,ve){return"M0,"+(.5+ve)+" L"+(.5-we)+","+(.5+ve)+" L"+(.5-we)+",1 M1,"+(.5+ve)+" L"+(.5+we)+","+(.5+ve)+" L"+(.5+we)+",1 M0,"+(.5-ve)+" L"+(.5-we)+","+(.5-ve)+" L"+(.5-we)+",0 M1,"+(.5-ve)+" L"+(.5+we)+","+(.5-ve)+" L"+(.5+we)+",0"},Q),"\u2571":(x={},x[1]="M1,0 L0,1",x),"\u2572":(B={},B[1]="M0,0 L1,1",B),"\u2573":(ee={},ee[1]="M1,0 L0,1 M0,0 L1,1",ee),"\u257c":(ce={},ce[1]="M.5,.5 L0,.5",ce[3]="M.5,.5 L1,.5",ce),"\u257d":(ye={},ye[1]="M.5,.5 L.5,0",ye[3]="M.5,.5 L.5,1",ye),"\u257e":(be={},be[1]="M.5,.5 L1,.5",be[3]="M.5,.5 L0,.5",be),"\u257f":(Xe={},Xe[1]="M.5,.5 L.5,1",Xe[3]="M.5,.5 L.5,0",Xe),"\u250d":(Dt={},Dt[1]="M.5,.5 L.5,1",Dt[3]="M.5,.5 L1,.5",Dt),"\u250e":(vt={},vt[1]="M.5,.5 L1,.5",vt[3]="M.5,.5 L.5,1",vt),"\u2511":(Et={},Et[1]="M.5,.5 L.5,1",Et[3]="M.5,.5 L0,.5",Et),"\u2512":(pt={},pt[1]="M.5,.5 L0,.5",pt[3]="M.5,.5 L.5,1",pt),"\u2515":(xi={},xi[1]="M.5,.5 L.5,0",xi[3]="M.5,.5 L1,.5",xi),"\u2516":(Vn={},Vn[1]="M.5,.5 L1,.5",Vn[3]="M.5,.5 L.5,0",Vn),"\u2519":(to={},to[1]="M.5,.5 L.5,0",to[3]="M.5,.5 L0,.5",to),"\u251a":(no={},no[1]="M.5,.5 L0,.5",no[3]="M.5,.5 L.5,0",no),"\u251d":(ro={},ro[1]="M.5,0 L.5,1",ro[3]="M.5,.5 L1,.5",ro),"\u251e":(io={},io[1]="M0.5,1 L.5,.5 L1,.5",io[3]="M.5,.5 L.5,0",io),"\u251f":(Li={},Li[1]="M.5,0 L.5,.5 L1,.5",Li[3]="M.5,.5 L.5,1",Li),"\u2520":(er={},er[1]="M.5,.5 L1,.5",er[3]="M.5,0 L.5,1",er),"\u2521":(ai={},ai[1]="M.5,.5 L.5,1",ai[3]="M.5,0 L.5,.5 L1,.5",ai),"\u2522":(pn={},pn[1]="M.5,.5 L.5,0",pn[3]="M0.5,1 L.5,.5 L1,.5",pn),"\u2525":(oo={},oo[1]="M.5,0 L.5,1",oo[3]="M.5,.5 L0,.5",oo),"\u2526":(ui={},ui[1]="M0,.5 L.5,.5 L.5,1",ui[3]="M.5,.5 L.5,0",ui),"\u2527":(Ln={},Ln[1]="M.5,0 L.5,.5 L0,.5",Ln[3]="M.5,.5 L.5,1",Ln),"\u2528":(jr={},jr[1]="M.5,.5 L0,.5",jr[3]="M.5,0 L.5,1",jr),"\u2529":(so={},so[1]="M.5,.5 L.5,1",so[3]="M.5,0 L.5,.5 L0,.5",so),"\u252a":(Un={},Un[1]="M.5,.5 L.5,0",Un[3]="M0,.5 L.5,.5 L.5,1",Un),"\u252d":(Oi={},Oi[1]="M0.5,1 L.5,.5 L1,.5",Oi[3]="M.5,.5 L0,.5",Oi),"\u252e":(li={},li[1]="M0,.5 L.5,.5 L.5,1",li[3]="M.5,.5 L1,.5",li),"\u252f":(ao={},ao[1]="M.5,.5 L.5,1",ao[3]="M0,.5 L1,.5",ao),"\u2530":(fr={},fr[1]="M0,.5 L1,.5",fr[3]="M.5,.5 L.5,1",fr),"\u2531":(ci={},ci[1]="M.5,.5 L1,.5",ci[3]="M0,.5 L.5,.5 L.5,1",ci),"\u2532":(Pi={},Pi[1]="M.5,.5 L0,.5",Pi[3]="M0.5,1 L.5,.5 L1,.5",Pi),"\u2535":(uo={},uo[1]="M.5,0 L.5,.5 L1,.5",uo[3]="M.5,.5 L0,.5",uo),"\u2536":(Go={},Go[1]="M.5,0 L.5,.5 L0,.5",Go[3]="M.5,.5 L1,.5",Go),"\u2537":(lo={},lo[1]="M.5,.5 L.5,0",lo[3]="M0,.5 L1,.5",lo),"\u2538":(ki={},ki[1]="M0,.5 L1,.5",ki[3]="M.5,.5 L.5,0",ki),"\u2539":(co={},co[1]="M.5,.5 L1,.5",co[3]="M.5,0 L.5,.5 L0,.5",co),"\u253a":(Fi={},Fi[1]="M.5,.5 L0,.5",Fi[3]="M.5,0 L.5,.5 L1,.5",Fi),"\u253d":(fo={},fo[1]="M.5,0 L.5,1 M.5,.5 L1,.5",fo[3]="M.5,.5 L0,.5",fo),"\u253e":(ho={},ho[1]="M.5,0 L.5,1 M.5,.5 L0,.5",ho[3]="M.5,.5 L1,.5",ho),"\u253f":(tr={},tr[1]="M.5,0 L.5,1",tr[3]="M0,.5 L1,.5",tr),"\u2540":(Wn={},Wn[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Wn[3]="M.5,.5 L.5,0",Wn),"\u2541":(po={},po[1]="M.5,.5 L.5,0 M0,.5 L1,.5",po[3]="M.5,.5 L.5,1",po),"\u2542":(go={},go[1]="M0,.5 L1,.5",go[3]="M.5,0 L.5,1",go),"\u2543":(fi={},fi[1]="M0.5,1 L.5,.5 L1,.5",fi[3]="M.5,0 L.5,.5 L0,.5",fi),"\u2544":(Ct={},Ct[1]="M0,.5 L.5,.5 L.5,1",Ct[3]="M.5,0 L.5,.5 L1,.5",Ct),"\u2545":(Bi={},Bi[1]="M.5,0 L.5,.5 L1,.5",Bi[3]="M0,.5 L.5,.5 L.5,1",Bi),"\u2546":(rt={},rt[1]="M.5,0 L.5,.5 L0,.5",rt[3]="M0.5,1 L.5,.5 L1,.5",rt),"\u2547":(Vr={},Vr[1]="M.5,.5 L.5,1",Vr[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Vr),"\u2548":(_o={},_o[1]="M.5,.5 L.5,0",_o[3]="M0,.5 L1,.5 M.5,.5 L.5,1",_o),"\u2549":(_t={},_t[1]="M.5,.5 L1,.5",_t[3]="M.5,0 L.5,1 M.5,.5 L0,.5",_t),"\u254a":(ze={},ze[1]="M.5,.5 L0,.5",ze[3]="M.5,0 L.5,1 M.5,.5 L1,.5",ze),"\u254c":(qo={},qo[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",qo),"\u254d":(Pa={},Pa[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Pa),"\u2504":(wn={},wn[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",wn),"\u2505":(ka={},ka[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ka),"\u2508":(mo={},mo[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",mo),"\u2509":(Ke={},Ke[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ke),"\u254e":(en={},en[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",en),"\u254f":(yo={},yo[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",yo),"\u2506":(vs={},vs[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",vs),"\u2507":(Fa={},Fa[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Fa),"\u250a":(Ni={},Ni[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Ni),"\u250b":(Sn={},Sn[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Sn),"\u256d":(Ba={},Ba[1]="C.5,1,.5,.5,1,.5",Ba),"\u256e":(Cs={},Cs[1]="C.5,1,.5,.5,0,.5",Cs),"\u256f":(Na={},Na[1]="C.5,0,.5,.5,0,.5",Na),"\u2570":(nr={},nr[1]="C.5,0,.5,.5,1,.5",nr)},p.tryDrawCustomChar=function(we,ve,Ht,mt,le,me){var Ie=p.blockElementDefinitions[ve];if(Ie)return function(Ue,We,Je,Pt,zt,gn){for(var an=0;an<We.length;an++){var tn=We[an],gt=zt/8,En=gn/8;Ue.fillRect(Je+tn.x*gt,Pt+tn.y*En,tn.w*gt,tn.h*En)}}(we,Ie,Ht,mt,le,me),!0;var Oe=of[ve];if(Oe)return function(Ue,We,Je,Pt,zt,gn){var an,tn=el.get(We);tn||el.set(We,tn=new Map);var gt=Ue.fillStyle;if("string"!=typeof gt)throw new Error('Unexpected fillStyle type "'+gt+'"');var En=tn.get(gt);if(!En){var Ge=We[0].length,Ur=We.length,Hi=document.createElement("canvas");Hi.width=Ge,Hi.height=Ur;var hr=(0,Ju.throwIfFalsy)(Hi.getContext("2d")),Wr=new ImageData(Ge,Ur),$o=void 0,On=void 0,Gn=void 0,rl=void 0;if(gt.startsWith("#"))$o=parseInt(gt.substr(1,2),16),On=parseInt(gt.substr(3,2),16),Gn=parseInt(gt.substr(5,2),16),rl=gt.length>7&&parseInt(gt.substr(7,2),16)||1;else{if(!gt.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+gt+'" when drawing pattern glyph');$o=(an=gt.substring(5,gt.length-1).split(",").map(function(af){return parseFloat(af)}))[0],On=an[1],Gn=an[2],rl=an[3]}for(var vo=0;vo<Ur;vo++)for(var Dn=0;Dn<Ge;Dn++)Wr.data[4*(vo*Ge+Dn)]=$o,Wr.data[4*(vo*Ge+Dn)+1]=On,Wr.data[4*(vo*Ge+Dn)+2]=Gn,Wr.data[4*(vo*Ge+Dn)+3]=We[vo][Dn]*(255*rl);hr.putImageData(Wr,0,0),En=(0,Ju.throwIfFalsy)(Ue.createPattern(Hi,null)),tn.set(gt,En)}Ue.fillStyle=En,Ue.fillRect(Je,Pt,zt,gn)}(we,Oe,Ht,mt,le,me),!0;var lt=p.boxDrawingDefinitions[ve];return!!lt&&(function(Ue,We,Je,Pt,zt,gn){Ue.strokeStyle=Ue.fillStyle;for(var an=0,tn=Object.entries(We);an<tn.length;an++){var gt=tn[an],En=gt[0],Ge=gt[1];Ue.beginPath(),Ue.lineWidth=window.devicePixelRatio*Number.parseInt(En);for(var Ur=0,Hi=("function"==typeof Ge?Ge(.15,.15/gn*zt):Ge).split(" ");Ur<Hi.length;Ur++){var hr=Hi[Ur],Wr=hr[0],$o=nl[Wr];if($o){var On=hr.substring(1).split(",");On[0]&&On[1]&&$o(Ue,sf(On,zt,gn,Je,Pt))}else console.error('Could not find drawing instructions for "'+Wr+'"')}Ue.stroke(),Ue.closePath()}}(we,lt,Ht,mt,le,me),!0)};var el=new Map;function tl(we,ve,Ht){return void 0===Ht&&(Ht=0),Math.max(Math.min(we,ve),Ht)}var nl={C:function(we,ve){return we.bezierCurveTo(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5])},L:function(we,ve){return we.lineTo(ve[0],ve[1])},M:function(we,ve){return we.moveTo(ve[0],ve[1])}};function sf(we,ve,Ht,mt,le){var me=we.map(function(lt){return parseFloat(lt)||parseInt(lt)});if(me.length<2)throw new Error("Too few arguments for instruction");for(var Ie=0;Ie<me.length;Ie+=2)me[Ie]*=ve,0!==me[Ie]&&(me[Ie]=tl(Math.round(me[Ie]+.5)-.5,ve,0)),me[Ie]+=mt;for(var Oe=1;Oe<me.length;Oe+=2)me[Oe]*=Ht,0!==me[Oe]&&(me[Oe]=tl(Math.round(me[Oe]+.5)-.5,Ht,0)),me[Oe]+=le;return me}},3700:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.GridCache=void 0;var I=function(){function _(){this.cache=[]}return _.prototype.resize=function(y,d){for(var m=0;m<y;m++){this.cache.length<=m&&this.cache.push([]);for(var M=this.cache[m].length;M<d;M++)this.cache[m].push(void 0);this.cache[m].length=d}this.cache.length=y},_.prototype.clear=function(){for(var y=0;y<this.cache.length;y++)for(var d=0;d<this.cache[y].length;d++)this.cache[y][d]=void 0},_}();p.GridCache=I},5098:function(ne,p,I){var _,y=this&&this.__extends||(_=function(C,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var D in c)Object.prototype.hasOwnProperty.call(c,D)&&(u[D]=c[D])})(C,l)},function(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=C}_(C,l),C.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}),d=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},m=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.LinkRenderLayer=void 0;var M=I(1546),A=I(8803),h=I(2040),g=I(2585),E=function(C){function l(u,c,D,S,w,T,k,V){var L=C.call(this,u,"link",c,!0,D,S,k,V)||this;return w.onShowLinkUnderline(function(H){return L._onShowLinkUnderline(H)}),w.onHideLinkUnderline(function(H){return L._onHideLinkUnderline(H)}),T.onShowLinkUnderline(function(H){return L._onShowLinkUnderline(H)}),T.onHideLinkUnderline(function(H){return L._onHideLinkUnderline(H)}),L}return y(l,C),l.prototype.resize=function(u){C.prototype.resize.call(this,u),this._state=void 0},l.prototype.reset=function(){this._clearCurrentLink()},l.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var u=this._state.y2-this._state.y1-1;u>0&&this._clearCells(0,this._state.y1+1,this._state.cols,u),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},l.prototype._onShowLinkUnderline=function(u){if(this._ctx.fillStyle=u.fg===A.INVERTED_DEFAULT_COLOR?this._colors.background.css:u.fg&&(0,h.is256Color)(u.fg)?this._colors.ansi[u.fg].css:this._colors.foreground.css,u.y1===u.y2)this._fillBottomLineAtCells(u.x1,u.y1,u.x2-u.x1);else{this._fillBottomLineAtCells(u.x1,u.y1,u.cols-u.x1);for(var c=u.y1+1;c<u.y2;c++)this._fillBottomLineAtCells(0,c,u.cols);this._fillBottomLineAtCells(0,u.y2,u.x2)}this._state=u},l.prototype._onHideLinkUnderline=function(u){this._clearCurrentLink()},d([m(6,g.IBufferService),m(7,g.IOptionsService)],l)}(M.BaseRenderLayer);p.LinkRenderLayer=E},3525:function(ne,p,I){var _,y=this&&this.__extends||(_=function(w,T){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,V){k.__proto__=V}||function(k,V){for(var L in V)Object.prototype.hasOwnProperty.call(V,L)&&(k[L]=V[L])})(w,T)},function(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function k(){this.constructor=w}_(w,T),w.prototype=null===T?Object.create(T):(k.prototype=T.prototype,new k)}),d=this&&this.__decorate||function(w,T,k,V){var L,H=arguments.length,Z=H<3?T:null===V?V=Object.getOwnPropertyDescriptor(T,k):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(w,T,k,V);else for(var $=w.length-1;$>=0;$--)(L=w[$])&&(Z=(H<3?L(Z):H>3?L(T,k,Z):L(T,k))||Z);return H>3&&Z&&Object.defineProperty(T,k,Z),Z},m=this&&this.__param||function(w,T){return function(k,V){T(k,V,w)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Renderer=void 0;var M=I(9596),A=I(4149),h=I(2512),g=I(5098),E=I(844),C=I(4725),l=I(2585),u=I(1420),c=I(8460),D=1,S=function(w){function T(k,V,L,H,Z,$,z,N){var O=w.call(this)||this;return O._colors=k,O._screenElement=V,O._bufferService=$,O._charSizeService=z,O._optionsService=N,O._id=D++,O._onRequestRedraw=new c.EventEmitter,O._renderLayers=[Z.createInstance(M.TextRenderLayer,O._screenElement,0,O._colors,O._optionsService.options.allowTransparency,O._id),Z.createInstance(A.SelectionRenderLayer,O._screenElement,1,O._colors,O._id),Z.createInstance(g.LinkRenderLayer,O._screenElement,2,O._colors,O._id,L,H),Z.createInstance(h.CursorRenderLayer,O._screenElement,3,O._colors,O._id,O._onRequestRedraw)],O.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},O._devicePixelRatio=window.devicePixelRatio,O._updateDimensions(),O.onOptionsChanged(),O}return y(T,w),Object.defineProperty(T.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),T.prototype.dispose=function(){for(var k=0,V=this._renderLayers;k<V.length;k++)V[k].dispose();w.prototype.dispose.call(this),(0,u.removeTerminalFromCache)(this._id)},T.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},T.prototype.setColors=function(k){this._colors=k;for(var V=0,L=this._renderLayers;V<L.length;V++){var H=L[V];H.setColors(this._colors),H.reset()}},T.prototype.onResize=function(k,V){this._updateDimensions();for(var L=0,H=this._renderLayers;L<H.length;L++)H[L].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},T.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},T.prototype.onBlur=function(){this._runOperation(function(k){return k.onBlur()})},T.prototype.onFocus=function(){this._runOperation(function(k){return k.onFocus()})},T.prototype.onSelectionChanged=function(k,V,L){void 0===L&&(L=!1),this._runOperation(function(H){return H.onSelectionChanged(k,V,L)})},T.prototype.onCursorMove=function(){this._runOperation(function(k){return k.onCursorMove()})},T.prototype.onOptionsChanged=function(){this._runOperation(function(k){return k.onOptionsChanged()})},T.prototype.clear=function(){this._runOperation(function(k){return k.reset()})},T.prototype._runOperation=function(k){for(var V=0,L=this._renderLayers;V<L.length;V++)k(L[V])},T.prototype.renderRows=function(k,V){for(var L=0,H=this._renderLayers;L<H.length;L++)H[L].onGridChanged(k,V)},T.prototype.clearTextureAtlas=function(){for(var k=0,V=this._renderLayers;k<V.length;k++)V[k].clearTextureAtlas()},T.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},d([m(4,l.IInstantiationService),m(5,l.IBufferService),m(6,C.ICharSizeService),m(7,l.IOptionsService)],T)}(E.Disposable);p.Renderer=S},1752:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.throwIfFalsy=void 0,p.throwIfFalsy=function(I){if(!I)throw new Error("value must not be falsy");return I}},4149:function(ne,p,I){var _,y=this&&this.__extends||(_=function(g,E){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,l){C.__proto__=l}||function(C,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(C[u]=l[u])})(g,E)},function(g,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function C(){this.constructor=g}_(g,E),g.prototype=null===E?Object.create(E):(C.prototype=E.prototype,new C)}),d=this&&this.__decorate||function(g,E,C,l){var u,c=arguments.length,D=c<3?E:null===l?l=Object.getOwnPropertyDescriptor(E,C):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(g,E,C,l);else for(var S=g.length-1;S>=0;S--)(u=g[S])&&(D=(c<3?u(D):c>3?u(E,C,D):u(E,C))||D);return c>3&&D&&Object.defineProperty(E,C,D),D},m=this&&this.__param||function(g,E){return function(C,l){E(C,l,g)}};Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionRenderLayer=void 0;var M=I(1546),A=I(2585),h=function(g){function E(C,l,u,c,D,S){var w=g.call(this,C,"selection",l,!0,u,c,D,S)||this;return w._clearState(),w}return y(E,g),E.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},E.prototype.resize=function(C){g.prototype.resize.call(this,C),this._clearState()},E.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},E.prototype.onSelectionChanged=function(C,l,u){if(this._didStateChange(C,l,u,this._bufferService.buffer.ydisp))if(this._clearAll(),C&&l){var c=C[1]-this._bufferService.buffer.ydisp,D=l[1]-this._bufferService.buffer.ydisp,S=Math.max(c,0),w=Math.min(D,this._bufferService.rows-1);if(S>=this._bufferService.rows||w<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,u){var T=C[0];this._fillCells(T,S,l[0]-T,w-S+1)}else{this._fillCells(T=c===S?C[0]:0,S,(S===D?l[0]:this._bufferService.cols)-T,1);var H=Math.max(w-S-1,0);this._fillCells(0,S+1,this._bufferService.cols,H),S!==w&&this._fillCells(0,w,D===w?l[0]:this._bufferService.cols,1)}this._state.start=[C[0],C[1]],this._state.end=[l[0],l[1]],this._state.columnSelectMode=u,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},E.prototype._didStateChange=function(C,l,u,c){return!this._areCoordinatesEqual(C,this._state.start)||!this._areCoordinatesEqual(l,this._state.end)||u!==this._state.columnSelectMode||c!==this._state.ydisp},E.prototype._areCoordinatesEqual=function(C,l){return!(!C||!l)&&C[0]===l[0]&&C[1]===l[1]},d([m(4,A.IBufferService),m(5,A.IOptionsService)],E)}(M.BaseRenderLayer);p.SelectionRenderLayer=h},9596:function(ne,p,I){var _,y=this&&this.__extends||(_=function(D,S){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(w[k]=T[k])})(D,S)},function(D,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function w(){this.constructor=D}_(D,S),D.prototype=null===S?Object.create(S):(w.prototype=S.prototype,new w)}),d=this&&this.__decorate||function(D,S,w,T){var k,V=arguments.length,L=V<3?S:null===T?T=Object.getOwnPropertyDescriptor(S,w):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(D,S,w,T);else for(var H=D.length-1;H>=0;H--)(k=D[H])&&(L=(V<3?k(L):V>3?k(S,w,L):k(S,w))||L);return V>3&&L&&Object.defineProperty(S,w,L),L},m=this&&this.__param||function(D,S){return function(w,T){S(w,T,D)}};Object.defineProperty(p,"__esModule",{value:!0}),p.TextRenderLayer=void 0;var M=I(3700),A=I(1546),h=I(3734),g=I(643),E=I(511),C=I(2585),l=I(4725),u=I(4269),c=function(D){function S(w,T,k,V,L,H,Z,$){var z=D.call(this,w,"text",T,V,k,L,H,Z)||this;return z._characterJoinerService=$,z._characterWidth=0,z._characterFont="",z._characterOverlapCache={},z._workCell=new E.CellData,z._state=new M.GridCache,z}return y(S,D),S.prototype.resize=function(w){D.prototype.resize.call(this,w);var T=this._getFont(!1,!1);this._characterWidth===w.scaledCharWidth&&this._characterFont===T||(this._characterWidth=w.scaledCharWidth,this._characterFont=T,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},S.prototype.reset=function(){this._state.clear(),this._clearAll()},S.prototype._forEachCell=function(w,T,k){for(var V=w;V<=T;V++)for(var L=V+this._bufferService.buffer.ydisp,H=this._bufferService.buffer.lines.get(L),Z=this._characterJoinerService.getJoinedCharacters(L),$=0;$<this._bufferService.cols;$++){H.loadCell($,this._workCell);var z=this._workCell,N=!1,O=$;if(0!==z.getWidth()){if(Z.length>0&&$===Z[0][0]){N=!0;var U=Z.shift();z=new u.JoinedCellData(this._workCell,H.translateToString(!0,U[0],U[1]),U[1]-U[0]),O=U[1]-1}!N&&this._isOverlapping(z)&&O<H.length-1&&H.getCodePoint(O+1)===g.NULL_CELL_CODE&&(z.content&=-12582913,z.content|=2<<22),k(z,$,V),$=O}}},S.prototype._drawBackground=function(w,T){var k=this,V=this._ctx,L=this._bufferService.cols,H=0,Z=0,$=null;V.save(),this._forEachCell(w,T,function(z,N,O){var U=null;z.isInverse()?U=z.isFgDefault()?k._colors.foreground.css:z.isFgRGB()?"rgb("+h.AttributeData.toColorRGB(z.getFgColor()).join(",")+")":k._colors.ansi[z.getFgColor()].css:z.isBgRGB()?U="rgb("+h.AttributeData.toColorRGB(z.getBgColor()).join(",")+")":z.isBgPalette()&&(U=k._colors.ansi[z.getBgColor()].css),null===$&&(H=N,Z=O),O!==Z?(V.fillStyle=$||"",k._fillCells(H,Z,L-H,1),H=N,Z=O):$!==U&&(V.fillStyle=$||"",k._fillCells(H,Z,N-H,1),H=N,Z=O),$=U}),null!==$&&(V.fillStyle=$,this._fillCells(H,Z,L-H,1)),V.restore()},S.prototype._drawForeground=function(w,T){var k=this;this._forEachCell(w,T,function(V,L,H){if(!V.isInvisible()&&(k._drawChars(V,L,H),V.isUnderline()||V.isStrikethrough())){if(k._ctx.save(),V.isInverse())if(V.isBgDefault())k._ctx.fillStyle=k._colors.background.css;else if(V.isBgRGB())k._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(V.getBgColor()).join(",")+")";else{var Z=V.getBgColor();k._optionsService.options.drawBoldTextInBrightColors&&V.isBold()&&Z<8&&(Z+=8),k._ctx.fillStyle=k._colors.ansi[Z].css}else if(V.isFgDefault())k._ctx.fillStyle=k._colors.foreground.css;else if(V.isFgRGB())k._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(V.getFgColor()).join(",")+")";else{var $=V.getFgColor();k._optionsService.options.drawBoldTextInBrightColors&&V.isBold()&&$<8&&($+=8),k._ctx.fillStyle=k._colors.ansi[$].css}V.isStrikethrough()&&k._fillMiddleLineAtCells(L,H,V.getWidth()),V.isUnderline()&&k._fillBottomLineAtCells(L,H,V.getWidth()),k._ctx.restore()}})},S.prototype.onGridChanged=function(w,T){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,w,this._bufferService.cols,T-w+1),this._drawBackground(w,T),this._drawForeground(w,T))},S.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},S.prototype._isOverlapping=function(w){if(1!==w.getWidth()||w.getCode()<256)return!1;var T=w.getChars();if(this._characterOverlapCache.hasOwnProperty(T))return this._characterOverlapCache[T];this._ctx.save(),this._ctx.font=this._characterFont;var k=Math.floor(this._ctx.measureText(T).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[T]=k,k},d([m(5,C.IBufferService),m(6,C.IOptionsService),m(7,l.ICharacterJoinerService)],S)}(A.BaseRenderLayer);p.TextRenderLayer=c},9616:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BaseCharAtlas=void 0;var I=function(){function _(){this._didWarmUp=!1}return _.prototype.dispose=function(){},_.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},_.prototype._doWarmUp=function(){},_.prototype.clear=function(){},_.prototype.beginFrame=function(){},_}();p.BaseCharAtlas=I},1420:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.removeTerminalFromCache=p.acquireCharAtlas=void 0;var _=I(2040),y=I(1906),d=[];p.acquireCharAtlas=function(m,M,A,h,g){for(var E=(0,_.generateConfig)(h,g,m,A),C=0;C<d.length;C++){var l=(u=d[C]).ownedBy.indexOf(M);if(l>=0){if((0,_.configEquals)(u.config,E))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),d.splice(C,1)):u.ownedBy.splice(l,1);break}}for(C=0;C<d.length;C++){var u=d[C];if((0,_.configEquals)(u.config,E))return u.ownedBy.push(M),u.atlas}var c={atlas:new y.DynamicCharAtlas(document,E),config:E,ownedBy:[M]};return d.push(c),c.atlas},p.removeTerminalFromCache=function(m){for(var M=0;M<d.length;M++){var A=d[M].ownedBy.indexOf(m);if(-1!==A){1===d[M].ownedBy.length?(d[M].atlas.dispose(),d.splice(M,1)):d[M].ownedBy.splice(A,1);break}}}},2040:function(ne,p,I){var _=this&&this.__spreadArray||function(d,m,M){if(M||2===arguments.length)for(var A,h=0,g=m.length;h<g;h++)!A&&h in m||(A||(A=Array.prototype.slice.call(m,0,h)),A[h]=m[h]);return d.concat(A||Array.prototype.slice.call(m))};Object.defineProperty(p,"__esModule",{value:!0}),p.is256Color=p.configEquals=p.generateConfig=void 0;var y=I(643);p.generateConfig=function(d,m,M,A){var h={foreground:A.foreground,background:A.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:_([],A.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:d,scaledCharHeight:m,fontFamily:M.fontFamily,fontSize:M.fontSize,fontWeight:M.fontWeight,fontWeightBold:M.fontWeightBold,allowTransparency:M.allowTransparency,colors:h}},p.configEquals=function(d,m){for(var M=0;M<d.colors.ansi.length;M++)if(d.colors.ansi[M].rgba!==m.colors.ansi[M].rgba)return!1;return d.devicePixelRatio===m.devicePixelRatio&&d.fontFamily===m.fontFamily&&d.fontSize===m.fontSize&&d.fontWeight===m.fontWeight&&d.fontWeightBold===m.fontWeightBold&&d.allowTransparency===m.allowTransparency&&d.scaledCharWidth===m.scaledCharWidth&&d.scaledCharHeight===m.scaledCharHeight&&d.colors.foreground===m.colors.foreground&&d.colors.background===m.colors.background},p.is256Color=function(d){return d<y.DEFAULT_COLOR}},8803:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CHAR_ATLAS_CELL_SPACING=p.TEXT_BASELINE=p.DIM_OPACITY=p.INVERTED_DEFAULT_COLOR=void 0;var _=I(6114);p.INVERTED_DEFAULT_COLOR=257,p.DIM_OPACITY=.5,p.TEXT_BASELINE=_.isFirefox?"bottom":"ideographic",p.CHAR_ATLAS_CELL_SPACING=1},1906:function(ne,p,I){var _,y=this&&this.__extends||(_=function(T,k){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,L){V.__proto__=L}||function(V,L){for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&(V[H]=L[H])})(T,k)},function(T,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function V(){this.constructor=T}_(T,k),T.prototype=null===k?Object.create(k):(V.prototype=k.prototype,new V)});Object.defineProperty(p,"__esModule",{value:!0}),p.NoneCharAtlas=p.DynamicCharAtlas=p.getGlyphCacheKey=void 0;var d=I(8803),m=I(9616),M=I(5680),A=I(7001),h=I(6114),g=I(1752),E=I(4774),C=1024,l=1024,u={css:"rgba(0, 0, 0, 0)",rgba:0};function c(T){return T.code<<21|T.bg<<12|T.fg<<3|(T.bold?0:4)+(T.dim?0:2)+(T.italic?0:1)}p.getGlyphCacheKey=c;var D=function(T){function k(V,L){var H=T.call(this)||this;H._config=L,H._drawToCacheCount=0,H._glyphsWaitingOnBitmap=[],H._bitmapCommitTimeout=null,H._bitmap=null,H._cacheCanvas=V.createElement("canvas"),H._cacheCanvas.width=C,H._cacheCanvas.height=l,H._cacheCtx=(0,g.throwIfFalsy)(H._cacheCanvas.getContext("2d",{alpha:!0}));var Z=V.createElement("canvas");Z.width=H._config.scaledCharWidth,Z.height=H._config.scaledCharHeight,H._tmpCtx=(0,g.throwIfFalsy)(Z.getContext("2d",{alpha:H._config.allowTransparency})),H._width=Math.floor(C/H._config.scaledCharWidth),H._height=Math.floor(l/H._config.scaledCharHeight);var $=H._width*H._height;return H._cacheMap=new A.LRUMap($),H._cacheMap.prealloc($),H}return y(k,T),k.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},k.prototype.beginFrame=function(){this._drawToCacheCount=0},k.prototype.clear=function(){if(this._cacheMap.size>0){var V=this._width*this._height;this._cacheMap=new A.LRUMap(V),this._cacheMap.prealloc(V)}this._cacheCtx.clearRect(0,0,C,l),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},k.prototype.draw=function(V,L,H,Z){if(32===L.code)return!0;if(!this._canCache(L))return!1;var $=c(L),z=this._cacheMap.get($);if(null!=z)return this._drawFromCache(V,z,H,Z),!0;if(this._drawToCacheCount<100){var N;N=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var O=this._drawToCache(L,N);return this._cacheMap.set($,O),this._drawFromCache(V,O,H,Z),!0}return!1},k.prototype._canCache=function(V){return V.code<256},k.prototype._toCoordinateX=function(V){return V%this._width*this._config.scaledCharWidth},k.prototype._toCoordinateY=function(V){return Math.floor(V/this._width)*this._config.scaledCharHeight},k.prototype._drawFromCache=function(V,L,H,Z){if(!L.isEmpty){var $=this._toCoordinateX(L.index),z=this._toCoordinateY(L.index);V.drawImage(L.inBitmap?this._bitmap:this._cacheCanvas,$,z,this._config.scaledCharWidth,this._config.scaledCharHeight,H,Z,this._config.scaledCharWidth,this._config.scaledCharHeight)}},k.prototype._getColorFromAnsiIndex=function(V){return V<this._config.colors.ansi.length?this._config.colors.ansi[V]:M.DEFAULT_ANSI_COLORS[V]},k.prototype._getBackgroundColor=function(V){return this._config.allowTransparency?u:V.bg===d.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:V.bg<256?this._getColorFromAnsiIndex(V.bg):this._config.colors.background},k.prototype._getForegroundColor=function(V){return V.fg===d.INVERTED_DEFAULT_COLOR?E.color.opaque(this._config.colors.background):V.fg<256?this._getColorFromAnsiIndex(V.fg):this._config.colors.foreground},k.prototype._drawToCache=function(V,L){this._drawToCacheCount++,this._tmpCtx.save();var H=this._getBackgroundColor(V);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=H.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=(V.italic?"italic":"")+" "+(V.bold?this._config.fontWeightBold:this._config.fontWeight)+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=d.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(V).css,V.dim&&(this._tmpCtx.globalAlpha=d.DIM_OPACITY),this._tmpCtx.fillText(V.chars,0,this._config.scaledCharHeight);var z=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),N=!1;if(this._config.allowTransparency||(N=w(z,H)),N&&"_"===V.chars&&!this._config.allowTransparency)for(var O=1;O<=5&&(this._tmpCtx.fillText(V.chars,0,this._config.scaledCharHeight-O),N=w(z=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),H));O++);this._tmpCtx.restore();var U=this._toCoordinateX(L),Y=this._toCoordinateY(L);this._cacheCtx.putImageData(z,U,Y);var ie={index:L,isEmpty:N,inBitmap:!1};return this._addGlyphToBitmap(ie),ie},k.prototype._addGlyphToBitmap=function(V){var L=this;!("createImageBitmap"in window)||h.isFirefox||h.isSafari||(this._glyphsWaitingOnBitmap.push(V),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return L._generateBitmap()},100)))},k.prototype._generateBitmap=function(){var V=this,L=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(H){V._bitmap=H;for(var Z=0;Z<L.length;Z++)L[Z].inBitmap=!0}),this._bitmapCommitTimeout=null},k}(m.BaseCharAtlas);p.DynamicCharAtlas=D;var S=function(T){function k(V,L){return T.call(this)||this}return y(k,T),k.prototype.draw=function(V,L,H,Z){return!1},k}(m.BaseCharAtlas);function w(T,k){for(var V=!0,L=k.rgba>>>24,H=k.rgba>>>16&255,Z=k.rgba>>>8&255,$=0;$<T.data.length;$+=4)T.data[$]===L&&T.data[$+1]===H&&T.data[$+2]===Z?T.data[$+3]=0:V=!1;return V}p.NoneCharAtlas=S},7001:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.LRUMap=void 0;var I=function(){function _(y){this.capacity=y,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return _.prototype._unlinkNode=function(y){var d=y.prev,m=y.next;y===this._head&&(this._head=m),y===this._tail&&(this._tail=d),null!==d&&(d.next=m),null!==m&&(m.prev=d)},_.prototype._appendNode=function(y){var d=this._tail;null!==d&&(d.next=y),y.prev=d,y.next=null,this._tail=y,null===this._head&&(this._head=y)},_.prototype.prealloc=function(y){for(var d=this._nodePool,m=0;m<y;m++)d.push({prev:null,next:null,key:null,value:null})},_.prototype.get=function(y){var d=this._map[y];return void 0!==d?(this._unlinkNode(d),this._appendNode(d),d.value):null},_.prototype.peekValue=function(y){var d=this._map[y];return void 0!==d?d.value:null},_.prototype.peek=function(){var y=this._head;return null===y?null:y.value},_.prototype.set=function(y,d){var m=this._map[y];if(void 0!==m)this._unlinkNode(m=this._map[y]),m.value=d;else if(this.size>=this.capacity)this._unlinkNode(m=this._head),delete this._map[m.key],m.key=y,m.value=d,this._map[y]=m;else{var M=this._nodePool;M.length>0?((m=M.pop()).key=y,m.value=d):m={prev:null,next:null,key:y,value:d},this._map[y]=m,this.size++}this._appendNode(m)},_}();p.LRUMap=I},1296:function(ne,p,I){var _,y=this&&this.__extends||(_=function(V,L){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,Z){H.__proto__=Z}||function(H,Z){for(var $ in Z)Object.prototype.hasOwnProperty.call(Z,$)&&(H[$]=Z[$])})(V,L)},function(V,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function H(){this.constructor=V}_(V,L),V.prototype=null===L?Object.create(L):(H.prototype=L.prototype,new H)}),d=this&&this.__decorate||function(V,L,H,Z){var $,z=arguments.length,N=z<3?L:null===Z?Z=Object.getOwnPropertyDescriptor(L,H):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(V,L,H,Z);else for(var O=V.length-1;O>=0;O--)($=V[O])&&(N=(z<3?$(N):z>3?$(L,H,N):$(L,H))||N);return z>3&&N&&Object.defineProperty(L,H,N),N},m=this&&this.__param||function(V,L){return function(H,Z){L(H,Z,V)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRenderer=void 0;var M=I(3787),A=I(8803),h=I(844),g=I(4725),E=I(2585),C=I(8460),l=I(4774),u=I(9631),c="xterm-dom-renderer-owner-",D="xterm-fg-",S="xterm-bg-",w="xterm-focus",T=1,k=function(V){function L(H,Z,$,z,N,O,U,Y,ie,pe){var _e=V.call(this)||this;return _e._colors=H,_e._element=Z,_e._screenElement=$,_e._viewportElement=z,_e._linkifier=N,_e._linkifier2=O,_e._charSizeService=Y,_e._optionsService=ie,_e._bufferService=pe,_e._terminalClass=T++,_e._rowElements=[],_e._rowContainer=document.createElement("div"),_e._rowContainer.classList.add("xterm-rows"),_e._rowContainer.style.lineHeight="normal",_e._rowContainer.setAttribute("aria-hidden","true"),_e._refreshRowElements(_e._bufferService.cols,_e._bufferService.rows),_e._selectionContainer=document.createElement("div"),_e._selectionContainer.classList.add("xterm-selection"),_e._selectionContainer.setAttribute("aria-hidden","true"),_e.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},_e._updateDimensions(),_e._injectCss(),_e._rowFactory=U.createInstance(M.DomRendererRowFactory,document,_e._colors),_e._element.classList.add(c+_e._terminalClass),_e._screenElement.appendChild(_e._rowContainer),_e._screenElement.appendChild(_e._selectionContainer),_e._linkifier.onShowLinkUnderline(function(Ee){return _e._onLinkHover(Ee)}),_e._linkifier.onHideLinkUnderline(function(Ee){return _e._onLinkLeave(Ee)}),_e._linkifier2.onShowLinkUnderline(function(Ee){return _e._onLinkHover(Ee)}),_e._linkifier2.onHideLinkUnderline(function(Ee){return _e._onLinkLeave(Ee)}),_e}return y(L,V),Object.defineProperty(L.prototype,"onRequestRedraw",{get:function(){return(new C.EventEmitter).event},enumerable:!1,configurable:!0}),L.prototype.dispose=function(){this._element.classList.remove(c+this._terminalClass),(0,u.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),V.prototype.dispose.call(this)},L.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var H=0,Z=this._rowElements;H<Z.length;H++){var $=Z[H];$.style.width=this.dimensions.canvasWidth+"px",$.style.height=this.dimensions.actualCellHeight+"px",$.style.lineHeight=this.dimensions.actualCellHeight+"px",$.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}",this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},L.prototype.setColors=function(H){this._colors=H,this._injectCss()},L.prototype._injectCss=function(){var H=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var Z=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";Z+=this._terminalSelector+" span:not(."+M.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+M.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+M.ITALIC_CLASS+" { font-style: italic;}",Z+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",Z+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",Z+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+M.CURSOR_CLASS+"."+M.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+M.CURSOR_CLASS+"."+M.CURSOR_BLINK_CLASS+":not(."+M.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+M.CURSOR_CLASS+"."+M.CURSOR_BLINK_CLASS+"."+M.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+M.CURSOR_CLASS+"."+M.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+M.CURSOR_CLASS+"."+M.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+M.CURSOR_CLASS+"."+M.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",Z+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function($,z){Z+=H._terminalSelector+" ."+D+z+" { color: "+$.css+"; }"+H._terminalSelector+" ."+S+z+" { background-color: "+$.css+"; }"}),Z+=this._terminalSelector+" ."+D+A.INVERTED_DEFAULT_COLOR+" { color: "+l.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+S+A.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=Z},L.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},L.prototype._refreshRowElements=function(H,Z){for(var $=this._rowElements.length;$<=Z;$++){var z=document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>Z;)this._rowContainer.removeChild(this._rowElements.pop())},L.prototype.onResize=function(H,Z){this._refreshRowElements(H,Z),this._updateDimensions()},L.prototype.onCharSizeChanged=function(){this._updateDimensions()},L.prototype.onBlur=function(){this._rowContainer.classList.remove(w)},L.prototype.onFocus=function(){this._rowContainer.classList.add(w)},L.prototype.onSelectionChanged=function(H,Z,$){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(H&&Z){var z=H[1]-this._bufferService.buffer.ydisp,N=Z[1]-this._bufferService.buffer.ydisp,O=Math.max(z,0),U=Math.min(N,this._bufferService.rows-1);if(!(O>=this._bufferService.rows||U<0)){var Y=document.createDocumentFragment();$?Y.appendChild(this._createSelectionElement(O,H[0],Z[0],U-O+1)):(Y.appendChild(this._createSelectionElement(O,z===O?H[0]:0,O===N?Z[0]:this._bufferService.cols)),Y.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,U-O-1)),O!==U&&Y.appendChild(this._createSelectionElement(U,0,N===U?Z[0]:this._bufferService.cols))),this._selectionContainer.appendChild(Y)}}},L.prototype._createSelectionElement=function(H,Z,$,z){void 0===z&&(z=1);var N=document.createElement("div");return N.style.height=z*this.dimensions.actualCellHeight+"px",N.style.top=H*this.dimensions.actualCellHeight+"px",N.style.left=Z*this.dimensions.actualCellWidth+"px",N.style.width=this.dimensions.actualCellWidth*($-Z)+"px",N},L.prototype.onCursorMove=function(){},L.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},L.prototype.clear=function(){for(var H=0,Z=this._rowElements;H<Z.length;H++)Z[H].innerText=""},L.prototype.renderRows=function(H,Z){for(var $=this._bufferService.buffer.ybase+this._bufferService.buffer.y,z=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),N=this._optionsService.options.cursorBlink,O=H;O<=Z;O++){var U=this._rowElements[O];U.innerText="";var Y=O+this._bufferService.buffer.ydisp,ie=this._bufferService.buffer.lines.get(Y);U.appendChild(this._rowFactory.createRow(ie,Y,Y===$,this._optionsService.options.cursorStyle,z,N,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(L.prototype,"_terminalSelector",{get:function(){return"."+c+this._terminalClass},enumerable:!1,configurable:!0}),L.prototype._onLinkHover=function(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)},L.prototype._onLinkLeave=function(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)},L.prototype._setCellUnderline=function(H,Z,$,z,N,O){for(;H!==Z||$!==z;){var U=this._rowElements[$];if(!U)return;var Y=U.children[H];Y&&(Y.style.textDecoration=O?"underline":"none"),++H>=N&&(H=0,$++)}},d([m(6,E.IInstantiationService),m(7,g.ICharSizeService),m(8,E.IOptionsService),m(9,E.IBufferService)],L)}(h.Disposable);p.DomRenderer=k},3787:function(ne,p,I){var _=this&&this.__decorate||function(u,c,D,S){var w,T=arguments.length,k=T<3?c:null===S?S=Object.getOwnPropertyDescriptor(c,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(u,c,D,S);else for(var V=u.length-1;V>=0;V--)(w=u[V])&&(k=(T<3?w(k):T>3?w(c,D,k):w(c,D))||k);return T>3&&k&&Object.defineProperty(c,D,k),k},y=this&&this.__param||function(u,c){return function(D,S){c(D,S,u)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRendererRowFactory=p.CURSOR_STYLE_UNDERLINE_CLASS=p.CURSOR_STYLE_BAR_CLASS=p.CURSOR_STYLE_BLOCK_CLASS=p.CURSOR_BLINK_CLASS=p.CURSOR_CLASS=p.STRIKETHROUGH_CLASS=p.UNDERLINE_CLASS=p.ITALIC_CLASS=p.DIM_CLASS=p.BOLD_CLASS=void 0;var d=I(8803),m=I(643),M=I(511),A=I(2585),h=I(4774),g=I(4725),E=I(4269);p.BOLD_CLASS="xterm-bold",p.DIM_CLASS="xterm-dim",p.ITALIC_CLASS="xterm-italic",p.UNDERLINE_CLASS="xterm-underline",p.STRIKETHROUGH_CLASS="xterm-strikethrough",p.CURSOR_CLASS="xterm-cursor",p.CURSOR_BLINK_CLASS="xterm-cursor-blink",p.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",p.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",p.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var C=function(){function u(c,D,S,w,T){this._document=c,this._colors=D,this._characterJoinerService=S,this._optionsService=w,this._coreService=T,this._workCell=new M.CellData}return u.prototype.setColors=function(c){this._colors=c},u.prototype.createRow=function(c,D,S,w,T,k,V,L){for(var H=this._document.createDocumentFragment(),Z=this._characterJoinerService.getJoinedCharacters(D),$=0,z=Math.min(c.length,L)-1;z>=0;z--)if(c.loadCell(z,this._workCell).getCode()!==m.NULL_CELL_CODE||S&&z===T){$=z+1;break}for(z=0;z<$;z++){c.loadCell(z,this._workCell);var N=this._workCell.getWidth();if(0!==N){var O=!1,U=z,Y=this._workCell;if(Z.length>0&&z===Z[0][0]){O=!0;var ie=Z.shift();Y=new E.JoinedCellData(this._workCell,c.translateToString(!0,ie[0],ie[1]),ie[1]-ie[0]),U=ie[1]-1,N=Y.getWidth()}var pe=this._document.createElement("span");if(N>1&&(pe.style.width=V*N+"px"),O&&(pe.style.display="inline",T>=z&&T<=U&&(T=z)),!this._coreService.isCursorHidden&&S&&z===T)switch(pe.classList.add(p.CURSOR_CLASS),k&&pe.classList.add(p.CURSOR_BLINK_CLASS),w){case"bar":pe.classList.add(p.CURSOR_STYLE_BAR_CLASS);break;case"underline":pe.classList.add(p.CURSOR_STYLE_UNDERLINE_CLASS);break;default:pe.classList.add(p.CURSOR_STYLE_BLOCK_CLASS)}Y.isBold()&&pe.classList.add(p.BOLD_CLASS),Y.isItalic()&&pe.classList.add(p.ITALIC_CLASS),Y.isDim()&&pe.classList.add(p.DIM_CLASS),Y.isUnderline()&&pe.classList.add(p.UNDERLINE_CLASS),pe.textContent=Y.isInvisible()?m.WHITESPACE_CELL_CHAR:Y.getChars()||m.WHITESPACE_CELL_CHAR,Y.isStrikethrough()&&pe.classList.add(p.STRIKETHROUGH_CLASS);var _e=Y.getFgColor(),Ee=Y.getFgColorMode(),Re=Y.getBgColor(),xe=Y.getBgColorMode(),q=!!Y.isInverse();if(q){var J=_e;_e=Re,Re=J;var re=Ee;Ee=xe,xe=re}switch(Ee){case 16777216:case 33554432:Y.isBold()&&_e<8&&this._optionsService.options.drawBoldTextInBrightColors&&(_e+=8),this._applyMinimumContrast(pe,this._colors.background,this._colors.ansi[_e])||pe.classList.add("xterm-fg-"+_e);break;case 50331648:var ue=h.rgba.toColor(_e>>16&255,_e>>8&255,255&_e);this._applyMinimumContrast(pe,this._colors.background,ue)||this._addStyle(pe,"color:#"+l(_e.toString(16),"0",6));break;default:this._applyMinimumContrast(pe,this._colors.background,this._colors.foreground)||q&&pe.classList.add("xterm-fg-"+d.INVERTED_DEFAULT_COLOR)}switch(xe){case 16777216:case 33554432:pe.classList.add("xterm-bg-"+Re);break;case 50331648:this._addStyle(pe,"background-color:#"+l(Re.toString(16),"0",6));break;default:q&&pe.classList.add("xterm-bg-"+d.INVERTED_DEFAULT_COLOR)}H.appendChild(pe),z=U}}return H},u.prototype._applyMinimumContrast=function(c,D,S){if(1===this._optionsService.options.minimumContrastRatio)return!1;var w=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===w&&(w=h.color.ensureContrastRatio(D,S,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=w?w:null)),!!w&&(this._addStyle(c,"color:"+w.css),!0)},u.prototype._addStyle=function(c,D){c.setAttribute("style",""+(c.getAttribute("style")||"")+D+";")},_([y(2,g.ICharacterJoinerService),y(3,A.IOptionsService),y(4,A.ICoreService)],u)}();function l(u,c,D){for(;u.length<D;)u=c+u;return u}p.DomRendererRowFactory=C},456:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionModel=void 0;var I=function(){function _(y){this._bufferService=y,this.isSelectAllActive=!1,this.selectionStartLength=0}return _.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(_.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var y=this.selectionStart[0]+this.selectionStartLength;return y>this._bufferService.cols?y%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(y/this._bufferService.cols)-1]:[y%this._bufferService.cols,this.selectionStart[1]+Math.floor(y/this._bufferService.cols)]:[y,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),_.prototype.areSelectionValuesReversed=function(){var y=this.selectionStart,d=this.selectionEnd;return!(!y||!d)&&(y[1]>d[1]||y[1]===d[1]&&y[0]>d[0])},_.prototype.onTrim=function(y){return this.selectionStart&&(this.selectionStart[1]-=y),this.selectionEnd&&(this.selectionEnd[1]-=y),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},_}();p.SelectionModel=I},428:function(ne,p,I){var _=this&&this.__decorate||function(h,g,E,C){var l,u=arguments.length,c=u<3?g:null===C?C=Object.getOwnPropertyDescriptor(g,E):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,g,E,C);else for(var D=h.length-1;D>=0;D--)(l=h[D])&&(c=(u<3?l(c):u>3?l(g,E,c):l(g,E))||c);return u>3&&c&&Object.defineProperty(g,E,c),c},y=this&&this.__param||function(h,g){return function(E,C){g(E,C,h)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharSizeService=void 0;var d=I(2585),m=I(8460),M=function(){function h(g,E,C){this._optionsService=C,this.width=0,this.height=0,this._onCharSizeChange=new m.EventEmitter,this._measureStrategy=new A(g,E,this._optionsService)}return Object.defineProperty(h.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),h.prototype.measure=function(){var g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())},_([y(2,d.IOptionsService)],h)}();p.CharSizeService=M;var A=function(){function h(g,E,C){this._document=g,this._parentElement=E,this._optionsService=C,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return h.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var g=this._measureElement.getBoundingClientRect();return 0!==g.width&&0!==g.height&&(this._result.width=g.width,this._result.height=Math.ceil(g.height)),this._result},h}()},4269:function(ne,p,I){var _,y=this&&this.__extends||(_=function(l,u){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,D){c.__proto__=D}||function(c,D){for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(c[S]=D[S])})(l,u)},function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=l}_(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)}),d=this&&this.__decorate||function(l,u,c,D){var S,w=arguments.length,T=w<3?u:null===D?D=Object.getOwnPropertyDescriptor(u,c):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(l,u,c,D);else for(var k=l.length-1;k>=0;k--)(S=l[k])&&(T=(w<3?S(T):w>3?S(u,c,T):S(u,c))||T);return w>3&&T&&Object.defineProperty(u,c,T),T},m=this&&this.__param||function(l,u){return function(c,D){u(c,D,l)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharacterJoinerService=p.JoinedCellData=void 0;var M=I(3734),A=I(643),h=I(511),g=I(2585),E=function(l){function u(c,D,S){var w=l.call(this)||this;return w.content=0,w.combinedData="",w.fg=c.fg,w.bg=c.bg,w.combinedData=D,w._width=S,w}return y(u,l),u.prototype.isCombined=function(){return 2097152},u.prototype.getWidth=function(){return this._width},u.prototype.getChars=function(){return this.combinedData},u.prototype.getCode=function(){return 2097151},u.prototype.setFromCharData=function(c){throw new Error("not implemented")},u.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},u}(M.AttributeData);p.JoinedCellData=E;var C=function(){function l(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new h.CellData}return l.prototype.register=function(u){var c={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(c),c.id},l.prototype.deregister=function(u){for(var c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===u)return this._characterJoiners.splice(c,1),!0;return!1},l.prototype.getJoinedCharacters=function(u){if(0===this._characterJoiners.length)return[];var c=this._bufferService.buffer.lines.get(u);if(!c||0===c.length)return[];for(var D=[],S=c.translateToString(!0),w=0,T=0,k=0,V=c.getFg(0),L=c.getBg(0),H=0;H<c.getTrimmedLength();H++)if(c.loadCell(H,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==V||this._workCell.bg!==L){if(H-w>1)for(var Z=this._getJoinedRanges(S,k,T,c,w),$=0;$<Z.length;$++)D.push(Z[$]);w=H,k=T,V=this._workCell.fg,L=this._workCell.bg}T+=this._workCell.getChars().length||A.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1)for(Z=this._getJoinedRanges(S,k,T,c,w),$=0;$<Z.length;$++)D.push(Z[$]);return D},l.prototype._getJoinedRanges=function(u,c,D,S,w){var T=u.substring(c,D),k=[];try{k=this._characterJoiners[0].handler(T)}catch(Z){console.error(Z)}for(var V=1;V<this._characterJoiners.length;V++)try{for(var L=this._characterJoiners[V].handler(T),H=0;H<L.length;H++)l._mergeRanges(k,L[H])}catch(Z){console.error(Z)}return this._stringRangesToCellRanges(k,S,w),k},l.prototype._stringRangesToCellRanges=function(u,c,D){var S=0,w=!1,T=0,k=u[S];if(k){for(var V=D;V<this._bufferService.cols;V++){var L=c.getWidth(V),H=c.getString(V).length||A.WHITESPACE_CELL_CHAR.length;if(0!==L){if(!w&&k[0]<=T&&(k[0]=V,w=!0),k[1]<=T){if(k[1]=V,!(k=u[++S]))break;k[0]<=T?(k[0]=V,w=!0):w=!1}T+=H}}k&&(k[1]=this._bufferService.cols)}},l._mergeRanges=function(u,c){for(var D=!1,S=0;S<u.length;S++){var w=u[S];if(D){if(c[1]<=w[0])return u[S-1][1]=c[1],u;if(c[1]<=w[1])return u[S-1][1]=Math.max(c[1],w[1]),u.splice(S,1),u;u.splice(S,1),S--}else{if(c[1]<=w[0])return u.splice(S,0,c),u;if(c[1]<=w[1])return w[0]=Math.min(c[0],w[0]),u;c[0]<w[1]&&(w[0]=Math.min(c[0],w[0]),D=!0)}}return D?u[u.length-1][1]=c[1]:u.push(c),u},l=d([m(0,g.IBufferService)],l)}();p.CharacterJoinerService=C},5114:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CoreBrowserService=void 0;var I=function(){function _(y){this._textarea=y}return Object.defineProperty(_.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),_}();p.CoreBrowserService=I},8934:function(ne,p,I){var _=this&&this.__decorate||function(A,h,g,E){var C,l=arguments.length,u=l<3?h:null===E?E=Object.getOwnPropertyDescriptor(h,g):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(A,h,g,E);else for(var c=A.length-1;c>=0;c--)(C=A[c])&&(u=(l<3?C(u):l>3?C(h,g,u):C(h,g))||u);return l>3&&u&&Object.defineProperty(h,g,u),u},y=this&&this.__param||function(A,h){return function(g,E){h(g,E,A)}};Object.defineProperty(p,"__esModule",{value:!0}),p.MouseService=void 0;var d=I(4725),m=I(9806),M=function(){function A(h,g){this._renderService=h,this._charSizeService=g}return A.prototype.getCoords=function(h,g,E,C,l){return(0,m.getCoords)(h,g,E,C,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,l)},A.prototype.getRawByteCoords=function(h,g,E,C){var l=this.getCoords(h,g,E,C);return(0,m.getRawByteCoords)(l)},_([y(0,d.IRenderService),y(1,d.ICharSizeService)],A)}();p.MouseService=M},3230:function(ne,p,I){var _,y=this&&this.__extends||(_=function(c,D){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(S[T]=w[T])})(c,D)},function(c,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function S(){this.constructor=c}_(c,D),c.prototype=null===D?Object.create(D):(S.prototype=D.prototype,new S)}),d=this&&this.__decorate||function(c,D,S,w){var T,k=arguments.length,V=k<3?D:null===w?w=Object.getOwnPropertyDescriptor(D,S):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(c,D,S,w);else for(var L=c.length-1;L>=0;L--)(T=c[L])&&(V=(k<3?T(V):k>3?T(D,S,V):T(D,S))||V);return k>3&&V&&Object.defineProperty(D,S,V),V},m=this&&this.__param||function(c,D){return function(S,w){D(S,w,c)}};Object.defineProperty(p,"__esModule",{value:!0}),p.RenderService=void 0;var M=I(6193),A=I(8460),h=I(844),g=I(5596),E=I(3656),C=I(2585),l=I(4725),u=function(c){function D(S,w,T,k,V,L){var H=c.call(this)||this;if(H._renderer=S,H._rowCount=w,H._charSizeService=V,H._isPaused=!1,H._needsFullRefresh=!1,H._isNextRenderRedrawOnly=!0,H._needsSelectionRefresh=!1,H._canvasWidth=0,H._canvasHeight=0,H._selectionState={start:void 0,end:void 0,columnSelectMode:!1},H._onDimensionsChange=new A.EventEmitter,H._onRender=new A.EventEmitter,H._onRefreshRequest=new A.EventEmitter,H.register({dispose:function(){return H._renderer.dispose()}}),H._renderDebouncer=new M.RenderDebouncer(function($,z){return H._renderRows($,z)}),H.register(H._renderDebouncer),H._screenDprMonitor=new g.ScreenDprMonitor,H._screenDprMonitor.setListener(function(){return H.onDevicePixelRatioChange()}),H.register(H._screenDprMonitor),H.register(L.onResize(function($){return H._fullRefresh()})),H.register(k.onOptionChange(function(){return H._renderer.onOptionsChanged()})),H.register(H._charSizeService.onCharSizeChange(function(){return H.onCharSizeChanged()})),H._renderer.onRequestRedraw(function($){return H.refreshRows($.start,$.end,!0)}),H.register((0,E.addDisposableDomListener)(window,"resize",function(){return H.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var Z=new IntersectionObserver(function($){return H._onIntersectionChange($[$.length-1])},{threshold:0});Z.observe(T),H.register({dispose:function(){return Z.disconnect()}})}return H}return y(D,c),Object.defineProperty(D.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),D.prototype._onIntersectionChange=function(S){this._isPaused=void 0===S.isIntersecting?0===S.intersectionRatio:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},D.prototype.refreshRows=function(S,w,T){void 0===T&&(T=!1),this._isPaused?this._needsFullRefresh=!0:(T||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,w,this._rowCount))},D.prototype._renderRows=function(S,w){this._renderer.renderRows(S,w),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:S,end:w}),this._isNextRenderRedrawOnly=!0},D.prototype.resize=function(S,w){this._rowCount=w,this._fireOnCanvasResize()},D.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},D.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},D.prototype.dispose=function(){c.prototype.dispose.call(this)},D.prototype.setRenderer=function(S){var w=this;this._renderer.dispose(),this._renderer=S,this._renderer.onRequestRedraw(function(T){return w.refreshRows(T.start,T.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},D.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},D.prototype.clearTextureAtlas=function(){var S,w;null===(w=null===(S=this._renderer)||void 0===S?void 0:S.clearTextureAtlas)||void 0===w||w.call(S),this._fullRefresh()},D.prototype.setColors=function(S){this._renderer.setColors(S),this._fullRefresh()},D.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},D.prototype.onResize=function(S,w){this._renderer.onResize(S,w),this._fullRefresh()},D.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},D.prototype.onBlur=function(){this._renderer.onBlur()},D.prototype.onFocus=function(){this._renderer.onFocus()},D.prototype.onSelectionChanged=function(S,w,T){this._selectionState.start=S,this._selectionState.end=w,this._selectionState.columnSelectMode=T,this._renderer.onSelectionChanged(S,w,T)},D.prototype.onCursorMove=function(){this._renderer.onCursorMove()},D.prototype.clear=function(){this._renderer.clear()},d([m(3,C.IOptionsService),m(4,l.ICharSizeService),m(5,C.IBufferService)],D)}(h.Disposable);p.RenderService=u},9312:function(ne,p,I){var _,y=this&&this.__extends||(_=function(k,V){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,H){L.__proto__=H}||function(L,H){for(var Z in H)Object.prototype.hasOwnProperty.call(H,Z)&&(L[Z]=H[Z])})(k,V)},function(k,V){if("function"!=typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function L(){this.constructor=k}_(k,V),k.prototype=null===V?Object.create(V):(L.prototype=V.prototype,new L)}),d=this&&this.__decorate||function(k,V,L,H){var Z,$=arguments.length,z=$<3?V:null===H?H=Object.getOwnPropertyDescriptor(V,L):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(k,V,L,H);else for(var N=k.length-1;N>=0;N--)(Z=k[N])&&(z=($<3?Z(z):$>3?Z(V,L,z):Z(V,L))||z);return $>3&&z&&Object.defineProperty(V,L,z),z},m=this&&this.__param||function(k,V){return function(L,H){V(L,H,k)}};Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionService=void 0;var M=I(6114),A=I(456),h=I(511),g=I(8460),E=I(4725),C=I(2585),l=I(9806),u=I(9504),c=I(844),D=I(4841),S=String.fromCharCode(160),w=new RegExp(S,"g"),T=function(k){function V(L,H,Z,$,z,N,O,U){var Y=k.call(this)||this;return Y._element=L,Y._screenElement=H,Y._linkifier=Z,Y._bufferService=$,Y._coreService=z,Y._mouseService=N,Y._optionsService=O,Y._renderService=U,Y._dragScrollAmount=0,Y._enabled=!0,Y._workCell=new h.CellData,Y._mouseDownTimeStamp=0,Y._oldHasSelection=!1,Y._oldSelectionStart=void 0,Y._oldSelectionEnd=void 0,Y._onLinuxMouseSelection=Y.register(new g.EventEmitter),Y._onRedrawRequest=Y.register(new g.EventEmitter),Y._onSelectionChange=Y.register(new g.EventEmitter),Y._onRequestScrollLines=Y.register(new g.EventEmitter),Y._mouseMoveListener=function(ie){return Y._onMouseMove(ie)},Y._mouseUpListener=function(ie){return Y._onMouseUp(ie)},Y._coreService.onUserInput(function(){Y.hasSelection&&Y.clearSelection()}),Y._trimListener=Y._bufferService.buffer.lines.onTrim(function(ie){return Y._onTrim(ie)}),Y.register(Y._bufferService.buffers.onBufferActivate(function(ie){return Y._onBufferActivate(ie)})),Y.enable(),Y._model=new A.SelectionModel(Y._bufferService),Y._activeSelectionMode=0,Y}return y(V,k),Object.defineProperty(V.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),V.prototype.dispose=function(){this._removeMouseDownListeners()},V.prototype.reset=function(){this.clearSelection()},V.prototype.disable=function(){this.clearSelection(),this._enabled=!1},V.prototype.enable=function(){this._enabled=!0},Object.defineProperty(V.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"hasSelection",{get:function(){var L=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!(!L||!H||L[0]===H[0]&&L[1]===H[1])},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"selectionText",{get:function(){var L=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;if(!L||!H)return"";var Z=this._bufferService.buffer,$=[];if(3===this._activeSelectionMode){if(L[0]===H[0])return"";for(var z=L[1];z<=H[1];z++){var N=Z.translateBufferLineToString(z,!0,L[0],H[0]);$.push(N)}}else{for($.push(Z.translateBufferLineToString(L[1],!0,L[0],L[1]===H[1]?H[0]:void 0)),z=L[1]+1;z<=H[1]-1;z++){var U=Z.lines.get(z);N=Z.translateBufferLineToString(z,!0),(null==U?void 0:U.isWrapped)?$[$.length-1]+=N:$.push(N)}L[1]!==H[1]&&(U=Z.lines.get(H[1]),N=Z.translateBufferLineToString(H[1],!0,0,H[0]),U&&U.isWrapped?$[$.length-1]+=N:$.push(N))}return $.map(function(Y){return Y.replace(w," ")}).join(M.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),V.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},V.prototype.refresh=function(L){var H=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return H._refresh()})),M.isLinux&&L&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},V.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},V.prototype._isClickInSelection=function(L){var H=this._getMouseBufferCoords(L),Z=this._model.finalSelectionStart,$=this._model.finalSelectionEnd;return!!(Z&&$&&H)&&this._areCoordsInSelection(H,Z,$)},V.prototype._areCoordsInSelection=function(L,H,Z){return L[1]>H[1]&&L[1]<Z[1]||H[1]===Z[1]&&L[1]===H[1]&&L[0]>=H[0]&&L[0]<Z[0]||H[1]<Z[1]&&L[1]===Z[1]&&L[0]<Z[0]||H[1]<Z[1]&&L[1]===H[1]&&L[0]>=H[0]},V.prototype._selectWordAtCursor=function(L,H){var Z,$,z=null===($=null===(Z=this._linkifier.currentLink)||void 0===Z?void 0:Z.link)||void 0===$?void 0:$.range;if(z)return this._model.selectionStart=[z.start.x-1,z.start.y-1],this._model.selectionStartLength=(0,D.getRangeLength)(z,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var N=this._getMouseBufferCoords(L);return!!N&&(this._selectWordAt(N,H),this._model.selectionEnd=void 0,!0)},V.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},V.prototype.selectLines=function(L,H){this._model.clearSelection(),L=Math.max(L,0),H=Math.min(H,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,L],this._model.selectionEnd=[this._bufferService.cols,H],this.refresh(),this._onSelectionChange.fire()},V.prototype._onTrim=function(L){this._model.onTrim(L)&&this.refresh()},V.prototype._getMouseBufferCoords=function(L){var H=this._mouseService.getCoords(L,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(H)return H[0]--,H[1]--,H[1]+=this._bufferService.buffer.ydisp,H},V.prototype._getMouseEventScrollAmount=function(L){var H=(0,l.getCoordsRelativeToElement)(L,this._screenElement)[1],Z=this._renderService.dimensions.canvasHeight;return H>=0&&H<=Z?0:(H>Z&&(H-=Z),H=Math.min(Math.max(H,-50),50),(H/=50)/Math.abs(H)+Math.round(14*H))},V.prototype.shouldForceSelection=function(L){return M.isMac?L.altKey&&this._optionsService.options.macOptionClickForcesSelection:L.shiftKey},V.prototype.onMouseDown=function(L){if(this._mouseDownTimeStamp=L.timeStamp,(2!==L.button||!this.hasSelection)&&0===L.button){if(!this._enabled){if(!this.shouldForceSelection(L))return;L.stopPropagation()}L.preventDefault(),this._dragScrollAmount=0,this._enabled&&L.shiftKey?this._onIncrementalClick(L):1===L.detail?this._onSingleClick(L):2===L.detail?this._onDoubleClick(L):3===L.detail&&this._onTripleClick(L),this._addMouseDownListeners(),this.refresh(!0)}},V.prototype._addMouseDownListeners=function(){var L=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return L._dragScroll()},50)},V.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},V.prototype._onIncrementalClick=function(L){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(L))},V.prototype._onSingleClick=function(L){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(L)?3:0,this._model.selectionStart=this._getMouseBufferCoords(L),this._model.selectionStart){this._model.selectionEnd=void 0;var H=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);H&&H.length!==this._model.selectionStart[0]&&0===H.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},V.prototype._onDoubleClick=function(L){this._selectWordAtCursor(L,!0)&&(this._activeSelectionMode=1)},V.prototype._onTripleClick=function(L){var H=this._getMouseBufferCoords(L);H&&(this._activeSelectionMode=2,this._selectLineAt(H[1]))},V.prototype.shouldColumnSelect=function(L){return L.altKey&&!(M.isMac&&this._optionsService.options.macOptionClickForcesSelection)},V.prototype._onMouseMove=function(L){if(L.stopImmediatePropagation(),this._model.selectionStart){var H=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(L),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(L),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var Z=this._bufferService.buffer;if(this._model.selectionEnd[1]<Z.lines.length){var $=Z.lines.get(this._model.selectionEnd[1]);$&&0===$.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}H&&H[0]===this._model.selectionEnd[0]&&H[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},V.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var L=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(L.ydisp+this._bufferService.rows,L.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=L.ydisp),this.refresh()}},V.prototype._onMouseUp=function(L){var H=L.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&H<500&&L.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var Z=this._mouseService.getCoords(L,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(Z&&void 0!==Z[0]&&void 0!==Z[1]){var $=(0,u.moveToCellSequence)(Z[0]-1,Z[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent($,!0)}}}else this._fireEventIfSelectionChanged()},V.prototype._fireEventIfSelectionChanged=function(){var L=this._model.finalSelectionStart,H=this._model.finalSelectionEnd,Z=!(!L||!H||L[0]===H[0]&&L[1]===H[1]);Z?L&&H&&(this._oldSelectionStart&&this._oldSelectionEnd&&L[0]===this._oldSelectionStart[0]&&L[1]===this._oldSelectionStart[1]&&H[0]===this._oldSelectionEnd[0]&&H[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(L,H,Z)):this._oldHasSelection&&this._fireOnSelectionChange(L,H,Z)},V.prototype._fireOnSelectionChange=function(L,H,Z){this._oldSelectionStart=L,this._oldSelectionEnd=H,this._oldHasSelection=Z,this._onSelectionChange.fire()},V.prototype._onBufferActivate=function(L){var H=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=L.activeBuffer.lines.onTrim(function(Z){return H._onTrim(Z)})},V.prototype._convertViewportColToCharacterIndex=function(L,H){for(var Z=H[0],$=0;H[0]>=$;$++){var z=L.loadCell($,this._workCell).getChars().length;0===this._workCell.getWidth()?Z--:z>1&&H[0]!==$&&(Z+=z-1)}return Z},V.prototype.setSelection=function(L,H,Z){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[L,H],this._model.selectionStartLength=Z,this.refresh()},V.prototype.rightClickSelect=function(L){this._isClickInSelection(L)||(this._selectWordAtCursor(L,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},V.prototype._getWordAt=function(L,H,Z,$){if(void 0===Z&&(Z=!0),void 0===$&&($=!0),!(L[0]>=this._bufferService.cols)){var z=this._bufferService.buffer,N=z.lines.get(L[1]);if(N){var O=z.translateBufferLineToString(L[1],!1),U=this._convertViewportColToCharacterIndex(N,L),Y=U,ie=L[0]-U,pe=0,_e=0,Ee=0,Re=0;if(" "===O.charAt(U)){for(;U>0&&" "===O.charAt(U-1);)U--;for(;Y<O.length&&" "===O.charAt(Y+1);)Y++}else{var xe=L[0],q=L[0];0===N.getWidth(xe)&&(pe++,xe--),2===N.getWidth(q)&&(_e++,q++);var J=N.getString(q).length;for(J>1&&(Re+=J-1,Y+=J-1);xe>0&&U>0&&!this._isCharWordSeparator(N.loadCell(xe-1,this._workCell));){N.loadCell(xe-1,this._workCell);var re=this._workCell.getChars().length;0===this._workCell.getWidth()?(pe++,xe--):re>1&&(Ee+=re-1,U-=re-1),U--,xe--}for(;q<N.length&&Y+1<O.length&&!this._isCharWordSeparator(N.loadCell(q+1,this._workCell));){N.loadCell(q+1,this._workCell);var ue=this._workCell.getChars().length;2===this._workCell.getWidth()?(_e++,q++):ue>1&&(Re+=ue-1,Y+=ue-1),Y++,q++}}Y++;var se=U+ie-pe+Ee,Pe=Math.min(this._bufferService.cols,Y-U+pe+_e-Ee-Re);if(H||""!==O.slice(U,Y).trim()){if(Z&&0===se&&32!==N.getCodePoint(0)){var Ve=z.lines.get(L[1]-1);if(Ve&&N.isWrapped&&32!==Ve.getCodePoint(this._bufferService.cols-1)){var ht=this._getWordAt([this._bufferService.cols-1,L[1]-1],!1,!0,!1);if(ht){var Mt=this._bufferService.cols-ht.start;se-=Mt,Pe+=Mt}}}if($&&se+Pe===this._bufferService.cols&&32!==N.getCodePoint(this._bufferService.cols-1)){var Tt=z.lines.get(L[1]+1);if((null==Tt?void 0:Tt.isWrapped)&&32!==Tt.getCodePoint(0)){var ke=this._getWordAt([0,L[1]+1],!1,!1,!0);ke&&(Pe+=ke.length)}}return{start:se,length:Pe}}}}},V.prototype._selectWordAt=function(L,H){var Z=this._getWordAt(L,H);if(Z){for(;Z.start<0;)Z.start+=this._bufferService.cols,L[1]--;this._model.selectionStart=[Z.start,L[1]],this._model.selectionStartLength=Z.length}},V.prototype._selectToWordAt=function(L){var H=this._getWordAt(L,!0);if(H){for(var Z=L[1];H.start<0;)H.start+=this._bufferService.cols,Z--;if(!this._model.areSelectionValuesReversed())for(;H.start+H.length>this._bufferService.cols;)H.length-=this._bufferService.cols,Z++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?H.start:H.start+H.length,Z]}},V.prototype._isCharWordSeparator=function(L){return 0!==L.getWidth()&&this._optionsService.options.wordSeparator.indexOf(L.getChars())>=0},V.prototype._selectLineAt=function(L){var H=this._bufferService.buffer.getWrappedRangeForLine(L);this._model.selectionStart=[0,H.first],this._model.selectionEnd=[this._bufferService.cols,H.last],this._model.selectionStartLength=0},d([m(3,C.IBufferService),m(4,C.ICoreService),m(5,E.IMouseService),m(6,C.IOptionsService),m(7,E.IRenderService)],V)}(c.Disposable);p.SelectionService=T},4725:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ICharacterJoinerService=p.ISoundService=p.ISelectionService=p.IRenderService=p.IMouseService=p.ICoreBrowserService=p.ICharSizeService=void 0;var _=I(8343);p.ICharSizeService=(0,_.createDecorator)("CharSizeService"),p.ICoreBrowserService=(0,_.createDecorator)("CoreBrowserService"),p.IMouseService=(0,_.createDecorator)("MouseService"),p.IRenderService=(0,_.createDecorator)("RenderService"),p.ISelectionService=(0,_.createDecorator)("SelectionService"),p.ISoundService=(0,_.createDecorator)("SoundService"),p.ICharacterJoinerService=(0,_.createDecorator)("CharacterJoinerService")},357:function(ne,p,I){var _=this&&this.__decorate||function(M,A,h,g){var E,C=arguments.length,l=C<3?A:null===g?g=Object.getOwnPropertyDescriptor(A,h):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(M,A,h,g);else for(var u=M.length-1;u>=0;u--)(E=M[u])&&(l=(C<3?E(l):C>3?E(A,h,l):E(A,h))||l);return C>3&&l&&Object.defineProperty(A,h,l),l},y=this&&this.__param||function(M,A){return function(h,g){A(h,g,M)}};Object.defineProperty(p,"__esModule",{value:!0}),p.SoundService=void 0;var d=I(2585),m=function(){function M(A){this._optionsService=A}return Object.defineProperty(M,"audioContext",{get:function(){if(!M._audioContext){var A=window.AudioContext||window.webkitAudioContext;if(!A)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;M._audioContext=new A}return M._audioContext},enumerable:!1,configurable:!0}),M.prototype.playBellSound=function(){var A=M.audioContext;if(A){var h=A.createBufferSource();A.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),function(g){h.buffer=g,h.connect(A.destination),h.start(0)})}},M.prototype._base64ToArrayBuffer=function(A){for(var h=window.atob(A),g=h.length,E=new Uint8Array(g),C=0;C<g;C++)E[C]=h.charCodeAt(C);return E.buffer},M.prototype._removeMimeType=function(A){return A.split(",")[1]},M=_([y(0,d.IOptionsService)],M)}();p.SoundService=m},6349:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CircularList=void 0;var _=I(8460),y=function(){function d(m){this._maxLength=m,this.onDeleteEmitter=new _.EventEmitter,this.onInsertEmitter=new _.EventEmitter,this.onTrimEmitter=new _.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(d.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxLength",{get:function(){return this._maxLength},set:function(m){if(this._maxLength!==m){for(var M=new Array(m),A=0;A<Math.min(m,this.length);A++)M[A]=this._array[this._getCyclicIndex(A)];this._array=M,this._maxLength=m,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._length},set:function(m){if(m>this._length)for(var M=this._length;M<m;M++)this._array[M]=void 0;this._length=m},enumerable:!1,configurable:!0}),d.prototype.get=function(m){return this._array[this._getCyclicIndex(m)]},d.prototype.set=function(m,M){this._array[this._getCyclicIndex(m)]=M},d.prototype.push=function(m){this._array[this._getCyclicIndex(this._length)]=m,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},d.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(d.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),d.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},d.prototype.splice=function(m,M){for(var A=[],h=2;h<arguments.length;h++)A[h-2]=arguments[h];if(M){for(var g=m;g<this._length-M;g++)this._array[this._getCyclicIndex(g)]=this._array[this._getCyclicIndex(g+M)];this._length-=M,this.onDeleteEmitter.fire({index:m,amount:M})}for(g=this._length-1;g>=m;g--)this._array[this._getCyclicIndex(g+A.length)]=this._array[this._getCyclicIndex(g)];for(g=0;g<A.length;g++)this._array[this._getCyclicIndex(m+g)]=A[g];if(A.length&&this.onInsertEmitter.fire({index:m,amount:A.length}),this._length+A.length>this._maxLength){var E=this._length+A.length-this._maxLength;this._startIndex+=E,this._length=this._maxLength,this.onTrimEmitter.fire(E)}else this._length+=A.length},d.prototype.trimStart=function(m){m>this._length&&(m=this._length),this._startIndex+=m,this._length-=m,this.onTrimEmitter.fire(m)},d.prototype.shiftElements=function(m,M,A){if(!(M<=0)){if(m<0||m>=this._length)throw new Error("start argument out of range");if(m+A<0)throw new Error("Cannot shift elements in list beyond index 0");if(A>0){for(var h=M-1;h>=0;h--)this.set(m+h+A,this.get(m+h));var g=m+M+A-this._length;if(g>0)for(this._length+=g;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(h=0;h<M;h++)this.set(m+h+A,this.get(m+h))}},d.prototype._getCyclicIndex=function(m){return(this._startIndex+m)%this._maxLength},d}();p.CircularList=y},1439:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.clone=void 0,p.clone=function I(_,y){if(void 0===y&&(y=5),"object"!=typeof _)return _;var d=Array.isArray(_)?[]:{};for(var m in _)d[m]=y<=1?_[m]:_[m]&&I(_[m],y-1);return d}},8969:function(ne,p,I){var _,y=this&&this.__extends||(_=function(L,H){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,$){Z.__proto__=$}||function(Z,$){for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&(Z[z]=$[z])})(L,H)},function(L,H){if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function Z(){this.constructor=L}_(L,H),L.prototype=null===H?Object.create(H):(Z.prototype=H.prototype,new Z)});Object.defineProperty(p,"__esModule",{value:!0}),p.CoreTerminal=void 0;var d=I(844),m=I(2585),M=I(4348),A=I(7866),h=I(744),g=I(7302),E=I(6975),C=I(8460),l=I(1753),u=I(3730),c=I(1480),D=I(7994),S=I(9282),w=I(5435),T=I(5981),k=!1,V=function(L){function H(Z){var $=L.call(this)||this;return $._onBinary=new C.EventEmitter,$._onData=new C.EventEmitter,$._onLineFeed=new C.EventEmitter,$._onResize=new C.EventEmitter,$._onScroll=new C.EventEmitter,$._instantiationService=new M.InstantiationService,$.optionsService=new g.OptionsService(Z),$._instantiationService.setService(m.IOptionsService,$.optionsService),$._bufferService=$.register($._instantiationService.createInstance(h.BufferService)),$._instantiationService.setService(m.IBufferService,$._bufferService),$._logService=$._instantiationService.createInstance(A.LogService),$._instantiationService.setService(m.ILogService,$._logService),$.coreService=$.register($._instantiationService.createInstance(E.CoreService,function(){return $.scrollToBottom()})),$._instantiationService.setService(m.ICoreService,$.coreService),$.coreMouseService=$._instantiationService.createInstance(l.CoreMouseService),$._instantiationService.setService(m.ICoreMouseService,$.coreMouseService),$._dirtyRowService=$._instantiationService.createInstance(u.DirtyRowService),$._instantiationService.setService(m.IDirtyRowService,$._dirtyRowService),$.unicodeService=$._instantiationService.createInstance(c.UnicodeService),$._instantiationService.setService(m.IUnicodeService,$.unicodeService),$._charsetService=$._instantiationService.createInstance(D.CharsetService),$._instantiationService.setService(m.ICharsetService,$._charsetService),$._inputHandler=new w.InputHandler($._bufferService,$._charsetService,$.coreService,$._dirtyRowService,$._logService,$.optionsService,$.coreMouseService,$.unicodeService),$.register((0,C.forwardEvent)($._inputHandler.onLineFeed,$._onLineFeed)),$.register($._inputHandler),$.register((0,C.forwardEvent)($._bufferService.onResize,$._onResize)),$.register((0,C.forwardEvent)($.coreService.onData,$._onData)),$.register((0,C.forwardEvent)($.coreService.onBinary,$._onBinary)),$.register($.optionsService.onOptionChange(function(z){return $._updateOptions(z)})),$.register($._bufferService.onScroll(function(z){$._onScroll.fire({position:$._bufferService.buffer.ydisp,source:0}),$._dirtyRowService.markRangeDirty($._bufferService.buffer.scrollTop,$._bufferService.buffer.scrollBottom)})),$.register($._inputHandler.onScroll(function(z){$._onScroll.fire({position:$._bufferService.buffer.ydisp,source:0}),$._dirtyRowService.markRangeDirty($._bufferService.buffer.scrollTop,$._bufferService.buffer.scrollBottom)})),$._writeBuffer=new T.WriteBuffer(function(z,N){return $._inputHandler.parse(z,N)}),$}return y(H,L),Object.defineProperty(H.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onScroll",{get:function(){var Z=this;return this._onScrollApi||(this._onScrollApi=new C.EventEmitter,this.register(this._onScroll.event(function($){var z;null===(z=Z._onScrollApi)||void 0===z||z.fire($.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"options",{get:function(){return this.optionsService.options},set:function(Z){for(var $ in Z)this.optionsService.options[$]=Z[$]},enumerable:!1,configurable:!0}),H.prototype.dispose=function(){var Z;this._isDisposed||(L.prototype.dispose.call(this),null===(Z=this._windowsMode)||void 0===Z||Z.dispose(),this._windowsMode=void 0)},H.prototype.write=function(Z,$){this._writeBuffer.write(Z,$)},H.prototype.writeSync=function(Z,$){this._logService.logLevel<=m.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(Z,$)},H.prototype.resize=function(Z,$){isNaN(Z)||isNaN($)||(Z=Math.max(Z,h.MINIMUM_COLS),$=Math.max($,h.MINIMUM_ROWS),this._bufferService.resize(Z,$))},H.prototype.scroll=function(Z,$){void 0===$&&($=!1),this._bufferService.scroll(Z,$)},H.prototype.scrollLines=function(Z,$,z){this._bufferService.scrollLines(Z,$,z)},H.prototype.scrollPages=function(Z){this._bufferService.scrollPages(Z)},H.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},H.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},H.prototype.scrollToLine=function(Z){this._bufferService.scrollToLine(Z)},H.prototype.registerEscHandler=function(Z,$){return this._inputHandler.registerEscHandler(Z,$)},H.prototype.registerDcsHandler=function(Z,$){return this._inputHandler.registerDcsHandler(Z,$)},H.prototype.registerCsiHandler=function(Z,$){return this._inputHandler.registerCsiHandler(Z,$)},H.prototype.registerOscHandler=function(Z,$){return this._inputHandler.registerOscHandler(Z,$)},H.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},H.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},H.prototype._updateOptions=function(Z){var $;switch(Z){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():(null===($=this._windowsMode)||void 0===$||$.dispose(),this._windowsMode=void 0)}},H.prototype._enableWindowsMode=function(){var Z=this;if(!this._windowsMode){var $=[];$.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),$.push(this.registerCsiHandler({final:"H"},function(){return(0,S.updateWindowsModeWrappedState)(Z._bufferService),!1})),this._windowsMode={dispose:function(){for(var z=0,N=$;z<N.length;z++)N[z].dispose()}}}},H}(d.Disposable);p.CoreTerminal=V},8460:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.forwardEvent=p.EventEmitter=void 0;var I=function(){function _(){this._listeners=[],this._disposed=!1}return Object.defineProperty(_.prototype,"event",{get:function(){var y=this;return this._event||(this._event=function(d){return y._listeners.push(d),{dispose:function(){if(!y._disposed)for(var m=0;m<y._listeners.length;m++)if(y._listeners[m]===d)return void y._listeners.splice(m,1)}}}),this._event},enumerable:!1,configurable:!0}),_.prototype.fire=function(y,d){for(var m=[],M=0;M<this._listeners.length;M++)m.push(this._listeners[M]);for(M=0;M<m.length;M++)m[M].call(void 0,y,d)},_.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},_}();p.EventEmitter=I,p.forwardEvent=function(_,y){return _(function(d){return y.fire(d)})}},5435:function(ne,p,I){var _,y=this&&this.__extends||(_=function(z,N){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,U){O.__proto__=U}||function(O,U){for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(O[Y]=U[Y])})(z,N)},function(z,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function O(){this.constructor=z}_(z,N),z.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)});Object.defineProperty(p,"__esModule",{value:!0}),p.InputHandler=p.WindowsOptionsReportType=void 0;var d,z,m=I(2584),M=I(7116),A=I(2015),h=I(844),g=I(8273),E=I(482),C=I(8437),l=I(8460),u=I(643),c=I(511),D=I(3734),S=I(2585),w=I(6242),T=I(6351),k=I(5941),V={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function H(z,N){if(z>24)return N.setWinLines||!1;switch(z){case 1:return!!N.restoreWin;case 2:return!!N.minimizeWin;case 3:return!!N.setWinPosition;case 4:return!!N.setWinSizePixels;case 5:return!!N.raiseWin;case 6:return!!N.lowerWin;case 7:return!!N.refreshWin;case 8:return!!N.setWinSizeChars;case 9:return!!N.maximizeWin;case 10:return!!N.fullscreenWin;case 11:return!!N.getWinState;case 13:return!!N.getWinPosition;case 14:return!!N.getWinSizePixels;case 15:return!!N.getScreenSizePixels;case 16:return!!N.getCellSizePixels;case 18:return!!N.getWinSizeChars;case 19:return!!N.getScreenSizeChars;case 20:return!!N.getIconTitle;case 21:return!!N.getWinTitle;case 22:return!!N.pushTitle;case 23:return!!N.popTitle;case 24:return!!N.setWinLines}return!1}(z=d=p.WindowsOptionsReportType||(p.WindowsOptionsReportType={}))[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";var Z=function(){function z(N,O,U,Y){this._bufferService=N,this._coreService=O,this._logService=U,this._optionsService=Y,this._data=new Uint32Array(0)}return z.prototype.hook=function(N){this._data=new Uint32Array(0)},z.prototype.put=function(N,O,U){this._data=(0,g.concat)(this._data,N.subarray(O,U))},z.prototype.unhook=function(N){if(!N)return this._data=new Uint32Array(0),!0;var O=(0,E.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),O){case'"q':this._coreService.triggerDataEvent(m.C0.ESC+'P1$r0"q'+m.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(m.C0.ESC+'P1$r61;1"p'+m.C0.ESC+"\\");break;case"r":this._coreService.triggerDataEvent(m.C0.ESC+"P1$r"+(this._bufferService.buffer.scrollTop+1)+";"+(this._bufferService.buffer.scrollBottom+1)+"r"+m.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(m.C0.ESC+"P1$r0m"+m.C0.ESC+"\\");break;case" q":var Y={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];this._coreService.triggerDataEvent(m.C0.ESC+"P1$r"+(Y-=this._optionsService.options.cursorBlink?1:0)+" q"+m.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",O),this._coreService.triggerDataEvent(m.C0.ESC+"P0$r"+m.C0.ESC+"\\")}return!0},z}(),$=function(z){function N(O,U,Y,ie,pe,_e,Ee,Re,xe){void 0===xe&&(xe=new A.EscapeSequenceParser);var q=z.call(this)||this;q._bufferService=O,q._charsetService=U,q._coreService=Y,q._dirtyRowService=ie,q._logService=pe,q._optionsService=_e,q._coreMouseService=Ee,q._unicodeService=Re,q._parser=xe,q._parseBuffer=new Uint32Array(4096),q._stringDecoder=new E.StringToUtf32,q._utf8Decoder=new E.Utf8ToUtf32,q._workCell=new c.CellData,q._windowTitle="",q._iconName="",q._windowTitleStack=[],q._iconNameStack=[],q._curAttrData=C.DEFAULT_ATTR_DATA.clone(),q._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone(),q._onRequestBell=new l.EventEmitter,q._onRequestRefreshRows=new l.EventEmitter,q._onRequestReset=new l.EventEmitter,q._onRequestSendFocus=new l.EventEmitter,q._onRequestSyncScrollBar=new l.EventEmitter,q._onRequestWindowsOptionsReport=new l.EventEmitter,q._onA11yChar=new l.EventEmitter,q._onA11yTab=new l.EventEmitter,q._onCursorMove=new l.EventEmitter,q._onLineFeed=new l.EventEmitter,q._onScroll=new l.EventEmitter,q._onTitleChange=new l.EventEmitter,q._onColor=new l.EventEmitter,q._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},q._specialColors=[256,257,258],q.register(q._parser),q._activeBuffer=q._bufferService.buffer,q.register(q._bufferService.buffers.onBufferActivate(function(se){return q._activeBuffer=se.activeBuffer})),q._parser.setCsiHandlerFallback(function(se,Pe){q._logService.debug("Unknown CSI code: ",{identifier:q._parser.identToString(se),params:Pe.toArray()})}),q._parser.setEscHandlerFallback(function(se){q._logService.debug("Unknown ESC code: ",{identifier:q._parser.identToString(se)})}),q._parser.setExecuteHandlerFallback(function(se){q._logService.debug("Unknown EXECUTE code: ",{code:se})}),q._parser.setOscHandlerFallback(function(se,Pe,Ve){q._logService.debug("Unknown OSC code: ",{identifier:se,action:Pe,data:Ve})}),q._parser.setDcsHandlerFallback(function(se,Pe,Ve){"HOOK"===Pe&&(Ve=Ve.toArray()),q._logService.debug("Unknown DCS code: ",{identifier:q._parser.identToString(se),action:Pe,payload:Ve})}),q._parser.setPrintHandler(function(se,Pe,Ve){return q.print(se,Pe,Ve)}),q._parser.registerCsiHandler({final:"@"},function(se){return q.insertChars(se)}),q._parser.registerCsiHandler({intermediates:" ",final:"@"},function(se){return q.scrollLeft(se)}),q._parser.registerCsiHandler({final:"A"},function(se){return q.cursorUp(se)}),q._parser.registerCsiHandler({intermediates:" ",final:"A"},function(se){return q.scrollRight(se)}),q._parser.registerCsiHandler({final:"B"},function(se){return q.cursorDown(se)}),q._parser.registerCsiHandler({final:"C"},function(se){return q.cursorForward(se)}),q._parser.registerCsiHandler({final:"D"},function(se){return q.cursorBackward(se)}),q._parser.registerCsiHandler({final:"E"},function(se){return q.cursorNextLine(se)}),q._parser.registerCsiHandler({final:"F"},function(se){return q.cursorPrecedingLine(se)}),q._parser.registerCsiHandler({final:"G"},function(se){return q.cursorCharAbsolute(se)}),q._parser.registerCsiHandler({final:"H"},function(se){return q.cursorPosition(se)}),q._parser.registerCsiHandler({final:"I"},function(se){return q.cursorForwardTab(se)}),q._parser.registerCsiHandler({final:"J"},function(se){return q.eraseInDisplay(se)}),q._parser.registerCsiHandler({prefix:"?",final:"J"},function(se){return q.eraseInDisplay(se)}),q._parser.registerCsiHandler({final:"K"},function(se){return q.eraseInLine(se)}),q._parser.registerCsiHandler({prefix:"?",final:"K"},function(se){return q.eraseInLine(se)}),q._parser.registerCsiHandler({final:"L"},function(se){return q.insertLines(se)}),q._parser.registerCsiHandler({final:"M"},function(se){return q.deleteLines(se)}),q._parser.registerCsiHandler({final:"P"},function(se){return q.deleteChars(se)}),q._parser.registerCsiHandler({final:"S"},function(se){return q.scrollUp(se)}),q._parser.registerCsiHandler({final:"T"},function(se){return q.scrollDown(se)}),q._parser.registerCsiHandler({final:"X"},function(se){return q.eraseChars(se)}),q._parser.registerCsiHandler({final:"Z"},function(se){return q.cursorBackwardTab(se)}),q._parser.registerCsiHandler({final:"`"},function(se){return q.charPosAbsolute(se)}),q._parser.registerCsiHandler({final:"a"},function(se){return q.hPositionRelative(se)}),q._parser.registerCsiHandler({final:"b"},function(se){return q.repeatPrecedingCharacter(se)}),q._parser.registerCsiHandler({final:"c"},function(se){return q.sendDeviceAttributesPrimary(se)}),q._parser.registerCsiHandler({prefix:">",final:"c"},function(se){return q.sendDeviceAttributesSecondary(se)}),q._parser.registerCsiHandler({final:"d"},function(se){return q.linePosAbsolute(se)}),q._parser.registerCsiHandler({final:"e"},function(se){return q.vPositionRelative(se)}),q._parser.registerCsiHandler({final:"f"},function(se){return q.hVPosition(se)}),q._parser.registerCsiHandler({final:"g"},function(se){return q.tabClear(se)}),q._parser.registerCsiHandler({final:"h"},function(se){return q.setMode(se)}),q._parser.registerCsiHandler({prefix:"?",final:"h"},function(se){return q.setModePrivate(se)}),q._parser.registerCsiHandler({final:"l"},function(se){return q.resetMode(se)}),q._parser.registerCsiHandler({prefix:"?",final:"l"},function(se){return q.resetModePrivate(se)}),q._parser.registerCsiHandler({final:"m"},function(se){return q.charAttributes(se)}),q._parser.registerCsiHandler({final:"n"},function(se){return q.deviceStatus(se)}),q._parser.registerCsiHandler({prefix:"?",final:"n"},function(se){return q.deviceStatusPrivate(se)}),q._parser.registerCsiHandler({intermediates:"!",final:"p"},function(se){return q.softReset(se)}),q._parser.registerCsiHandler({intermediates:" ",final:"q"},function(se){return q.setCursorStyle(se)}),q._parser.registerCsiHandler({final:"r"},function(se){return q.setScrollRegion(se)}),q._parser.registerCsiHandler({final:"s"},function(se){return q.saveCursor(se)}),q._parser.registerCsiHandler({final:"t"},function(se){return q.windowOptions(se)}),q._parser.registerCsiHandler({final:"u"},function(se){return q.restoreCursor(se)}),q._parser.registerCsiHandler({intermediates:"'",final:"}"},function(se){return q.insertColumns(se)}),q._parser.registerCsiHandler({intermediates:"'",final:"~"},function(se){return q.deleteColumns(se)}),q._parser.setExecuteHandler(m.C0.BEL,function(){return q.bell()}),q._parser.setExecuteHandler(m.C0.LF,function(){return q.lineFeed()}),q._parser.setExecuteHandler(m.C0.VT,function(){return q.lineFeed()}),q._parser.setExecuteHandler(m.C0.FF,function(){return q.lineFeed()}),q._parser.setExecuteHandler(m.C0.CR,function(){return q.carriageReturn()}),q._parser.setExecuteHandler(m.C0.BS,function(){return q.backspace()}),q._parser.setExecuteHandler(m.C0.HT,function(){return q.tab()}),q._parser.setExecuteHandler(m.C0.SO,function(){return q.shiftOut()}),q._parser.setExecuteHandler(m.C0.SI,function(){return q.shiftIn()}),q._parser.setExecuteHandler(m.C1.IND,function(){return q.index()}),q._parser.setExecuteHandler(m.C1.NEL,function(){return q.nextLine()}),q._parser.setExecuteHandler(m.C1.HTS,function(){return q.tabSet()}),q._parser.registerOscHandler(0,new w.OscHandler(function(se){return q.setTitle(se),q.setIconName(se),!0})),q._parser.registerOscHandler(1,new w.OscHandler(function(se){return q.setIconName(se)})),q._parser.registerOscHandler(2,new w.OscHandler(function(se){return q.setTitle(se)})),q._parser.registerOscHandler(4,new w.OscHandler(function(se){return q.setOrReportIndexedColor(se)})),q._parser.registerOscHandler(10,new w.OscHandler(function(se){return q.setOrReportFgColor(se)})),q._parser.registerOscHandler(11,new w.OscHandler(function(se){return q.setOrReportBgColor(se)})),q._parser.registerOscHandler(12,new w.OscHandler(function(se){return q.setOrReportCursorColor(se)})),q._parser.registerOscHandler(104,new w.OscHandler(function(se){return q.restoreIndexedColor(se)})),q._parser.registerOscHandler(110,new w.OscHandler(function(se){return q.restoreFgColor(se)})),q._parser.registerOscHandler(111,new w.OscHandler(function(se){return q.restoreBgColor(se)})),q._parser.registerOscHandler(112,new w.OscHandler(function(se){return q.restoreCursorColor(se)})),q._parser.registerEscHandler({final:"7"},function(){return q.saveCursor()}),q._parser.registerEscHandler({final:"8"},function(){return q.restoreCursor()}),q._parser.registerEscHandler({final:"D"},function(){return q.index()}),q._parser.registerEscHandler({final:"E"},function(){return q.nextLine()}),q._parser.registerEscHandler({final:"H"},function(){return q.tabSet()}),q._parser.registerEscHandler({final:"M"},function(){return q.reverseIndex()}),q._parser.registerEscHandler({final:"="},function(){return q.keypadApplicationMode()}),q._parser.registerEscHandler({final:">"},function(){return q.keypadNumericMode()}),q._parser.registerEscHandler({final:"c"},function(){return q.fullReset()}),q._parser.registerEscHandler({final:"n"},function(){return q.setgLevel(2)}),q._parser.registerEscHandler({final:"o"},function(){return q.setgLevel(3)}),q._parser.registerEscHandler({final:"|"},function(){return q.setgLevel(3)}),q._parser.registerEscHandler({final:"}"},function(){return q.setgLevel(2)}),q._parser.registerEscHandler({final:"~"},function(){return q.setgLevel(1)}),q._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return q.selectDefaultCharset()}),q._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return q.selectDefaultCharset()});var J=function(se){re._parser.registerEscHandler({intermediates:"(",final:se},function(){return q.selectCharset("("+se)}),re._parser.registerEscHandler({intermediates:")",final:se},function(){return q.selectCharset(")"+se)}),re._parser.registerEscHandler({intermediates:"*",final:se},function(){return q.selectCharset("*"+se)}),re._parser.registerEscHandler({intermediates:"+",final:se},function(){return q.selectCharset("+"+se)}),re._parser.registerEscHandler({intermediates:"-",final:se},function(){return q.selectCharset("-"+se)}),re._parser.registerEscHandler({intermediates:".",final:se},function(){return q.selectCharset("."+se)}),re._parser.registerEscHandler({intermediates:"/",final:se},function(){return q.selectCharset("/"+se)})},re=this;for(var ue in M.CHARSETS)J(ue);return q._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return q.screenAlignmentPattern()}),q._parser.setErrorHandler(function(se){return q._logService.error("Parsing error: ",se),se}),q._parser.registerDcsHandler({intermediates:"$",final:"q"},new Z(q._bufferService,q._coreService,q._logService,q._optionsService)),q}return y(N,z),Object.defineProperty(N.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),N.prototype.dispose=function(){z.prototype.dispose.call(this)},N.prototype._preserveStack=function(O,U,Y,ie){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=U,this._parseStack.decodedLength=Y,this._parseStack.position=ie},N.prototype._logSlowResolvingAsync=function(O){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([O,new Promise(function(U,Y){return setTimeout(function(){return Y("#SLOW_TIMEOUT")},5e3)})]).catch(function(U){if("#SLOW_TIMEOUT"!==U)throw U;console.warn("async parser handler taking longer than 5000 ms")})},N.prototype.parse=function(O,U){var Y,ie=this._activeBuffer.x,pe=this._activeBuffer.y,_e=0,Ee=this._parseStack.paused;if(Ee){if(Y=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,U))return this._logSlowResolvingAsync(Y),Y;ie=this._parseStack.cursorStartX,pe=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>L&&(_e=this._parseStack.position+L)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof O?' "'+O+'"':""),"string"==typeof O?O.split("").map(function(J){return J.charCodeAt(0)}):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(O.length,L))),Ee||this._dirtyRowService.clearRange(),O.length>L)for(var Re=_e;Re<O.length;Re+=L){var xe=Re+L<O.length?Re+L:O.length,q="string"==typeof O?this._stringDecoder.decode(O.substring(Re,xe),this._parseBuffer):this._utf8Decoder.decode(O.subarray(Re,xe),this._parseBuffer);if(Y=this._parser.parse(this._parseBuffer,q))return this._preserveStack(ie,pe,q,Re),this._logSlowResolvingAsync(Y),Y}else if(!Ee&&(q="string"==typeof O?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer),Y=this._parser.parse(this._parseBuffer,q)))return this._preserveStack(ie,pe,q,0),this._logSlowResolvingAsync(Y),Y;this._activeBuffer.x===ie&&this._activeBuffer.y===pe||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},N.prototype.print=function(O,U,Y){var ie,pe,_e=this._charsetService.charset,Ee=this._optionsService.options.screenReaderMode,Re=this._bufferService.cols,xe=this._coreService.decPrivateModes.wraparound,q=this._coreService.modes.insertMode,J=this._curAttrData,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&Y-U>0&&2===re.getWidth(this._activeBuffer.x-1)&&re.setCellFromCodePoint(this._activeBuffer.x-1,0,1,J.fg,J.bg,J.extended);for(var ue=U;ue<Y;++ue){if(pe=this._unicodeService.wcwidth(ie=O[ue]),ie<127&&_e){var se=_e[String.fromCharCode(ie)];se&&(ie=se.charCodeAt(0))}if(Ee&&this._onA11yChar.fire((0,E.stringFromCodePoint)(ie)),pe||!this._activeBuffer.x){if(this._activeBuffer.x+pe-1>=Re)if(xe){for(;this._activeBuffer.x<Re;)re.setCellFromCodePoint(this._activeBuffer.x++,0,1,J.fg,J.bg,J.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=Re-1,2===pe)continue;if(q&&(re.insertCells(this._activeBuffer.x,pe,this._activeBuffer.getNullCell(J),J),2===re.getWidth(Re-1)&&re.setCellFromCodePoint(Re-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,J.fg,J.bg,J.extended)),re.setCellFromCodePoint(this._activeBuffer.x++,ie,pe,J.fg,J.bg,J.extended),pe>0)for(;--pe;)re.setCellFromCodePoint(this._activeBuffer.x++,0,0,J.fg,J.bg,J.extended)}else re.getWidth(this._activeBuffer.x-1)?re.addCodepointToCell(this._activeBuffer.x-1,ie):re.addCodepointToCell(this._activeBuffer.x-2,ie)}Y-U>0&&(re.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<Re&&Y-U>0&&0===re.getWidth(this._activeBuffer.x)&&!re.hasContent(this._activeBuffer.x)&&re.setCellFromCodePoint(this._activeBuffer.x,0,1,J.fg,J.bg,J.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},N.prototype.registerCsiHandler=function(O,U){var Y=this;return this._parser.registerCsiHandler(O,"t"!==O.final||O.prefix||O.intermediates?U:function(ie){return!H(ie.params[0],Y._optionsService.options.windowOptions)||U(ie)})},N.prototype.registerDcsHandler=function(O,U){return this._parser.registerDcsHandler(O,new T.DcsHandler(U))},N.prototype.registerEscHandler=function(O,U){return this._parser.registerEscHandler(O,U)},N.prototype.registerOscHandler=function(O,U){return this._parser.registerOscHandler(O,new w.OscHandler(U))},N.prototype.bell=function(){return this._onRequestBell.fire(),!0},N.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.options.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},N.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},N.prototype.backspace=function(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===O?void 0:O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);U.hasWidth(this._activeBuffer.x)&&!U.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},N.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0},N.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},N.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},N.prototype._restrictCursor=function(O){void 0===O&&(O=this._bufferService.cols-1),this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},N.prototype._setCursor=function(O,U){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+U):(this._activeBuffer.x=O,this._activeBuffer.y=U),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},N.prototype._moveCursor=function(O,U){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+U)},N.prototype.cursorUp=function(O){var U=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,U>=0?-Math.min(U,O.params[0]||1):-(O.params[0]||1)),!0},N.prototype.cursorDown=function(O){var U=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,U>=0?Math.min(U,O.params[0]||1):O.params[0]||1),!0},N.prototype.cursorForward=function(O){return this._moveCursor(O.params[0]||1,0),!0},N.prototype.cursorBackward=function(O){return this._moveCursor(-(O.params[0]||1),0),!0},N.prototype.cursorNextLine=function(O){return this.cursorDown(O),this._activeBuffer.x=0,!0},N.prototype.cursorPrecedingLine=function(O){return this.cursorUp(O),this._activeBuffer.x=0,!0},N.prototype.cursorCharAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},N.prototype.cursorPosition=function(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0},N.prototype.charPosAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},N.prototype.hPositionRelative=function(O){return this._moveCursor(O.params[0]||1,0),!0},N.prototype.linePosAbsolute=function(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0},N.prototype.vPositionRelative=function(O){return this._moveCursor(0,O.params[0]||1),!0},N.prototype.hVPosition=function(O){return this.cursorPosition(O),!0},N.prototype.tabClear=function(O){var U=O.params[0];return 0===U?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===U&&(this._activeBuffer.tabs={}),!0},N.prototype.cursorForwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var U=O.params[0]||1;U--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},N.prototype.cursorBackwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var U=O.params[0]||1;U--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},N.prototype._eraseInBufferLine=function(O,U,Y,ie){void 0===ie&&(ie=!1);var pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);pe.replaceCells(U,Y,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ie&&(pe.isWrapped=!1)},N.prototype._resetBufferLine=function(O){var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);U.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1},N.prototype.eraseInDisplay=function(O){var U;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(this._dirtyRowService.markDirty(U=this._activeBuffer.y),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);U<this._bufferService.rows;U++)this._resetBufferLine(U);this._dirtyRowService.markDirty(U);break;case 1:for(this._dirtyRowService.markDirty(U=this._activeBuffer.y),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U);this._dirtyRowService.markDirty(0);break;case 2:for(this._dirtyRowService.markDirty((U=this._bufferService.rows)-1);U--;)this._resetBufferLine(U);this._dirtyRowService.markDirty(0);break;case 3:var Y=this._activeBuffer.lines.length-this._bufferService.rows;Y>0&&(this._activeBuffer.lines.trimStart(Y),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-Y,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-Y,0),this._onScroll.fire(0))}return!0},N.prototype.eraseInLine=function(O){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},N.prototype.insertLines=function(O){this._restrictCursor();var U=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var Y=this._activeBuffer.ybase+this._activeBuffer.y,pe=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;U--;)this._activeBuffer.lines.splice(pe-1,1),this._activeBuffer.lines.splice(Y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},N.prototype.deleteLines=function(O){this._restrictCursor();var U=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var Y,ie=this._activeBuffer.ybase+this._activeBuffer.y;for(Y=this._bufferService.rows-1+this._activeBuffer.ybase-(Y=this._bufferService.rows-1-this._activeBuffer.scrollBottom);U--;)this._activeBuffer.lines.splice(ie,1),this._activeBuffer.lines.splice(Y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},N.prototype.insertChars=function(O){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},N.prototype.deleteChars=function(O){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},N.prototype.scrollUp=function(O){for(var U=O.params[0]||1;U--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.scrollDown=function(O){for(var U=O.params[0]||1;U--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(C.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.scrollLeft=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=O.params[0]||1,Y=this._activeBuffer.scrollTop;Y<=this._activeBuffer.scrollBottom;++Y){var ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);ie.deleteCells(0,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ie.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.scrollRight=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=O.params[0]||1,Y=this._activeBuffer.scrollTop;Y<=this._activeBuffer.scrollBottom;++Y){var ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);ie.insertCells(0,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ie.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.insertColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=O.params[0]||1,Y=this._activeBuffer.scrollTop;Y<=this._activeBuffer.scrollBottom;++Y){var ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);ie.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ie.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.deleteColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=O.params[0]||1,Y=this._activeBuffer.scrollTop;Y<=this._activeBuffer.scrollBottom;++Y){var ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);ie.deleteCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ie.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},N.prototype.eraseChars=function(O){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},N.prototype.repeatPrecedingCharacter=function(O){if(!this._parser.precedingCodepoint)return!0;for(var U=O.params[0]||1,Y=new Uint32Array(U),ie=0;ie<U;++ie)Y[ie]=this._parser.precedingCodepoint;return this.print(Y,0,Y.length),!0},N.prototype.sendDeviceAttributesPrimary=function(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0},N.prototype.sendDeviceAttributesSecondary=function(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0},N.prototype._is=function(O){return 0===(this._optionsService.options.termName+"").indexOf(O)},N.prototype.setMode=function(O){for(var U=0;U<O.length;U++)4===O.params[U]&&(this._coreService.modes.insertMode=!0);return!0},N.prototype.setModePrivate=function(O){for(var U=0;U<O.length;U++)switch(O.params[U]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,M.DEFAULT_CHARSET),this._charsetService.setgCharset(1,M.DEFAULT_CHARSET),this._charsetService.setgCharset(2,M.DEFAULT_CHARSET),this._charsetService.setgCharset(3,M.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},N.prototype.resetMode=function(O){for(var U=0;U<O.length;U++)4===O.params[U]&&(this._coreService.modes.insertMode=!1);return!0},N.prototype.resetModePrivate=function(O){for(var U=0;U<O.length;U++)switch(O.params[U]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===O.params[U]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},N.prototype._updateAttrColor=function(O,U,Y,ie,pe){return 2===U?(O|=50331648,O&=-16777216,O|=D.AttributeData.fromColorRGB([Y,ie,pe])):5===U&&(O&=-50331904,O|=33554432|255&Y),O},N.prototype._extractColor=function(O,U,Y){var ie=[0,0,-1,0,0,0],pe=0,_e=0;do{if(ie[_e+pe]=O.params[U+_e],O.hasSubParams(U+_e)){var Ee=O.getSubParams(U+_e),Re=0;do{5===ie[1]&&(pe=1),ie[_e+Re+1+pe]=Ee[Re]}while(++Re<Ee.length&&Re+_e+1+pe<ie.length);break}if(5===ie[1]&&_e+pe>=2||2===ie[1]&&_e+pe>=5)break;ie[1]&&(pe=1)}while(++_e+U<O.length&&_e+pe<ie.length);for(Re=2;Re<ie.length;++Re)-1===ie[Re]&&(ie[Re]=0);switch(ie[0]){case 38:Y.fg=this._updateAttrColor(Y.fg,ie[1],ie[3],ie[4],ie[5]);break;case 48:Y.bg=this._updateAttrColor(Y.bg,ie[1],ie[3],ie[4],ie[5]);break;case 58:Y.extended=Y.extended.clone(),Y.extended.underlineColor=this._updateAttrColor(Y.extended.underlineColor,ie[1],ie[3],ie[4],ie[5])}return _e},N.prototype._processUnderline=function(O,U){U.extended=U.extended.clone(),(!~O||O>5)&&(O=1),U.extended.underlineStyle=O,U.fg|=268435456,0===O&&(U.fg&=-268435457),U.updateExtended()},N.prototype.charAttributes=function(O){if(1===O.length&&0===O.params[0])return this._curAttrData.fg=C.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=C.DEFAULT_ATTR_DATA.bg,!0;for(var U,Y=O.length,ie=this._curAttrData,pe=0;pe<Y;pe++)(U=O.params[pe])>=30&&U<=37?(ie.fg&=-50331904,ie.fg|=16777216|U-30):U>=40&&U<=47?(ie.bg&=-50331904,ie.bg|=16777216|U-40):U>=90&&U<=97?(ie.fg&=-50331904,ie.fg|=16777224|U-90):U>=100&&U<=107?(ie.bg&=-50331904,ie.bg|=16777224|U-100):0===U?(ie.fg=C.DEFAULT_ATTR_DATA.fg,ie.bg=C.DEFAULT_ATTR_DATA.bg):1===U?ie.fg|=134217728:3===U?ie.bg|=67108864:4===U?(ie.fg|=268435456,this._processUnderline(O.hasSubParams(pe)?O.getSubParams(pe)[0]:1,ie)):5===U?ie.fg|=536870912:7===U?ie.fg|=67108864:8===U?ie.fg|=1073741824:9===U?ie.fg|=2147483648:2===U?ie.bg|=134217728:21===U?this._processUnderline(2,ie):22===U?(ie.fg&=-134217729,ie.bg&=-134217729):23===U?ie.bg&=-67108865:24===U?ie.fg&=-268435457:25===U?ie.fg&=-536870913:27===U?ie.fg&=-67108865:28===U?ie.fg&=-1073741825:29===U?ie.fg&=2147483647:39===U?(ie.fg&=-67108864,ie.fg|=16777215&C.DEFAULT_ATTR_DATA.fg):49===U?(ie.bg&=-67108864,ie.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):38===U||48===U||58===U?pe+=this._extractColor(O,pe,ie):59===U?(ie.extended=ie.extended.clone(),ie.extended.underlineColor=-1,ie.updateExtended()):100===U?(ie.fg&=-67108864,ie.fg|=16777215&C.DEFAULT_ATTR_DATA.fg,ie.bg&=-67108864,ie.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0},N.prototype.deviceStatus=function(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(m.C0.ESC+"[0n");break;case 6:this._coreService.triggerDataEvent(m.C0.ESC+"["+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R")}return!0},N.prototype.deviceStatusPrivate=function(O){return 6===O.params[0]&&this._coreService.triggerDataEvent(m.C0.ESC+"[?"+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R"),!0},N.prototype.softReset=function(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},N.prototype.setCursorStyle=function(O){var U=O.params[0]||1;switch(U){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=U%2==1,!0},N.prototype.setScrollRegion=function(O){var U,Y=O.params[0]||1;return(O.length<2||(U=O.params[1])>this._bufferService.rows||0===U)&&(U=this._bufferService.rows),U>Y&&(this._activeBuffer.scrollTop=Y-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0},N.prototype.windowOptions=function(O){if(!H(O.params[0],this._optionsService.options.windowOptions))return!0;var U=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:2!==U&&this._onRequestWindowsOptionsReport.fire(d.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(d.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(m.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==U&&2!==U||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==U&&1!==U||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==U&&2!==U||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==U&&1!==U||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},N.prototype.saveCursor=function(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},N.prototype.restoreCursor=function(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},N.prototype.setTitle=function(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0},N.prototype.setIconName=function(O){return this._iconName=O,!0},N.prototype.setOrReportIndexedColor=function(O){for(var U=[],Y=O.split(";");Y.length>1;){var ie=Y.shift(),pe=Y.shift();if(/^\d+$/.exec(ie)){var _e=parseInt(ie);if(0<=_e&&_e<256)if("?"===pe)U.push({type:0,index:_e});else{var Ee=(0,k.parseColor)(pe);Ee&&U.push({type:1,index:_e,color:Ee})}}}return U.length&&this._onColor.fire(U),!0},N.prototype._setOrReportSpecialColor=function(O,U){for(var Y=O.split(";"),ie=0;ie<Y.length&&!(U>=this._specialColors.length);++ie,++U)if("?"===Y[ie])this._onColor.fire([{type:0,index:this._specialColors[U]}]);else{var pe=(0,k.parseColor)(Y[ie]);pe&&this._onColor.fire([{type:1,index:this._specialColors[U],color:pe}])}return!0},N.prototype.setOrReportFgColor=function(O){return this._setOrReportSpecialColor(O,0)},N.prototype.setOrReportBgColor=function(O){return this._setOrReportSpecialColor(O,1)},N.prototype.setOrReportCursorColor=function(O){return this._setOrReportSpecialColor(O,2)},N.prototype.restoreIndexedColor=function(O){if(!O)return this._onColor.fire([{type:2}]),!0;for(var U=[],Y=O.split(";"),ie=0;ie<Y.length;++ie)if(/^\d+$/.exec(Y[ie])){var pe=parseInt(Y[ie]);0<=pe&&pe<256&&U.push({type:2,index:pe})}return U.length&&this._onColor.fire(U),!0},N.prototype.restoreFgColor=function(O){return this._onColor.fire([{type:2,index:256}]),!0},N.prototype.restoreBgColor=function(O){return this._onColor.fire([{type:2,index:257}]),!0},N.prototype.restoreCursorColor=function(O){return this._onColor.fire([{type:2,index:258}]),!0},N.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},N.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},N.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},N.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,M.DEFAULT_CHARSET),!0},N.prototype.selectCharset=function(O){return 2!==O.length?(this.selectDefaultCharset(),!0):("/"===O[0]||this._charsetService.setgCharset(V[O[0]],M.CHARSETS[O[1]]||M.DEFAULT_CHARSET),!0)},N.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},N.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},N.prototype.reverseIndex=function(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0},N.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},N.prototype.reset=function(){this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone()},N.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},N.prototype.setgLevel=function(O){return this._charsetService.setgLevel(O),!0},N.prototype.screenAlignmentPattern=function(){var O=new c.CellData;O.content=1<<22|"E".charCodeAt(0),O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(var U=0;U<this._bufferService.rows;++U){var ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+U);ie&&(ie.fill(O),ie.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},N}(h.Disposable);p.InputHandler=$},844:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getDisposeArrayDisposable=p.disposeArray=p.Disposable=void 0;var I=function(){function y(){this._disposables=[],this._isDisposed=!1}return y.prototype.dispose=function(){this._isDisposed=!0;for(var d=0,m=this._disposables;d<m.length;d++)m[d].dispose();this._disposables.length=0},y.prototype.register=function(d){return this._disposables.push(d),d},y.prototype.unregister=function(d){var m=this._disposables.indexOf(d);-1!==m&&this._disposables.splice(m,1)},y}();function _(y){for(var d=0,m=y;d<m.length;d++)m[d].dispose();y.length=0}p.Disposable=I,p.disposeArray=_,p.getDisposeArrayDisposable=function(y){return{dispose:function(){return _(y)}}}},6114:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.isLinux=p.isWindows=p.isIphone=p.isIpad=p.isMac=p.isSafari=p.isFirefox=void 0;var I="undefined"==typeof navigator,_=I?"node":navigator.userAgent,y=I?"node":navigator.platform;p.isFirefox=_.includes("Firefox"),p.isSafari=/^((?!chrome|android).)*safari/i.test(_),p.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(y),p.isIpad="iPad"===y,p.isIphone="iPhone"===y,p.isWindows=["Windows","Win16","Win32","WinCE"].includes(y),p.isLinux=y.indexOf("Linux")>=0},8273:(ne,p)=>{function I(_,y,d,m){if(void 0===d&&(d=0),void 0===m&&(m=_.length),d>=_.length)return _;m=m>=_.length?_.length:(_.length+m)%_.length;for(var M=d=(_.length+d)%_.length;M<m;++M)_[M]=y;return _}Object.defineProperty(p,"__esModule",{value:!0}),p.concat=p.fillFallback=p.fill=void 0,p.fill=function(_,y,d,m){return _.fill?_.fill(y,d,m):I(_,y,d,m)},p.fillFallback=I,p.concat=function(_,y){var d=new _.constructor(_.length+y.length);return d.set(_),d.set(y,_.length),d}},9282:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.updateWindowsModeWrappedState=void 0;var _=I(643);p.updateWindowsModeWrappedState=function(y){var d=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),m=null==d?void 0:d.get(y.cols-1),M=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);M&&m&&(M.isWrapped=m[_.CHAR_DATA_CODE_INDEX]!==_.NULL_CELL_CODE&&m[_.CHAR_DATA_CODE_INDEX]!==_.WHITESPACE_CELL_CODE)}},3734:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExtendedAttrs=p.AttributeData=void 0;var I=function(){function y(){this.fg=0,this.bg=0,this.extended=new _}return y.toColorRGB=function(d){return[d>>>16&255,d>>>8&255,255&d]},y.fromColorRGB=function(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]},y.prototype.clone=function(){var d=new y;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d},y.prototype.isInverse=function(){return 67108864&this.fg},y.prototype.isBold=function(){return 134217728&this.fg},y.prototype.isUnderline=function(){return 268435456&this.fg},y.prototype.isBlink=function(){return 536870912&this.fg},y.prototype.isInvisible=function(){return 1073741824&this.fg},y.prototype.isItalic=function(){return 67108864&this.bg},y.prototype.isDim=function(){return 134217728&this.bg},y.prototype.isStrikethrough=function(){return 2147483648&this.fg},y.prototype.getFgColorMode=function(){return 50331648&this.fg},y.prototype.getBgColorMode=function(){return 50331648&this.bg},y.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},y.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},y.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},y.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},y.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},y.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},y.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},y.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},y.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},y.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},y.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},y.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},y.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},y.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},y.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},y.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},y.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},y}();p.AttributeData=I;var _=function(){function y(d,m){void 0===d&&(d=0),void 0===m&&(m=-1),this.underlineStyle=d,this.underlineColor=m}return y.prototype.clone=function(){return new y(this.underlineStyle,this.underlineColor)},y.prototype.isEmpty=function(){return 0===this.underlineStyle},y}();p.ExtendedAttrs=_},9092:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferStringIterator=p.Buffer=p.MAX_BUFFER_SIZE=void 0;var _=I(6349),y=I(8437),d=I(511),m=I(643),M=I(4634),A=I(4863),h=I(7116),g=I(3734);p.MAX_BUFFER_SIZE=4294967295;var E=function(){function l(u,c,D){this._hasScrollback=u,this._optionsService=c,this._bufferService=D,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=h.DEFAULT_CHARSET,this.markers=[],this._nullCell=d.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=d.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return l.prototype.getNullCell=function(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new g.ExtendedAttrs),this._nullCell},l.prototype.getWhitespaceCell=function(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new g.ExtendedAttrs),this._whitespaceCell},l.prototype.getBlankLine=function(u,c){return new y.BufferLine(this._bufferService.cols,this.getNullCell(u),c)},Object.defineProperty(l.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isCursorInViewport",{get:function(){var u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows},enumerable:!1,configurable:!0}),l.prototype._getCorrectBufferLength=function(u){if(!this._hasScrollback)return u;var c=u+this._optionsService.options.scrollback;return c>p.MAX_BUFFER_SIZE?p.MAX_BUFFER_SIZE:c},l.prototype.fillViewportRows=function(u){if(0===this.lines.length){void 0===u&&(u=y.DEFAULT_ATTR_DATA);for(var c=this._rows;c--;)this.lines.push(this.getBlankLine(u))}},l.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},l.prototype.resize=function(u,c){var D=this.getNullCell(y.DEFAULT_ATTR_DATA),S=this._getCorrectBufferLength(c);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<u)for(var w=0;w<this.lines.length;w++)this.lines.get(w).resize(u,D);var T=0;if(this._rows<c)for(var k=this._rows;k<c;k++)this.lines.length<c+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new y.BufferLine(u,D)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(u,D)));else for(k=this._rows;k>c;k--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){var V=this.lines.length-S;V>0&&(this.lines.trimStart(V),this.ybase=Math.max(this.ybase-V,0),this.ydisp=Math.max(this.ydisp-V,0),this.savedY=Math.max(this.savedY-V,0)),this.lines.maxLength=S}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,c-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(u,c),this._cols>u))for(w=0;w<this.lines.length;w++)this.lines.get(w).resize(u,D);this._cols=u,this._rows=c},Object.defineProperty(l.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),l.prototype._reflow=function(u,c){this._cols!==u&&(u>this._cols?this._reflowLarger(u,c):this._reflowSmaller(u,c))},l.prototype._reflowLarger=function(u,c){var D=(0,M.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(D.length>0){var S=(0,M.reflowLargerCreateNewLayout)(this.lines,D);(0,M.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(u,c,S.countRemoved)}},l.prototype._reflowLargerAdjustViewport=function(u,c,D){for(var S=this.getNullCell(y.DEFAULT_ATTR_DATA),w=D;w-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new y.BufferLine(u,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-D,0)},l.prototype._reflowSmaller=function(u,c){for(var D=this.getNullCell(y.DEFAULT_ATTR_DATA),S=[],w=0,T=this.lines.length-1;T>=0;T--){var k=this.lines.get(T);if(!(!k||!k.isWrapped&&k.getTrimmedLength()<=u)){for(var V=[k];k.isWrapped&&T>0;)k=this.lines.get(--T),V.unshift(k);var L=this.ybase+this.y;if(!(L>=T&&L<T+V.length)){var H,Z=V[V.length-1].getTrimmedLength(),$=(0,M.reflowSmallerGetNewLineLengths)(V,this._cols,u),z=$.length-V.length;H=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+z):Math.max(0,this.lines.length-this.lines.maxLength+z);for(var N=[],O=0;O<z;O++){var U=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);N.push(U)}N.length>0&&(S.push({start:T+V.length+w,newLines:N}),w+=N.length),V.push.apply(V,N);var Y=$.length-1,ie=$[Y];0===ie&&(ie=$[--Y]);for(var pe=V.length-z-1,_e=Z;pe>=0;){var Ee=Math.min(_e,ie);if(V[Y].copyCellsFrom(V[pe],_e-Ee,ie-Ee,Ee,!0),0==(ie-=Ee)&&(ie=$[--Y]),0==(_e-=Ee)){pe--;var Re=Math.max(pe,0);_e=(0,M.getWrappedLineTrimmedLength)(V,Re,this._cols)}}for(O=0;O<V.length;O++)$[O]<u&&V[O].setCell($[O],D);for(var xe=z-H;xe-- >0;)0===this.ybase?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+z,this.ybase+c-1)}}}if(S.length>0){var q=[],J=[];for(O=0;O<this.lines.length;O++)J.push(this.lines.get(O));var re=this.lines.length,ue=re-1,se=0,Pe=S[se];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);var Ve=0;for(O=Math.min(this.lines.maxLength-1,re+w-1);O>=0;O--)if(Pe&&Pe.start>ue+Ve){for(var ht=Pe.newLines.length-1;ht>=0;ht--)this.lines.set(O--,Pe.newLines[ht]);O++,q.push({index:ue+1,amount:Pe.newLines.length}),Ve+=Pe.newLines.length,Pe=S[++se]}else this.lines.set(O,J[ue--]);var Mt=0;for(O=q.length-1;O>=0;O--)q[O].index+=Mt,this.lines.onInsertEmitter.fire(q[O]),Mt+=q[O].amount;var Tt=Math.max(0,re+w-this.lines.maxLength);Tt>0&&this.lines.onTrimEmitter.fire(Tt)}},l.prototype.stringIndexToBufferIndex=function(u,c,D){for(void 0===D&&(D=!1);c;){var S=this.lines.get(u);if(!S)return[-1,-1];for(var w=D?S.getTrimmedLength():S.length,T=0;T<w;++T)if(S.get(T)[m.CHAR_DATA_WIDTH_INDEX]&&(c-=S.get(T)[m.CHAR_DATA_CHAR_INDEX].length||1),c<0)return[u,T];u++}return[u,0]},l.prototype.translateBufferLineToString=function(u,c,D,S){void 0===D&&(D=0);var w=this.lines.get(u);return w?w.translateToString(c,D,S):""},l.prototype.getWrappedRangeForLine=function(u){for(var c=u,D=u;c>0&&this.lines.get(c).isWrapped;)c--;for(;D+1<this.lines.length&&this.lines.get(D+1).isWrapped;)D++;return{first:c,last:D}},l.prototype.setupTabStops=function(u){for(null!=u?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.options.tabStopWidth)this.tabs[u]=!0},l.prototype.prevStop=function(u){for(null==u&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u},l.prototype.nextStop=function(u){for(null==u&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u},l.prototype.addMarker=function(u){var c=this,D=new A.Marker(u);return this.markers.push(D),D.register(this.lines.onTrim(function(S){D.line-=S,D.line<0&&D.dispose()})),D.register(this.lines.onInsert(function(S){D.line>=S.index&&(D.line+=S.amount)})),D.register(this.lines.onDelete(function(S){D.line>=S.index&&D.line<S.index+S.amount&&D.dispose(),D.line>S.index&&(D.line-=S.amount)})),D.register(D.onDispose(function(){return c._removeMarker(D)})),D},l.prototype._removeMarker=function(u){this.markers.splice(this.markers.indexOf(u),1)},l.prototype.iterator=function(u,c,D,S,w){return new C(this,u,c,D,S,w)},l}();p.Buffer=E;var C=function(){function l(u,c,D,S,w,T){void 0===D&&(D=0),void 0===S&&(S=u.lines.length),void 0===w&&(w=0),void 0===T&&(T=0),this._buffer=u,this._trimRight=c,this._startIndex=D,this._endIndex=S,this._startOverscan=w,this._endOverscan=T,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return l.prototype.hasNext=function(){return this._current<this._endIndex},l.prototype.next=function(){var u=this._buffer.getWrappedRangeForLine(this._current);u.first<this._startIndex-this._startOverscan&&(u.first=this._startIndex-this._startOverscan),u.last>this._endIndex+this._endOverscan&&(u.last=this._endIndex+this._endOverscan),u.first=Math.max(u.first,0),u.last=Math.min(u.last,this._buffer.lines.length);for(var c="",D=u.first;D<=u.last;++D)c+=this._buffer.translateBufferLineToString(D,this._trimRight);return this._current=u.last+1,{range:u,content:c}},l}();p.BufferStringIterator=C},8437:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLine=p.DEFAULT_ATTR_DATA=void 0;var _=I(482),y=I(643),d=I(511),m=I(3734);p.DEFAULT_ATTR_DATA=Object.freeze(new m.AttributeData);var M=function(){function A(h,g,E){void 0===E&&(E=!1),this.isWrapped=E,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);for(var C=g||d.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),l=0;l<h;++l)this.setCell(l,C);this.length=h}return A.prototype.get=function(h){var g=this._data[3*h+0],E=2097151&g;return[this._data[3*h+1],2097152&g?this._combined[h]:E?(0,_.stringFromCodePoint)(E):"",g>>22,2097152&g?this._combined[h].charCodeAt(this._combined[h].length-1):E]},A.prototype.set=function(h,g){this._data[3*h+1]=g[y.CHAR_DATA_ATTR_INDEX],g[y.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=g[1],this._data[3*h+0]=2097152|h|g[y.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=g[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[y.CHAR_DATA_WIDTH_INDEX]<<22},A.prototype.getWidth=function(h){return this._data[3*h+0]>>22},A.prototype.hasWidth=function(h){return 12582912&this._data[3*h+0]},A.prototype.getFg=function(h){return this._data[3*h+1]},A.prototype.getBg=function(h){return this._data[3*h+2]},A.prototype.hasContent=function(h){return 4194303&this._data[3*h+0]},A.prototype.getCodePoint=function(h){var g=this._data[3*h+0];return 2097152&g?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&g},A.prototype.isCombined=function(h){return 2097152&this._data[3*h+0]},A.prototype.getString=function(h){var g=this._data[3*h+0];return 2097152&g?this._combined[h]:2097151&g?(0,_.stringFromCodePoint)(2097151&g):""},A.prototype.loadCell=function(h,g){var E=3*h;return g.content=this._data[E+0],g.fg=this._data[E+1],g.bg=this._data[E+2],2097152&g.content&&(g.combinedData=this._combined[h]),268435456&g.bg&&(g.extended=this._extendedAttrs[h]),g},A.prototype.setCell=function(h,g){2097152&g.content&&(this._combined[h]=g.combinedData),268435456&g.bg&&(this._extendedAttrs[h]=g.extended),this._data[3*h+0]=g.content,this._data[3*h+1]=g.fg,this._data[3*h+2]=g.bg},A.prototype.setCellFromCodePoint=function(h,g,E,C,l,u){268435456&l&&(this._extendedAttrs[h]=u),this._data[3*h+0]=g|E<<22,this._data[3*h+1]=C,this._data[3*h+2]=l},A.prototype.addCodepointToCell=function(h,g){var E=this._data[3*h+0];2097152&E?this._combined[h]+=(0,_.stringFromCodePoint)(g):(2097151&E?(this._combined[h]=(0,_.stringFromCodePoint)(2097151&E)+(0,_.stringFromCodePoint)(g),E&=-2097152,E|=2097152):E=g|1<<22,this._data[3*h+0]=E)},A.prototype.insertCells=function(h,g,E,C){if((h%=this.length)&&2===this.getWidth(h-1)&&this.setCellFromCodePoint(h-1,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs),g<this.length-h){for(var l=new d.CellData,u=this.length-h-g-1;u>=0;--u)this.setCell(h+g+u,this.loadCell(h+u,l));for(u=0;u<g;++u)this.setCell(h+u,E)}else for(u=h;u<this.length;++u)this.setCell(u,E);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs)},A.prototype.deleteCells=function(h,g,E,C){if(g<this.length-(h%=this.length)){for(var l=new d.CellData,u=0;u<this.length-h-g;++u)this.setCell(h+u,this.loadCell(h+g+u,l));for(u=this.length-g;u<this.length;++u)this.setCell(u,E)}else for(u=h;u<this.length;++u)this.setCell(u,E);h&&2===this.getWidth(h-1)&&this.setCellFromCodePoint(h-1,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs),0!==this.getWidth(h)||this.hasContent(h)||this.setCellFromCodePoint(h,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs)},A.prototype.replaceCells=function(h,g,E,C){for(h&&2===this.getWidth(h-1)&&this.setCellFromCodePoint(h-1,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs),g<this.length&&2===this.getWidth(g-1)&&this.setCellFromCodePoint(g,0,1,(null==C?void 0:C.fg)||0,(null==C?void 0:C.bg)||0,(null==C?void 0:C.extended)||new m.ExtendedAttrs);h<g&&h<this.length;)this.setCell(h++,E)},A.prototype.resize=function(h,g){if(h!==this.length){if(h>this.length){var E=new Uint32Array(3*h);this.length&&E.set(3*h<this._data.length?this._data.subarray(0,3*h):this._data),this._data=E;for(var C=this.length;C<h;++C)this.setCell(C,g)}else if(h){(E=new Uint32Array(3*h)).set(this._data.subarray(0,3*h)),this._data=E;var l=Object.keys(this._combined);for(C=0;C<l.length;C++){var u=parseInt(l[C],10);u>=h&&delete this._combined[u]}}else this._data=new Uint32Array(0),this._combined={};this.length=h}},A.prototype.fill=function(h){this._combined={},this._extendedAttrs={};for(var g=0;g<this.length;++g)this.setCell(g,h)},A.prototype.copyFrom=function(h){for(var g in this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={},h._combined)this._combined[g]=h._combined[g];for(var g in this._extendedAttrs={},h._extendedAttrs)this._extendedAttrs[g]=h._extendedAttrs[g];this.isWrapped=h.isWrapped},A.prototype.clone=function(){var h=new A(0);for(var g in h._data=new Uint32Array(this._data),h.length=this.length,this._combined)h._combined[g]=this._combined[g];for(var g in this._extendedAttrs)h._extendedAttrs[g]=this._extendedAttrs[g];return h.isWrapped=this.isWrapped,h},A.prototype.getTrimmedLength=function(){for(var h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0},A.prototype.copyCellsFrom=function(h,g,E,C,l){var u=h._data;if(l)for(var c=C-1;c>=0;c--)for(var D=0;D<3;D++)this._data[3*(E+c)+D]=u[3*(g+c)+D];else for(c=0;c<C;c++)for(D=0;D<3;D++)this._data[3*(E+c)+D]=u[3*(g+c)+D];var S=Object.keys(h._combined);for(D=0;D<S.length;D++){var w=parseInt(S[D],10);w>=g&&(this._combined[w-g+E]=h._combined[w])}},A.prototype.translateToString=function(h,g,E){void 0===h&&(h=!1),void 0===g&&(g=0),void 0===E&&(E=this.length),h&&(E=Math.min(E,this.getTrimmedLength()));for(var C="";g<E;){var l=this._data[3*g+0],u=2097151&l;C+=2097152&l?this._combined[g]:u?(0,_.stringFromCodePoint)(u):y.WHITESPACE_CELL_CHAR,g+=l>>22||1}return C},A}();p.BufferLine=M},4841:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getRangeLength=void 0,p.getRangeLength=function(I,_){if(I.start.y>I.end.y)throw new Error("Buffer range end ("+I.end.x+", "+I.end.y+") cannot be before start ("+I.start.x+", "+I.start.y+")");return _*(I.end.y-I.start.y)+(I.end.x-I.start.x+1)}},4634:(ne,p)=>{function I(_,y,d){if(y===_.length-1)return _[y].getTrimmedLength();var m=!_[y].hasContent(d-1)&&1===_[y].getWidth(d-1),M=2===_[y+1].getWidth(0);return m&&M?d-1:d}Object.defineProperty(p,"__esModule",{value:!0}),p.getWrappedLineTrimmedLength=p.reflowSmallerGetNewLineLengths=p.reflowLargerApplyNewLayout=p.reflowLargerCreateNewLayout=p.reflowLargerGetLinesToRemove=void 0,p.reflowLargerGetLinesToRemove=function(_,y,d,m,M){for(var A=[],h=0;h<_.length-1;h++){var g=h,E=_.get(++g);if(E.isWrapped){for(var C=[_.get(h)];g<_.length&&E.isWrapped;)C.push(E),E=_.get(++g);if(m>=h&&m<g)h+=C.length-1;else{for(var l=0,u=I(C,l,y),c=1,D=0;c<C.length;){var S=I(C,c,y),k=Math.min(S-D,d-u);C[l].copyCellsFrom(C[c],D,u,k,!1),(u+=k)===d&&(l++,u=0),(D+=k)===S&&(c++,D=0),0===u&&0!==l&&2===C[l-1].getWidth(d-1)&&(C[l].copyCellsFrom(C[l-1],d-1,u++,1,!1),C[l-1].setCell(d-1,M))}C[l].replaceCells(u,d,M);for(var V=0,L=C.length-1;L>0&&(L>l||0===C[L].getTrimmedLength());L--)V++;V>0&&(A.push(h+C.length-V),A.push(V)),h+=C.length-1}}}return A},p.reflowLargerCreateNewLayout=function(_,y){for(var d=[],m=0,M=y[m],A=0,h=0;h<_.length;h++)if(M===h){var g=y[++m];_.onDeleteEmitter.fire({index:h-A,amount:g}),h+=g-1,A+=g,M=y[++m]}else d.push(h);return{layout:d,countRemoved:A}},p.reflowLargerApplyNewLayout=function(_,y){for(var d=[],m=0;m<y.length;m++)d.push(_.get(y[m]));for(m=0;m<d.length;m++)_.set(m,d[m]);_.length=y.length},p.reflowSmallerGetNewLineLengths=function(_,y,d){for(var m=[],M=_.map(function(u,c){return I(_,c,y)}).reduce(function(u,c){return u+c}),A=0,h=0,g=0;g<M;){if(M-g<d){m.push(M-g);break}A+=d;var E=I(_,h,y);A>E&&(A-=E,h++);var C=2===_[h].getWidth(A-1);C&&A--;var l=C?d-1:d;m.push(l),g+=l}return m},p.getWrappedLineTrimmedLength=I},5295:function(ne,p,I){var _,y=this&&this.__extends||(_=function(A,h){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(g[C]=E[C])})(A,h)},function(A,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function g(){this.constructor=A}_(A,h),A.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)});Object.defineProperty(p,"__esModule",{value:!0}),p.BufferSet=void 0;var d=I(9092),m=I(8460),M=function(A){function h(g,E){var C=A.call(this)||this;return C._optionsService=g,C._bufferService=E,C._onBufferActivate=C.register(new m.EventEmitter),C.reset(),C}return y(h,A),Object.defineProperty(h.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),h.prototype.reset=function(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(h.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),h.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},h.prototype.activateAltBuffer=function(g){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(g),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},h.prototype.resize=function(g,E){this._normal.resize(g,E),this._alt.resize(g,E)},h.prototype.setupTabStops=function(g){this._normal.setupTabStops(g),this._alt.setupTabStops(g)},h}(I(844).Disposable);p.BufferSet=M},511:function(ne,p,I){var _,y=this&&this.__extends||(_=function(h,g){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,C){E.__proto__=C}||function(E,C){for(var l in C)Object.prototype.hasOwnProperty.call(C,l)&&(E[l]=C[l])})(h,g)},function(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function E(){this.constructor=h}_(h,g),h.prototype=null===g?Object.create(g):(E.prototype=g.prototype,new E)});Object.defineProperty(p,"__esModule",{value:!0}),p.CellData=void 0;var d=I(482),m=I(643),M=I(3734),A=function(h){function g(){var E=null!==h&&h.apply(this,arguments)||this;return E.content=0,E.fg=0,E.bg=0,E.extended=new M.ExtendedAttrs,E.combinedData="",E}return y(g,h),g.fromCharData=function(E){var C=new g;return C.setFromCharData(E),C},g.prototype.isCombined=function(){return 2097152&this.content},g.prototype.getWidth=function(){return this.content>>22},g.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""},g.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},g.prototype.setFromCharData=function(E){this.fg=E[m.CHAR_DATA_ATTR_INDEX],this.bg=0;var C=!1;if(E[m.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(2===E[m.CHAR_DATA_CHAR_INDEX].length){var l=E[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){var u=E[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=u&&u<=57343?this.content=1024*(l-55296)+u-56320+65536|E[m.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=E[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|E[m.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=E[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|E[m.CHAR_DATA_WIDTH_INDEX]<<22)},g.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},g}(M.AttributeData);p.CellData=A},643:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WHITESPACE_CELL_CODE=p.WHITESPACE_CELL_WIDTH=p.WHITESPACE_CELL_CHAR=p.NULL_CELL_CODE=p.NULL_CELL_WIDTH=p.NULL_CELL_CHAR=p.CHAR_DATA_CODE_INDEX=p.CHAR_DATA_WIDTH_INDEX=p.CHAR_DATA_CHAR_INDEX=p.CHAR_DATA_ATTR_INDEX=p.DEFAULT_ATTR=p.DEFAULT_COLOR=void 0,p.DEFAULT_COLOR=256,p.DEFAULT_ATTR=256|p.DEFAULT_COLOR<<9,p.CHAR_DATA_ATTR_INDEX=0,p.CHAR_DATA_CHAR_INDEX=1,p.CHAR_DATA_WIDTH_INDEX=2,p.CHAR_DATA_CODE_INDEX=3,p.NULL_CELL_CHAR="",p.NULL_CELL_WIDTH=1,p.NULL_CELL_CODE=0,p.WHITESPACE_CELL_CHAR=" ",p.WHITESPACE_CELL_WIDTH=1,p.WHITESPACE_CELL_CODE=32},4863:function(ne,p,I){var _,y=this&&this.__extends||(_=function(M,A){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(h[E]=g[E])})(M,A)},function(M,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function h(){this.constructor=M}_(M,A),M.prototype=null===A?Object.create(A):(h.prototype=A.prototype,new h)});Object.defineProperty(p,"__esModule",{value:!0}),p.Marker=void 0;var d=I(8460),m=function(M){function A(h){var g=M.call(this)||this;return g.line=h,g._id=A._nextId++,g.isDisposed=!1,g._onDispose=new d.EventEmitter,g}return y(A,M),Object.defineProperty(A.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),M.prototype.dispose.call(this))},A._nextId=1,A}(I(844).Disposable);p.Marker=m},7116:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DEFAULT_CHARSET=p.CHARSETS=void 0,p.CHARSETS={},p.DEFAULT_CHARSET=p.CHARSETS.B,p.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},p.CHARSETS.A={"#":"\xa3"},p.CHARSETS.B=void 0,p.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},p.CHARSETS.C=p.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},p.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},p.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},p.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},p.CHARSETS.E=p.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},p.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},p.CHARSETS.H=p.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(ne,p)=>{var I,_;Object.defineProperty(p,"__esModule",{value:!0}),p.C1=p.C0=void 0,(_=p.C0||(p.C0={})).NUL="\0",_.SOH="\x01",_.STX="\x02",_.ETX="\x03",_.EOT="\x04",_.ENQ="\x05",_.ACK="\x06",_.BEL="\x07",_.BS="\b",_.HT="\t",_.LF="\n",_.VT="\v",_.FF="\f",_.CR="\r",_.SO="\x0e",_.SI="\x0f",_.DLE="\x10",_.DC1="\x11",_.DC2="\x12",_.DC3="\x13",_.DC4="\x14",_.NAK="\x15",_.SYN="\x16",_.ETB="\x17",_.CAN="\x18",_.EM="\x19",_.SUB="\x1a",_.ESC="\x1b",_.FS="\x1c",_.GS="\x1d",_.RS="\x1e",_.US="\x1f",_.SP=" ",_.DEL="\x7f",(I=p.C1||(p.C1={})).PAD="\x80",I.HOP="\x81",I.BPH="\x82",I.NBH="\x83",I.IND="\x84",I.NEL="\x85",I.SSA="\x86",I.ESA="\x87",I.HTS="\x88",I.HTJ="\x89",I.VTS="\x8a",I.PLD="\x8b",I.PLU="\x8c",I.RI="\x8d",I.SS2="\x8e",I.SS3="\x8f",I.DCS="\x90",I.PU1="\x91",I.PU2="\x92",I.STS="\x93",I.CCH="\x94",I.MW="\x95",I.SPA="\x96",I.EPA="\x97",I.SOS="\x98",I.SGCI="\x99",I.SCI="\x9a",I.CSI="\x9b",I.ST="\x9c",I.OSC="\x9d",I.PM="\x9e",I.APC="\x9f"},7399:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.evaluateKeyboardEvent=void 0;var _=I(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};p.evaluateKeyboardEvent=function(d,m,M,A){var h={type:0,cancel:!1,key:void 0},g=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:"UIKeyInputUpArrow"===d.key?h.key=m?_.C0.ESC+"OA":_.C0.ESC+"[A":"UIKeyInputLeftArrow"===d.key?h.key=m?_.C0.ESC+"OD":_.C0.ESC+"[D":"UIKeyInputRightArrow"===d.key?h.key=m?_.C0.ESC+"OC":_.C0.ESC+"[C":"UIKeyInputDownArrow"===d.key&&(h.key=m?_.C0.ESC+"OB":_.C0.ESC+"[B");break;case 8:if(d.shiftKey){h.key=_.C0.BS;break}if(d.altKey){h.key=_.C0.ESC+_.C0.DEL;break}h.key=_.C0.DEL;break;case 9:if(d.shiftKey){h.key=_.C0.ESC+"[Z";break}h.key=_.C0.HT,h.cancel=!0;break;case 13:h.key=d.altKey?_.C0.ESC+_.C0.CR:_.C0.CR,h.cancel=!0;break;case 27:h.key=_.C0.ESC,d.altKey&&(h.key=_.C0.ESC+_.C0.ESC),h.cancel=!0;break;case 37:if(d.metaKey)break;g?(h.key=_.C0.ESC+"[1;"+(g+1)+"D",h.key===_.C0.ESC+"[1;3D"&&(h.key=_.C0.ESC+(M?"b":"[1;5D"))):h.key=m?_.C0.ESC+"OD":_.C0.ESC+"[D";break;case 39:if(d.metaKey)break;g?(h.key=_.C0.ESC+"[1;"+(g+1)+"C",h.key===_.C0.ESC+"[1;3C"&&(h.key=_.C0.ESC+(M?"f":"[1;5C"))):h.key=m?_.C0.ESC+"OC":_.C0.ESC+"[C";break;case 38:if(d.metaKey)break;g?(h.key=_.C0.ESC+"[1;"+(g+1)+"A",M||h.key!==_.C0.ESC+"[1;3A"||(h.key=_.C0.ESC+"[1;5A")):h.key=m?_.C0.ESC+"OA":_.C0.ESC+"[A";break;case 40:if(d.metaKey)break;g?(h.key=_.C0.ESC+"[1;"+(g+1)+"B",M||h.key!==_.C0.ESC+"[1;3B"||(h.key=_.C0.ESC+"[1;5B")):h.key=m?_.C0.ESC+"OB":_.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(h.key=_.C0.ESC+"[2~");break;case 46:h.key=g?_.C0.ESC+"[3;"+(g+1)+"~":_.C0.ESC+"[3~";break;case 36:h.key=g?_.C0.ESC+"[1;"+(g+1)+"H":m?_.C0.ESC+"OH":_.C0.ESC+"[H";break;case 35:h.key=g?_.C0.ESC+"[1;"+(g+1)+"F":m?_.C0.ESC+"OF":_.C0.ESC+"[F";break;case 33:d.shiftKey?h.type=2:h.key=_.C0.ESC+"[5~";break;case 34:d.shiftKey?h.type=3:h.key=_.C0.ESC+"[6~";break;case 112:h.key=g?_.C0.ESC+"[1;"+(g+1)+"P":_.C0.ESC+"OP";break;case 113:h.key=g?_.C0.ESC+"[1;"+(g+1)+"Q":_.C0.ESC+"OQ";break;case 114:h.key=g?_.C0.ESC+"[1;"+(g+1)+"R":_.C0.ESC+"OR";break;case 115:h.key=g?_.C0.ESC+"[1;"+(g+1)+"S":_.C0.ESC+"OS";break;case 116:h.key=g?_.C0.ESC+"[15;"+(g+1)+"~":_.C0.ESC+"[15~";break;case 117:h.key=g?_.C0.ESC+"[17;"+(g+1)+"~":_.C0.ESC+"[17~";break;case 118:h.key=g?_.C0.ESC+"[18;"+(g+1)+"~":_.C0.ESC+"[18~";break;case 119:h.key=g?_.C0.ESC+"[19;"+(g+1)+"~":_.C0.ESC+"[19~";break;case 120:h.key=g?_.C0.ESC+"[20;"+(g+1)+"~":_.C0.ESC+"[20~";break;case 121:h.key=g?_.C0.ESC+"[21;"+(g+1)+"~":_.C0.ESC+"[21~";break;case 122:h.key=g?_.C0.ESC+"[23;"+(g+1)+"~":_.C0.ESC+"[23~";break;case 123:h.key=g?_.C0.ESC+"[24;"+(g+1)+"~":_.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(M&&!A||!d.altKey||d.metaKey)!M||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&1===d.key.length?h.key=d.key:d.key&&d.ctrlKey&&"_"===d.key&&(h.key=_.C0.US):65===d.keyCode&&(h.type=1);else{var E=y[d.keyCode],C=null==E?void 0:E[d.shiftKey?1:0];C?h.key=_.C0.ESC+C:d.keyCode>=65&&d.keyCode<=90&&(h.key=_.C0.ESC+String.fromCharCode(d.ctrlKey?d.keyCode-64:d.keyCode+32))}else d.keyCode>=65&&d.keyCode<=90?h.key=String.fromCharCode(d.keyCode-64):32===d.keyCode?h.key=_.C0.NUL:d.keyCode>=51&&d.keyCode<=55?h.key=String.fromCharCode(d.keyCode-51+27):56===d.keyCode?h.key=_.C0.DEL:219===d.keyCode?h.key=_.C0.ESC:220===d.keyCode?h.key=_.C0.FS:221===d.keyCode&&(h.key=_.C0.GS)}return h}},482:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Utf8ToUtf32=p.StringToUtf32=p.utf32ToString=p.stringFromCodePoint=void 0,p.stringFromCodePoint=function(y){return y>65535?(y-=65536,String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):String.fromCharCode(y)},p.utf32ToString=function(y,d,m){void 0===d&&(d=0),void 0===m&&(m=y.length);for(var M="",A=d;A<m;++A){var h=y[A];h>65535?(h-=65536,M+=String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):M+=String.fromCharCode(h)}return M};var I=function(){function y(){this._interim=0}return y.prototype.clear=function(){this._interim=0},y.prototype.decode=function(d,m){var M=d.length;if(!M)return 0;var A=0,h=0;this._interim&&(56320<=(C=d.charCodeAt(h++))&&C<=57343?m[A++]=1024*(this._interim-55296)+C-56320+65536:(m[A++]=this._interim,m[A++]=C),this._interim=0);for(var g=h;g<M;++g){var E=d.charCodeAt(g);if(55296<=E&&E<=56319){if(++g>=M)return this._interim=E,A;var C;56320<=(C=d.charCodeAt(g))&&C<=57343?m[A++]=1024*(E-55296)+C-56320+65536:(m[A++]=E,m[A++]=C)}else 65279!==E&&(m[A++]=E)}return A},y}();p.StringToUtf32=I;var _=function(){function y(){this.interim=new Uint8Array(3)}return y.prototype.clear=function(){this.interim.fill(0)},y.prototype.decode=function(d,m){var M=d.length;if(!M)return 0;var A,h,g,E,C=0,l=0,u=0;if(this.interim[0]){var c=!1,D=this.interim[0];D&=192==(224&D)?31:224==(240&D)?15:7;for(var S=0,w=void 0;(w=63&this.interim[++S])&&S<4;)D<<=6,D|=w;for(var T=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,k=T-S;u<k;){if(u>=M)return 0;if(128!=(192&(w=d[u++]))){u--,c=!0;break}this.interim[S++]=w,D<<=6,D|=63&w}c||(2===T?D<128?u--:m[C++]=D:3===T?D<2048||D>=55296&&D<=57343||65279===D||(m[C++]=D):D<65536||D>1114111||(m[C++]=D)),this.interim.fill(0)}for(var V=M-4,L=u;L<M;){for(;!(!(L<V)||128&(A=d[L])||128&(h=d[L+1])||128&(g=d[L+2])||128&(E=d[L+3]));)m[C++]=A,m[C++]=h,m[C++]=g,m[C++]=E,L+=4;if((A=d[L++])<128)m[C++]=A;else if(192==(224&A)){if(L>=M)return this.interim[0]=A,C;if(128!=(192&(h=d[L++]))){L--;continue}if((l=(31&A)<<6|63&h)<128){L--;continue}m[C++]=l}else if(224==(240&A)){if(L>=M)return this.interim[0]=A,C;if(128!=(192&(h=d[L++]))){L--;continue}if(L>=M)return this.interim[0]=A,this.interim[1]=h,C;if(128!=(192&(g=d[L++]))){L--;continue}if((l=(15&A)<<12|(63&h)<<6|63&g)<2048||l>=55296&&l<=57343||65279===l)continue;m[C++]=l}else if(240==(248&A)){if(L>=M)return this.interim[0]=A,C;if(128!=(192&(h=d[L++]))){L--;continue}if(L>=M)return this.interim[0]=A,this.interim[1]=h,C;if(128!=(192&(g=d[L++]))){L--;continue}if(L>=M)return this.interim[0]=A,this.interim[1]=h,this.interim[2]=g,C;if(128!=(192&(E=d[L++]))){L--;continue}if((l=(7&A)<<18|(63&h)<<12|(63&g)<<6|63&E)<65536||l>1114111)continue;m[C++]=l}}return C},y}();p.Utf8ToUtf32=_},225:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeV6=void 0;var _,y=I(8273),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],M=function(){function A(){if(this.version="6",!_){_=new Uint8Array(65536),(0,y.fill)(_,1),_[0]=0,(0,y.fill)(_,0,1,32),(0,y.fill)(_,0,127,160),(0,y.fill)(_,2,4352,4448),_[9001]=2,_[9002]=2,(0,y.fill)(_,2,11904,42192),_[12351]=1,(0,y.fill)(_,2,44032,55204),(0,y.fill)(_,2,63744,64256),(0,y.fill)(_,2,65040,65050),(0,y.fill)(_,2,65072,65136),(0,y.fill)(_,2,65280,65377),(0,y.fill)(_,2,65504,65511);for(var h=0;h<d.length;++h)(0,y.fill)(_,0,d[h][0],d[h][1]+1)}}return A.prototype.wcwidth=function(h){return h<32?0:h<127?1:h<65536?_[h]:function(g,E){var C,l=0,u=E.length-1;if(g<E[0][0]||g>E[u][1])return!1;for(;u>=l;)if(g>E[C=l+u>>1][1])l=C+1;else{if(!(g<E[C][0]))return!0;u=C-1}return!1}(h,m)?0:h>=131072&&h<=196605||h>=196608&&h<=262141?2:1},A}();p.UnicodeV6=M},5981:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WriteBuffer=void 0;var I="undefined"==typeof queueMicrotask?function(y){Promise.resolve().then(y)}:queueMicrotask,_=function(){function y(d){this._action=d,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return y.prototype.writeSync=function(d,m){if(void 0!==m&&this._syncCalls>m)this._syncCalls=0;else if(this._pendingData+=d.length,this._writeBuffer.push(d),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var M;for(this._isSyncWriting=!0;M=this._writeBuffer.shift();){this._action(M);var A=this._callbacks.shift();A&&A()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},y.prototype.write=function(d,m){var M=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return M._innerWrite()})),this._pendingData+=d.length,this._writeBuffer.push(d),this._callbacks.push(m)},y.prototype._innerWrite=function(d,m){var M=this;void 0===d&&(d=0),void 0===m&&(m=!0);for(var A=d||Date.now();this._writeBuffer.length>this._bufferOffset;){var h=this._writeBuffer[this._bufferOffset],g=this._action(h,m);if(g)return void g.catch(function(C){return I(function(){throw C}),Promise.resolve(!1)}).then(function(C){return Date.now()-A>=12?setTimeout(function(){return M._innerWrite(0,C)}):M._innerWrite(A,C)});var E=this._callbacks[this._bufferOffset];if(E&&E(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-A>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return M._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},y}();p.WriteBuffer=_},5941:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.toRgbString=p.parseColor=void 0;var I=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,_=/^[\da-f]+$/;function y(d,m){var M=d.toString(16),A=M.length<2?"0"+M:M;switch(m){case 4:return M[0];case 8:return A;case 12:return(A+A).slice(0,3);default:return A+A}}p.parseColor=function(d){if(d){var m=d.toLowerCase();if(0===m.indexOf("rgb:")){m=m.slice(4);var M=I.exec(m);if(M){var A=M[1]?15:M[4]?255:M[7]?4095:65535;return[Math.round(parseInt(M[1]||M[4]||M[7]||M[10],16)/A*255),Math.round(parseInt(M[2]||M[5]||M[8]||M[11],16)/A*255),Math.round(parseInt(M[3]||M[6]||M[9]||M[12],16)/A*255)]}}else if(0===m.indexOf("#")&&(m=m.slice(1),_.exec(m)&&[3,6,9,12].includes(m.length))){for(var h=m.length/3,g=[0,0,0],E=0;E<3;++E){var C=parseInt(m.slice(h*E,h*E+h),16);g[E]=1===h?C<<4:2===h?C:3===h?C>>4:C>>8}return g}}},p.toRgbString=function(d,m){void 0===m&&(m=16);var A=d[1],h=d[2];return"rgb:"+y(d[0],m)+"/"+y(A,m)+"/"+y(h,m)}},5770:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PAYLOAD_LIMIT=void 0,p.PAYLOAD_LIMIT=1e7},6351:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DcsHandler=p.DcsParser=void 0;var _=I(482),y=I(8742),d=I(5770),m=[],M=function(){function g(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return g.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=m},g.prototype.registerHandler=function(E,C){void 0===this._handlers[E]&&(this._handlers[E]=[]);var l=this._handlers[E];return l.push(C),{dispose:function(){var u=l.indexOf(C);-1!==u&&l.splice(u,1)}}},g.prototype.clearHandler=function(E){this._handlers[E]&&delete this._handlers[E]},g.prototype.setHandlerFallback=function(E){this._handlerFb=E},g.prototype.reset=function(){if(this._active.length)for(var E=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;E>=0;--E)this._active[E].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0},g.prototype.hook=function(E,C){if(this.reset(),this._ident=E,this._active=this._handlers[E]||m,this._active.length)for(var l=this._active.length-1;l>=0;l--)this._active[l].hook(C);else this._handlerFb(this._ident,"HOOK",C)},g.prototype.put=function(E,C,l){if(this._active.length)for(var u=this._active.length-1;u>=0;u--)this._active[u].put(E,C,l);else this._handlerFb(this._ident,"PUT",(0,_.utf32ToString)(E,C,l))},g.prototype.unhook=function(E,C){if(void 0===C&&(C=!0),this._active.length){var l=!1,u=this._active.length-1,c=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,l=C,c=this._stack.fallThrough,this._stack.paused=!1),!c&&!1===l){for(;u>=0&&!0!==(l=this._active[u].unhook(E));u--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,l;u--}for(;u>=0;u--)if((l=this._active[u].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",E);this._active=m,this._ident=0},g}();p.DcsParser=M;var A=new y.Params;A.addParam(0);var h=function(){function g(E){this._handler=E,this._data="",this._params=A,this._hitLimit=!1}return g.prototype.hook=function(E){this._params=E.length>1||E.params[0]?E.clone():A,this._data="",this._hitLimit=!1},g.prototype.put=function(E,C,l){this._hitLimit||(this._data+=(0,_.utf32ToString)(E,C,l),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},g.prototype.unhook=function(E){var C=this,l=!1;if(this._hitLimit)l=!1;else if(E&&(l=this._handler(this._data,this._params))instanceof Promise)return l.then(function(u){return C._params=A,C._data="",C._hitLimit=!1,u});return this._params=A,this._data="",this._hitLimit=!1,l},g}();p.DcsHandler=h},2015:function(ne,p,I){var _,y=this&&this.__extends||(_=function(l,u){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,D){c.__proto__=D}||function(c,D){for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(c[S]=D[S])})(l,u)},function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=l}_(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(p,"__esModule",{value:!0}),p.EscapeSequenceParser=p.VT500_TRANSITION_TABLE=p.TransitionTable=void 0;var d=I(844),m=I(8273),M=I(8742),A=I(6242),h=I(6351),g=function(){function l(u){this.table=new Uint8Array(u)}return l.prototype.setDefault=function(u,c){(0,m.fill)(this.table,u<<4|c)},l.prototype.add=function(u,c,D,S){this.table[c<<8|u]=D<<4|S},l.prototype.addMany=function(u,c,D,S){for(var w=0;w<u.length;w++)this.table[c<<8|u[w]]=D<<4|S},l}();p.TransitionTable=g;var E=160;p.VT500_TRANSITION_TABLE=function(){var l=new g(4095),u=Array.apply(null,Array(256)).map(function(k,V){return V}),c=function(k,V){return u.slice(k,V)},D=c(32,127),S=c(0,24);S.push(25),S.push.apply(S,c(28,32));var w,T=c(0,14);for(w in l.setDefault(1,0),l.addMany(D,0,2,0),T)l.addMany([24,26,153,154],w,3,0),l.addMany(c(128,144),w,3,0),l.addMany(c(144,152),w,3,0),l.add(156,w,0,0),l.add(27,w,11,1),l.add(157,w,4,8),l.addMany([152,158,159],w,0,7),l.add(155,w,11,3),l.add(144,w,11,9);return l.addMany(S,0,3,0),l.addMany(S,1,3,1),l.add(127,1,0,1),l.addMany(S,8,0,8),l.addMany(S,3,3,3),l.add(127,3,0,3),l.addMany(S,4,3,4),l.add(127,4,0,4),l.addMany(S,6,3,6),l.addMany(S,5,3,5),l.add(127,5,0,5),l.addMany(S,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(D,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(c(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(D,7,0,7),l.addMany(S,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(c(64,127),3,7,0),l.addMany(c(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(c(48,60),4,8,4),l.addMany(c(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(c(32,64),6,0,6),l.add(127,6,0,6),l.addMany(c(64,127),6,0,0),l.addMany(c(32,48),3,9,5),l.addMany(c(32,48),5,9,5),l.addMany(c(48,64),5,0,6),l.addMany(c(64,127),5,7,0),l.addMany(c(32,48),4,9,5),l.addMany(c(32,48),1,9,2),l.addMany(c(32,48),2,9,2),l.addMany(c(48,127),2,10,0),l.addMany(c(48,80),1,10,0),l.addMany(c(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(c(96,127),1,10,0),l.add(80,1,11,9),l.addMany(S,9,0,9),l.add(127,9,0,9),l.addMany(c(28,32),9,0,9),l.addMany(c(32,48),9,9,12),l.addMany(c(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(S,11,0,11),l.addMany(c(32,128),11,0,11),l.addMany(c(28,32),11,0,11),l.addMany(S,10,0,10),l.add(127,10,0,10),l.addMany(c(28,32),10,0,10),l.addMany(c(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(c(32,48),10,9,12),l.addMany(S,12,0,12),l.add(127,12,0,12),l.addMany(c(28,32),12,0,12),l.addMany(c(32,48),12,9,12),l.addMany(c(48,64),12,0,11),l.addMany(c(64,127),12,12,13),l.addMany(c(64,127),10,12,13),l.addMany(c(64,127),9,12,13),l.addMany(S,13,13,13),l.addMany(D,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(E,0,2,0),l.add(E,8,5,8),l.add(E,6,0,6),l.add(E,11,0,11),l.add(E,13,13,13),l}();var C=function(l){function u(c){void 0===c&&(c=p.VT500_TRANSITION_TABLE);var D=l.call(this)||this;return D._transitions=c,D._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},D.initialState=0,D.currentState=D.initialState,D._params=new M.Params,D._params.addParam(0),D._collect=0,D.precedingCodepoint=0,D._printHandlerFb=function(S,w,T){},D._executeHandlerFb=function(S){},D._csiHandlerFb=function(S,w){},D._escHandlerFb=function(S){},D._errorHandlerFb=function(S){return S},D._printHandler=D._printHandlerFb,D._executeHandlers=Object.create(null),D._csiHandlers=Object.create(null),D._escHandlers=Object.create(null),D._oscParser=new A.OscParser,D._dcsParser=new h.DcsParser,D._errorHandler=D._errorHandlerFb,D.registerEscHandler({final:"\\"},function(){return!0}),D}return y(u,l),u.prototype._identifier=function(c,D){void 0===D&&(D=[64,126]);var S=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if((S=c.prefix.charCodeAt(0))&&60>S||S>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var w=0;w<c.intermediates.length;++w){var T=c.intermediates.charCodeAt(w);if(32>T||T>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");S<<=8,S|=T}}if(1!==c.final.length)throw new Error("final must be a single byte");var k=c.final.charCodeAt(0);if(D[0]>k||k>D[1])throw new Error("final must be in range "+D[0]+" .. "+D[1]);return(S<<=8)|k},u.prototype.identToString=function(c){for(var D=[];c;)D.push(String.fromCharCode(255&c)),c>>=8;return D.reverse().join("")},u.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},u.prototype.setPrintHandler=function(c){this._printHandler=c},u.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},u.prototype.registerEscHandler=function(c,D){var S=this._identifier(c,[48,126]);void 0===this._escHandlers[S]&&(this._escHandlers[S]=[]);var w=this._escHandlers[S];return w.push(D),{dispose:function(){var T=w.indexOf(D);-1!==T&&w.splice(T,1)}}},u.prototype.clearEscHandler=function(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]},u.prototype.setEscHandlerFallback=function(c){this._escHandlerFb=c},u.prototype.setExecuteHandler=function(c,D){this._executeHandlers[c.charCodeAt(0)]=D},u.prototype.clearExecuteHandler=function(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]},u.prototype.setExecuteHandlerFallback=function(c){this._executeHandlerFb=c},u.prototype.registerCsiHandler=function(c,D){var S=this._identifier(c);void 0===this._csiHandlers[S]&&(this._csiHandlers[S]=[]);var w=this._csiHandlers[S];return w.push(D),{dispose:function(){var T=w.indexOf(D);-1!==T&&w.splice(T,1)}}},u.prototype.clearCsiHandler=function(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]},u.prototype.setCsiHandlerFallback=function(c){this._csiHandlerFb=c},u.prototype.registerDcsHandler=function(c,D){return this._dcsParser.registerHandler(this._identifier(c),D)},u.prototype.clearDcsHandler=function(c){this._dcsParser.clearHandler(this._identifier(c))},u.prototype.setDcsHandlerFallback=function(c){this._dcsParser.setHandlerFallback(c)},u.prototype.registerOscHandler=function(c,D){return this._oscParser.registerHandler(c,D)},u.prototype.clearOscHandler=function(c){this._oscParser.clearHandler(c)},u.prototype.setOscHandlerFallback=function(c){this._oscParser.setHandlerFallback(c)},u.prototype.setErrorHandler=function(c){this._errorHandler=c},u.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},u.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},u.prototype._preserveStack=function(c,D,S,w,T){this._parseStack.state=c,this._parseStack.handlers=D,this._parseStack.handlerPos=S,this._parseStack.transition=w,this._parseStack.chunkPos=T},u.prototype.parse=function(c,D,S){var w,T=0,k=0,V=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,V=this._parseStack.chunkPos+1;else{if(void 0===S||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var L=this._parseStack.handlers,H=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===S&&H>-1)for(;H>=0&&!0!==(w=L[H](this._params));H--)if(w instanceof Promise)return this._parseStack.handlerPos=H,w;this._parseStack.handlers=[];break;case 4:if(!1===S&&H>-1)for(;H>=0&&!0!==(w=L[H]());H--)if(w instanceof Promise)return this._parseStack.handlerPos=H,w;this._parseStack.handlers=[];break;case 6:if(w=this._dcsParser.unhook(24!==(T=c[this._parseStack.chunkPos])&&26!==T,S))return w;27===T&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=this._oscParser.end(24!==(T=c[this._parseStack.chunkPos])&&26!==T,S))return w;27===T&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,V=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var Z=V;Z<D;++Z){switch((k=this._transitions.table[this.currentState<<8|((T=c[Z])<160?T:E)])>>4){case 2:for(var $=Z+1;;++$){if($>=D||(T=c[$])<32||T>126&&T<E){this._printHandler(c,Z,$),Z=$-1;break}if(++$>=D||(T=c[$])<32||T>126&&T<E){this._printHandler(c,Z,$),Z=$-1;break}if(++$>=D||(T=c[$])<32||T>126&&T<E){this._printHandler(c,Z,$),Z=$-1;break}if(++$>=D||(T=c[$])<32||T>126&&T<E){this._printHandler(c,Z,$),Z=$-1;break}}break;case 3:this._executeHandlers[T]?this._executeHandlers[T]():this._executeHandlerFb(T),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:Z,code:T,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var z=(L=this._csiHandlers[this._collect<<8|T])?L.length-1:-1;z>=0&&!0!==(w=L[z](this._params));z--)if(w instanceof Promise)return this._preserveStack(3,L,z,k,Z),w;z<0&&this._csiHandlerFb(this._collect<<8|T,this._params),this.precedingCodepoint=0;break;case 8:do{switch(T){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(T-48)}}while(++Z<D&&(T=c[Z])>47&&T<60);Z--;break;case 9:this._collect<<=8,this._collect|=T;break;case 10:for(var N=this._escHandlers[this._collect<<8|T],O=N?N.length-1:-1;O>=0&&!0!==(w=N[O]());O--)if(w instanceof Promise)return this._preserveStack(4,N,O,k,Z),w;O<0&&this._escHandlerFb(this._collect<<8|T),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|T,this._params);break;case 13:for(var U=Z+1;;++U)if(U>=D||24===(T=c[U])||26===T||27===T||T>127&&T<E){this._dcsParser.put(c,Z,U),Z=U-1;break}break;case 14:if(w=this._dcsParser.unhook(24!==T&&26!==T))return this._preserveStack(6,[],0,k,Z),w;27===T&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var Y=Z+1;;Y++)if(Y>=D||(T=c[Y])<32||T>127&&T<E){this._oscParser.put(c,Z,Y),Z=Y-1;break}break;case 6:if(w=this._oscParser.end(24!==T&&26!==T))return this._preserveStack(5,[],0,k,Z),w;27===T&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&k}},u}(d.Disposable);p.EscapeSequenceParser=C},6242:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.OscHandler=p.OscParser=void 0;var _=I(5770),y=I(482),d=[],m=function(){function A(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return A.prototype.registerHandler=function(h,g){void 0===this._handlers[h]&&(this._handlers[h]=[]);var E=this._handlers[h];return E.push(g),{dispose:function(){var C=E.indexOf(g);-1!==C&&E.splice(C,1)}}},A.prototype.clearHandler=function(h){this._handlers[h]&&delete this._handlers[h]},A.prototype.setHandlerFallback=function(h){this._handlerFb=h},A.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=d},A.prototype.reset=function(){if(2===this._state)for(var h=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;h>=0;--h)this._active[h].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0},A.prototype._start=function(){if(this._active=this._handlers[this._id]||d,this._active.length)for(var h=this._active.length-1;h>=0;h--)this._active[h].start();else this._handlerFb(this._id,"START")},A.prototype._put=function(h,g,E){if(this._active.length)for(var C=this._active.length-1;C>=0;C--)this._active[C].put(h,g,E);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(h,g,E))},A.prototype.start=function(){this.reset(),this._state=1},A.prototype.put=function(h,g,E){if(3!==this._state){if(1===this._state)for(;g<E;){var C=h[g++];if(59===C){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+C-48}2===this._state&&E-g>0&&this._put(h,g,E)}},A.prototype.end=function(h,g){if(void 0===g&&(g=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var E=!1,C=this._active.length-1,l=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,E=g,l=this._stack.fallThrough,this._stack.paused=!1),!l&&!1===E){for(;C>=0&&!0!==(E=this._active[C].end(h));C--)if(E instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,E;C--}for(;C>=0;C--)if((E=this._active[C].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,E}else this._handlerFb(this._id,"END",h);this._active=d,this._id=-1,this._state=0}},A}();p.OscParser=m;var M=function(){function A(h){this._handler=h,this._data="",this._hitLimit=!1}return A.prototype.start=function(){this._data="",this._hitLimit=!1},A.prototype.put=function(h,g,E){this._hitLimit||(this._data+=(0,y.utf32ToString)(h,g,E),this._data.length>_.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},A.prototype.end=function(h){var g=this,E=!1;if(this._hitLimit)E=!1;else if(h&&(E=this._handler(this._data))instanceof Promise)return E.then(function(C){return g._data="",g._hitLimit=!1,C});return this._data="",this._hitLimit=!1,E},A}();p.OscHandler=M},8742:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Params=void 0;var I=2147483647,_=function(){function y(d,m){if(void 0===d&&(d=32),void 0===m&&(m=32),this.maxLength=d,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return y.fromArray=function(d){var m=new y;if(!d.length)return m;for(var M=Array.isArray(d[0])?1:0;M<d.length;++M){var A=d[M];if(Array.isArray(A))for(var h=0;h<A.length;++h)m.addSubParam(A[h]);else m.addParam(A)}return m},y.prototype.clone=function(){var d=new y(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d},y.prototype.toArray=function(){for(var d=[],m=0;m<this.length;++m){d.push(this.params[m]);var M=this._subParamsIdx[m]>>8,A=255&this._subParamsIdx[m];A-M>0&&d.push(Array.prototype.slice.call(this._subParams,M,A))}return d},y.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},y.prototype.addParam=function(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>I?I:d}},y.prototype.addSubParam=function(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>I?I:d,this._subParamsIdx[this.length-1]++}},y.prototype.hasSubParams=function(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0},y.prototype.getSubParams=function(d){var m=this._subParamsIdx[d]>>8,M=255&this._subParamsIdx[d];return M-m>0?this._subParams.subarray(m,M):null},y.prototype.getSubParamsAll=function(){for(var d={},m=0;m<this.length;++m){var M=this._subParamsIdx[m]>>8,A=255&this._subParamsIdx[m];A-M>0&&(d[m]=this._subParams.slice(M,A))}return d},y.prototype.addDigit=function(d){var m;if(!(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var M=this._digitIsSub?this._subParams:this.params,A=M[m-1];M[m-1]=~A?Math.min(10*A+d,I):d}},y}();p.Params=_},5741:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.AddonManager=void 0;var I=function(){function _(){this._addons=[]}return _.prototype.dispose=function(){for(var y=this._addons.length-1;y>=0;y--)this._addons[y].instance.dispose()},_.prototype.loadAddon=function(y,d){var m=this,M={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(M),d.dispose=function(){return m._wrappedAddonDispose(M)},d.activate(y)},_.prototype._wrappedAddonDispose=function(y){if(!y.isDisposed){for(var d=-1,m=0;m<this._addons.length;m++)if(this._addons[m]===y){d=m;break}if(-1===d)throw new Error("Could not dispose an addon that has not been loaded");y.isDisposed=!0,y.dispose.apply(y.instance),this._addons.splice(d,1)}},_}();p.AddonManager=I},8771:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferApiView=void 0;var _=I(3785),y=I(511),d=function(){function m(M,A){this._buffer=M,this.type=A}return m.prototype.init=function(M){return this._buffer=M,this},Object.defineProperty(m.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),m.prototype.getLine=function(M){var A=this._buffer.lines.get(M);if(A)return new _.BufferLineApiView(A)},m.prototype.getNullCell=function(){return new y.CellData},m}();p.BufferApiView=d},3785:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLineApiView=void 0;var _=I(511),y=function(){function d(m){this._line=m}return Object.defineProperty(d.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),d.prototype.getCell=function(m,M){if(!(m<0||m>=this._line.length))return M?(this._line.loadCell(m,M),M):this._line.loadCell(m,new _.CellData)},d.prototype.translateToString=function(m,M,A){return this._line.translateToString(m,M,A)},d}();p.BufferLineApiView=y},8285:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferNamespaceApi=void 0;var _=I(8771),y=I(8460),d=function(){function m(M){var A=this;this._core=M,this._onBufferChange=new y.EventEmitter,this._normal=new _.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new _.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return A._onBufferChange.fire(A.active)})}return Object.defineProperty(m.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),m}();p.BufferNamespaceApi=d},7975:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ParserApi=void 0;var I=function(){function _(y){this._core=y}return _.prototype.registerCsiHandler=function(y,d){return this._core.registerCsiHandler(y,function(m){return d(m.toArray())})},_.prototype.addCsiHandler=function(y,d){return this.registerCsiHandler(y,d)},_.prototype.registerDcsHandler=function(y,d){return this._core.registerDcsHandler(y,function(m,M){return d(m,M.toArray())})},_.prototype.addDcsHandler=function(y,d){return this.registerDcsHandler(y,d)},_.prototype.registerEscHandler=function(y,d){return this._core.registerEscHandler(y,d)},_.prototype.addEscHandler=function(y,d){return this.registerEscHandler(y,d)},_.prototype.registerOscHandler=function(y,d){return this._core.registerOscHandler(y,d)},_.prototype.addOscHandler=function(y,d){return this.registerOscHandler(y,d)},_}();p.ParserApi=I},7090:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeApi=void 0;var I=function(){function _(y){this._core=y}return _.prototype.register=function(y){this._core.unicodeService.register(y)},Object.defineProperty(_.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(y){this._core.unicodeService.activeVersion=y},enumerable:!1,configurable:!0}),_}();p.UnicodeApi=I},744:function(ne,p,I){var _,y=this&&this.__extends||(_=function(C,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var D in c)Object.prototype.hasOwnProperty.call(c,D)&&(u[D]=c[D])})(C,l)},function(C,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=C}_(C,l),C.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}),d=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},m=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.BufferService=p.MINIMUM_ROWS=p.MINIMUM_COLS=void 0;var M=I(2585),A=I(5295),h=I(8460),g=I(844);p.MINIMUM_COLS=2,p.MINIMUM_ROWS=1;var E=function(C){function l(u){var c=C.call(this)||this;return c._optionsService=u,c.isUserScrolling=!1,c._onResize=new h.EventEmitter,c._onScroll=new h.EventEmitter,c.cols=Math.max(u.options.cols||0,p.MINIMUM_COLS),c.rows=Math.max(u.options.rows||0,p.MINIMUM_ROWS),c.buffers=new A.BufferSet(u,c),c}return y(l,C),Object.defineProperty(l.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),l.prototype.dispose=function(){C.prototype.dispose.call(this),this.buffers.dispose()},l.prototype.resize=function(u,c){this.cols=u,this.rows=c,this.buffers.resize(u,c),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:u,rows:c})},l.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},l.prototype.scroll=function(u,c){void 0===c&&(c=!1);var D,S=this.buffer;(D=this._cachedBlankLine)&&D.length===this.cols&&D.getFg(0)===u.fg&&D.getBg(0)===u.bg||(D=S.getBlankLine(u,c),this._cachedBlankLine=D),D.isWrapped=c;var w=S.ybase+S.scrollTop,T=S.ybase+S.scrollBottom;if(0===S.scrollTop){var k=S.lines.isFull;T===S.lines.length-1?k?S.lines.recycle().copyFrom(D):S.lines.push(D.clone()):S.lines.splice(T+1,0,D.clone()),k?this.isUserScrolling&&(S.ydisp=Math.max(S.ydisp-1,0)):(S.ybase++,this.isUserScrolling||S.ydisp++)}else S.lines.shiftElements(w+1,T-w+1-1,-1),S.lines.set(T,D.clone());this.isUserScrolling||(S.ydisp=S.ybase),this._onScroll.fire(S.ydisp)},l.prototype.scrollLines=function(u,c,D){var S=this.buffer;if(u<0){if(0===S.ydisp)return;this.isUserScrolling=!0}else u+S.ydisp>=S.ybase&&(this.isUserScrolling=!1);var w=S.ydisp;S.ydisp=Math.max(Math.min(S.ydisp+u,S.ybase),0),w!==S.ydisp&&(c||this._onScroll.fire(S.ydisp))},l.prototype.scrollPages=function(u){this.scrollLines(u*(this.rows-1))},l.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},l.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},l.prototype.scrollToLine=function(u){var c=u-this.buffer.ydisp;0!==c&&this.scrollLines(c)},d([m(0,M.IOptionsService)],l)}(g.Disposable);p.BufferService=E},7994:(ne,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CharsetService=void 0;var I=function(){function _(){this.glevel=0,this._charsets=[]}return _.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},_.prototype.setgLevel=function(y){this.glevel=y,this.charset=this._charsets[y]},_.prototype.setgCharset=function(y,d){this._charsets[y]=d,this.glevel===y&&(this.charset=d)},_}();p.CharsetService=I},1753:function(ne,p,I){var _=this&&this.__decorate||function(C,l,u,c){var D,S=arguments.length,w=S<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,l,u,c);else for(var T=C.length-1;T>=0;T--)(D=C[T])&&(w=(S<3?D(w):S>3?D(l,u,w):D(l,u))||w);return S>3&&w&&Object.defineProperty(l,u,w),w},y=this&&this.__param||function(C,l){return function(u,c){l(u,c,C)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreMouseService=void 0;var d=I(2585),m=I(8460),M={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(C){return 4!==C.button&&1===C.action&&(C.ctrl=!1,C.alt=!1,C.shift=!1,!0)}},VT200:{events:19,restrict:function(C){return 32!==C.action}},DRAG:{events:23,restrict:function(C){return 32!==C.action||3!==C.button}},ANY:{events:31,restrict:function(C){return!0}}};function A(C,l){var u=(C.ctrl?16:0)|(C.shift?4:0)|(C.alt?8:0);return 4===C.button?(u|=64,u|=C.action):(u|=3&C.button,4&C.button&&(u|=64),8&C.button&&(u|=128),32===C.action?u|=32:0!==C.action||l||(u|=3)),u}var h=String.fromCharCode,g={DEFAULT:function(C){var l=[A(C,!1)+32,C.col+32,C.row+32];return l[0]>255||l[1]>255||l[2]>255?"":"\x1b[M"+h(l[0])+h(l[1])+h(l[2])},SGR:function(C){var l=0===C.action&&4!==C.button?"m":"M";return"\x1b[<"+A(C,!0)+";"+C.col+";"+C.row+l}},E=function(){function C(l,u){this._bufferService=l,this._coreService=u,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new m.EventEmitter,this._lastEvent=null;for(var c=0,D=Object.keys(M);c<D.length;c++){var S=D[c];this.addProtocol(S,M[S])}for(var w=0,T=Object.keys(g);w<T.length;w++){var k=T[w];this.addEncoding(k,g[k])}this.reset()}return C.prototype.addProtocol=function(l,u){this._protocols[l]=u},C.prototype.addEncoding=function(l,u){this._encodings[l]=u},Object.defineProperty(C.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(l){if(!this._protocols[l])throw new Error('unknown protocol "'+l+'"');this._activeProtocol=l,this._onProtocolChange.fire(this._protocols[l].events)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(l){if(!this._encodings[l])throw new Error('unknown encoding "'+l+'"');this._activeEncoding=l},enumerable:!1,configurable:!0}),C.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(C.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),C.prototype.triggerMouseEvent=function(l){if(l.col<0||l.col>=this._bufferService.cols||l.row<0||l.row>=this._bufferService.rows||4===l.button&&32===l.action||3===l.button&&32!==l.action||4!==l.button&&(2===l.action||3===l.action)||(l.col++,l.row++,32===l.action&&this._lastEvent&&this._compareEvents(this._lastEvent,l))||!this._protocols[this._activeProtocol].restrict(l))return!1;var u=this._encodings[this._activeEncoding](l);return u&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(u):this._coreService.triggerDataEvent(u,!0)),this._lastEvent=l,!0},C.prototype.explainEvents=function(l){return{down:!!(1&l),up:!!(2&l),drag:!!(4&l),move:!!(8&l),wheel:!!(16&l)}},C.prototype._compareEvents=function(l,u){return l.col===u.col&&l.row===u.row&&l.button===u.button&&l.action===u.action&&l.ctrl===u.ctrl&&l.alt===u.alt&&l.shift===u.shift},_([y(0,d.IBufferService),y(1,d.ICoreService)],C)}();p.CoreMouseService=E},6975:function(ne,p,I){var _,y=this&&this.__extends||(_=function(u,c){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,S){D.__proto__=S}||function(D,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(D[w]=S[w])})(u,c)},function(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function D(){this.constructor=u}_(u,c),u.prototype=null===c?Object.create(c):(D.prototype=c.prototype,new D)}),d=this&&this.__decorate||function(u,c,D,S){var w,T=arguments.length,k=T<3?c:null===S?S=Object.getOwnPropertyDescriptor(c,D):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(u,c,D,S);else for(var V=u.length-1;V>=0;V--)(w=u[V])&&(k=(T<3?w(k):T>3?w(c,D,k):w(c,D))||k);return T>3&&k&&Object.defineProperty(c,D,k),k},m=this&&this.__param||function(u,c){return function(D,S){c(D,S,u)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreService=void 0;var M=I(2585),A=I(8460),h=I(1439),g=I(844),E=Object.freeze({insertMode:!1}),C=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),l=function(u){function c(D,S,w,T){var k=u.call(this)||this;return k._bufferService=S,k._logService=w,k._optionsService=T,k.isCursorInitialized=!1,k.isCursorHidden=!1,k._onData=k.register(new A.EventEmitter),k._onUserInput=k.register(new A.EventEmitter),k._onBinary=k.register(new A.EventEmitter),k._scrollToBottom=D,k.register({dispose:function(){return k._scrollToBottom=void 0}}),k.modes=(0,h.clone)(E),k.decPrivateModes=(0,h.clone)(C),k}return y(c,u),Object.defineProperty(c.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),c.prototype.reset=function(){this.modes=(0,h.clone)(E),this.decPrivateModes=(0,h.clone)(C)},c.prototype.triggerDataEvent=function(D,S){if(void 0===S&&(S=!1),!this._optionsService.options.disableStdin){var w=this._bufferService.buffer;w.ybase!==w.ydisp&&this._scrollToBottom(),S&&this._onUserInput.fire(),this._logService.debug('sending data "'+D+'"',function(){return D.split("").map(function(T){return T.charCodeAt(0)})}),this._onData.fire(D)}},c.prototype.triggerBinaryEvent=function(D){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+D+'"',function(){return D.split("").map(function(S){return S.charCodeAt(0)})}),this._onBinary.fire(D))},d([m(1,M.IBufferService),m(2,M.ILogService),m(3,M.IOptionsService)],c)}(g.Disposable);p.CoreService=l},3730:function(ne,p,I){var _=this&&this.__decorate||function(M,A,h,g){var E,C=arguments.length,l=C<3?A:null===g?g=Object.getOwnPropertyDescriptor(A,h):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(M,A,h,g);else for(var u=M.length-1;u>=0;u--)(E=M[u])&&(l=(C<3?E(l):C>3?E(A,h,l):E(A,h))||l);return C>3&&l&&Object.defineProperty(A,h,l),l},y=this&&this.__param||function(M,A){return function(h,g){A(h,g,M)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DirtyRowService=void 0;var d=I(2585),m=function(){function M(A){this._bufferService=A,this.clearRange()}return Object.defineProperty(M.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),M.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},M.prototype.markDirty=function(A){A<this._start?this._start=A:A>this._end&&(this._end=A)},M.prototype.markRangeDirty=function(A,h){if(A>h){var g=A;A=h,h=g}A<this._start&&(this._start=A),h>this._end&&(this._end=h)},M.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},_([y(0,d.IBufferService)],M)}();p.DirtyRowService=m},4348:function(ne,p,I){var _=this&&this.__spreadArray||function(A,h,g){if(g||2===arguments.length)for(var E,C=0,l=h.length;C<l;C++)!E&&C in h||(E||(E=Array.prototype.slice.call(h,0,C)),E[C]=h[C]);return A.concat(E||Array.prototype.slice.call(h))};Object.defineProperty(p,"__esModule",{value:!0}),p.InstantiationService=p.ServiceCollection=void 0;var y=I(2585),d=I(8343),m=function(){function A(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];this._entries=new Map;for(var E=0,C=h;E<C.length;E++){var l=C[E];this.set(l[0],l[1])}}return A.prototype.set=function(h,g){var E=this._entries.get(h);return this._entries.set(h,g),E},A.prototype.forEach=function(h){this._entries.forEach(function(g,E){return h(E,g)})},A.prototype.has=function(h){return this._entries.has(h)},A.prototype.get=function(h){return this._entries.get(h)},A}();p.ServiceCollection=m;var M=function(){function A(){this._services=new m,this._services.set(y.IInstantiationService,this)}return A.prototype.setService=function(h,g){this._services.set(h,g)},A.prototype.getService=function(h){return this._services.get(h)},A.prototype.createInstance=function(h){for(var g=[],E=1;E<arguments.length;E++)g[E-1]=arguments[E];for(var C=(0,d.getServiceDependencies)(h).sort(function(T,k){return T.index-k.index}),l=[],u=0,c=C;u<c.length;u++){var D=c[u],S=this._services.get(D.id);if(!S)throw new Error("[createInstance] "+h.name+" depends on UNKNOWN service "+D.id+".");l.push(S)}var w=C.length>0?C[0].index:g.length;if(g.length!==w)throw new Error("[createInstance] First service dependency of "+h.name+" at position "+(w+1)+" conflicts with "+g.length+" static arguments");return new(h.bind.apply(h,_([void 0],_(_([],g,!0),l,!0),!1)))},A}();p.InstantiationService=M},7866:function(ne,p,I){var _=this&&this.__decorate||function(h,g,E,C){var l,u=arguments.length,c=u<3?g:null===C?C=Object.getOwnPropertyDescriptor(g,E):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(h,g,E,C);else for(var D=h.length-1;D>=0;D--)(l=h[D])&&(c=(u<3?l(c):u>3?l(g,E,c):l(g,E))||c);return u>3&&c&&Object.defineProperty(g,E,c),c},y=this&&this.__param||function(h,g){return function(E,C){g(E,C,h)}},d=this&&this.__spreadArray||function(h,g,E){if(E||2===arguments.length)for(var C,l=0,u=g.length;l<u;l++)!C&&l in g||(C||(C=Array.prototype.slice.call(g,0,l)),C[l]=g[l]);return h.concat(C||Array.prototype.slice.call(g))};Object.defineProperty(p,"__esModule",{value:!0}),p.LogService=void 0;var m=I(2585),M={debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF},A=function(){function h(g){var E=this;this._optionsService=g,this.logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(C){"logLevel"===C&&E._updateLogLevel()})}return h.prototype._updateLogLevel=function(){this.logLevel=M[this._optionsService.options.logLevel]},h.prototype._evalLazyOptionalParams=function(g){for(var E=0;E<g.length;E++)"function"==typeof g[E]&&(g[E]=g[E]())},h.prototype._log=function(g,E,C){this._evalLazyOptionalParams(C),g.call.apply(g,d([console,"xterm.js: "+E],C,!1))},h.prototype.debug=function(g){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];this.logLevel<=m.LogLevelEnum.DEBUG&&this._log(console.log,g,E)},h.prototype.info=function(g){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];this.logLevel<=m.LogLevelEnum.INFO&&this._log(console.info,g,E)},h.prototype.warn=function(g){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];this.logLevel<=m.LogLevelEnum.WARN&&this._log(console.warn,g,E)},h.prototype.error=function(g){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];this.logLevel<=m.LogLevelEnum.ERROR&&this._log(console.error,g,E)},_([y(0,m.IOptionsService)],h)}();p.LogService=A},7302:function(ne,p,I){var _=this&&this.__assign||function(){return _=Object.assign||function(A){for(var h,g=1,E=arguments.length;g<E;g++)for(var C in h=arguments[g])Object.prototype.hasOwnProperty.call(h,C)&&(A[C]=h[C]);return A},_.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.OptionsService=p.DEFAULT_OPTIONS=p.DEFAULT_BELL_SOUND=void 0;var y=I(8460),d=I(6114);p.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",p.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:p.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var m=["normal","bold","100","200","300","400","500","600","700","800","900"],M=function(){function A(h){for(var g in this._onOptionChange=new y.EventEmitter,this._options=_({},p.DEFAULT_OPTIONS),h)if(g in this._options)try{this._options[g]=this._sanitizeAndValidateOption(g,h[g])}catch(C){console.error(C)}this.options=this._setupOptions(this._options)}return Object.defineProperty(A.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),A.prototype._setupOptions=function(h){var g=this,E=_({},h),C=function(u){Object.defineProperty(E,u,{get:function(){if(!(u in p.DEFAULT_OPTIONS))throw new Error('No option with key "'+u+'"');return g._options[u]},set:function(c){if(!(u in p.DEFAULT_OPTIONS))throw new Error('No option with key "'+u+'"');c=g._sanitizeAndValidateOption(u,c),g._options[u]!==c&&(g._options[u]=c,g._onOptionChange.fire(u))}})};for(var l in E)C(l);return E},A.prototype.setOption=function(h,g){this.options[h]=g},A.prototype._sanitizeAndValidateOption=function(h,g){switch(h){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":g||(g=p.DEFAULT_OPTIONS[h]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof g&&1<=g&&g<=1e3)break;g=m.includes(g)?g:p.DEFAULT_OPTIONS[h];break;case"cursorWidth":g=Math.floor(g);case"lineHeight":case"tabStopWidth":if(g<1)throw new Error(h+" cannot be less than 1, value: "+g);break;case"minimumContrastRatio":g=Math.max(1,Math.min(21,Math.round(10*g)/10));break;case"scrollback":if((g=Math.min(g,4294967295))<0)throw new Error(h+" cannot be less than 0, value: "+g);break;case"fastScrollSensitivity":case"scrollSensitivity":if(g<=0)throw new Error(h+" cannot be less than or equal to 0, value: "+g);case"rows":case"cols":if(!g&&0!==g)throw new Error(h+" must be numeric, value: "+g)}return g},A.prototype.getOption=function(h){return this.options[h]},A}();p.OptionsService=M},8343:(ne,p)=>{function I(_,y,d){y.di$target===y?y.di$dependencies.push({id:_,index:d}):(y.di$dependencies=[{id:_,index:d}],y.di$target=y)}Object.defineProperty(p,"__esModule",{value:!0}),p.createDecorator=p.getServiceDependencies=p.serviceRegistry=void 0,p.serviceRegistry=new Map,p.getServiceDependencies=function(_){return _.di$dependencies||[]},p.createDecorator=function(_){if(p.serviceRegistry.has(_))return p.serviceRegistry.get(_);var y=function(d,m,M){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");I(y,d,M)};return y.toString=function(){return _},p.serviceRegistry.set(_,y),y}},2585:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.IUnicodeService=p.IOptionsService=p.ILogService=p.LogLevelEnum=p.IInstantiationService=p.IDirtyRowService=p.ICharsetService=p.ICoreService=p.ICoreMouseService=p.IBufferService=void 0;var _,y=I(8343);p.IBufferService=(0,y.createDecorator)("BufferService"),p.ICoreMouseService=(0,y.createDecorator)("CoreMouseService"),p.ICoreService=(0,y.createDecorator)("CoreService"),p.ICharsetService=(0,y.createDecorator)("CharsetService"),p.IDirtyRowService=(0,y.createDecorator)("DirtyRowService"),p.IInstantiationService=(0,y.createDecorator)("InstantiationService"),(_=p.LogLevelEnum||(p.LogLevelEnum={}))[_.DEBUG=0]="DEBUG",_[_.INFO=1]="INFO",_[_.WARN=2]="WARN",_[_.ERROR=3]="ERROR",_[_.OFF=4]="OFF",p.ILogService=(0,y.createDecorator)("LogService"),p.IOptionsService=(0,y.createDecorator)("OptionsService"),p.IUnicodeService=(0,y.createDecorator)("UnicodeService")},1480:(ne,p,I)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeService=void 0;var _=I(8460),y=I(225),d=function(){function m(){this._providers=Object.create(null),this._active="",this._onChange=new _.EventEmitter;var M=new y.UnicodeV6;this.register(M),this._active=M.version,this._activeProvider=M}return Object.defineProperty(m.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeVersion",{get:function(){return this._active},set:function(M){if(!this._providers[M])throw new Error('unknown Unicode version "'+M+'"');this._active=M,this._activeProvider=this._providers[M],this._onChange.fire(M)},enumerable:!1,configurable:!0}),m.prototype.register=function(M){this._providers[M.version]=M},m.prototype.wcwidth=function(M){return this._activeProvider.wcwidth(M)},m.prototype.getStringCellWidth=function(M){for(var A=0,h=M.length,g=0;g<h;++g){var E=M.charCodeAt(g);if(55296<=E&&E<=56319){if(++g>=h)return A+this.wcwidth(E);var C=M.charCodeAt(g);56320<=C&&C<=57343?E=1024*(E-55296)+C-56320+65536:A+=this.wcwidth(C)}A+=this.wcwidth(E)}return A},m}();p.UnicodeService=d}},Ae={};function ge(ne){var p=Ae[ne];if(void 0!==p)return p.exports;var I=Ae[ne]={exports:{}};return Ce[ne].call(I.exports,I,I.exports,ge),I.exports}var te={};return(()=>{var ne=te;Object.defineProperty(ne,"__esModule",{value:!0}),ne.Terminal=void 0;var p=ge(3236),I=ge(9042),_=ge(7975),y=ge(7090),d=ge(5741),m=ge(8285),M=["cols","rows"],A=function(){function h(g){var E=this;this._core=new p.Terminal(g),this._addonManager=new d.AddonManager,this._publicOptions={};var C=function(c){Object.defineProperty(l._publicOptions,c,{get:function(){return E._core.options[c]},set:function(D){E._checkReadonlyOptions(c),E._core.options[c]=D}})},l=this;for(var u in this._core.options)C(u)}return h.prototype._checkReadonlyOptions=function(g){if(M.includes(g))throw new Error('Option "'+g+'" can only be set in the constructor')},h.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(h.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new _.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"unicode",{get:function(){return this._checkProposedApi(),new y.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new m.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"modes",{get:function(){var g=this._core.coreService.decPrivateModes,E="none";switch(this._core.coreMouseService.activeProtocol){case"X10":E="x10";break;case"VT200":E="vt200";break;case"DRAG":E="drag";break;case"ANY":E="any"}return{applicationCursorKeysMode:g.applicationCursorKeys,applicationKeypadMode:g.applicationKeypad,bracketedPasteMode:g.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:E,originMode:g.origin,reverseWraparoundMode:g.reverseWraparound,sendFocusMode:g.sendFocus,wraparoundMode:g.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"options",{get:function(){return this._publicOptions},set:function(g){for(var E in g)this._publicOptions[E]=g[E]},enumerable:!1,configurable:!0}),h.prototype.blur=function(){this._core.blur()},h.prototype.focus=function(){this._core.focus()},h.prototype.resize=function(g,E){this._verifyIntegers(g,E),this._core.resize(g,E)},h.prototype.open=function(g){this._core.open(g)},h.prototype.attachCustomKeyEventHandler=function(g){this._core.attachCustomKeyEventHandler(g)},h.prototype.registerLinkMatcher=function(g,E,C){return this._checkProposedApi(),this._core.registerLinkMatcher(g,E,C)},h.prototype.deregisterLinkMatcher=function(g){this._checkProposedApi(),this._core.deregisterLinkMatcher(g)},h.prototype.registerLinkProvider=function(g){return this._checkProposedApi(),this._core.registerLinkProvider(g)},h.prototype.registerCharacterJoiner=function(g){return this._checkProposedApi(),this._core.registerCharacterJoiner(g)},h.prototype.deregisterCharacterJoiner=function(g){this._checkProposedApi(),this._core.deregisterCharacterJoiner(g)},h.prototype.registerMarker=function(g){return this._checkProposedApi(),this._verifyIntegers(g),this._core.addMarker(g)},h.prototype.addMarker=function(g){return this.registerMarker(g)},h.prototype.hasSelection=function(){return this._core.hasSelection()},h.prototype.select=function(g,E,C){this._verifyIntegers(g,E,C),this._core.select(g,E,C)},h.prototype.getSelection=function(){return this._core.getSelection()},h.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},h.prototype.clearSelection=function(){this._core.clearSelection()},h.prototype.selectAll=function(){this._core.selectAll()},h.prototype.selectLines=function(g,E){this._verifyIntegers(g,E),this._core.selectLines(g,E)},h.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},h.prototype.scrollLines=function(g){this._verifyIntegers(g),this._core.scrollLines(g)},h.prototype.scrollPages=function(g){this._verifyIntegers(g),this._core.scrollPages(g)},h.prototype.scrollToTop=function(){this._core.scrollToTop()},h.prototype.scrollToBottom=function(){this._core.scrollToBottom()},h.prototype.scrollToLine=function(g){this._verifyIntegers(g),this._core.scrollToLine(g)},h.prototype.clear=function(){this._core.clear()},h.prototype.write=function(g,E){this._core.write(g,E)},h.prototype.writeUtf8=function(g,E){this._core.write(g,E)},h.prototype.writeln=function(g,E){this._core.write(g),this._core.write("\r\n",E)},h.prototype.paste=function(g){this._core.paste(g)},h.prototype.getOption=function(g){return this._core.optionsService.getOption(g)},h.prototype.setOption=function(g,E){this._checkReadonlyOptions(g),this._core.optionsService.setOption(g,E)},h.prototype.refresh=function(g,E){this._verifyIntegers(g,E),this._core.refresh(g,E)},h.prototype.reset=function(){this._core.reset()},h.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},h.prototype.loadAddon=function(g){return this._addonManager.loadAddon(this,g)},Object.defineProperty(h,"strings",{get:function(){return I},enumerable:!1,configurable:!0}),h.prototype._verifyIntegers=function(){for(var g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];for(var C=0,l=g;C<l.length;C++){var u=l[C];if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}},h}();ne.Terminal=A})(),te})()},926:qe=>{function Ce(ge,te,ne,p,I,_,y){try{var d=ge[_](y),m=d.value}catch(M){return void ne(M)}d.done?te(m):Promise.resolve(m).then(p,I)}qe.exports=function(ge){return function(){var te=this,ne=arguments;return new Promise(function(p,I){var _=ge.apply(te,ne);function y(m){Ce(_,p,I,y,d,"next",m)}function d(m){Ce(_,p,I,y,d,"throw",m)}y(void 0)})}},qe.exports.default=qe.exports,qe.exports.__esModule=!0}},qe=>{qe(qe.s=605)}]);